!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/geojson-mapbox/",e(e.s=206)}([function(t,e,n){"use strict";t.exports=n(213)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0;var i=n(402),o=r(i),a=n(404),s=r(a),l=n(424),u=r(l),c=n(425),p=r(c),f=n(426),h=r(f),d=n(427),m=r(d);e.hover=p.default,e.handleHover=p.default,e.handleActive=h.default,e.loop=m.default;var y=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=(0,o.default)(n),a=(0,s.default)(t,i);return(0,u.default)(a)};e.default=y},function(t,e,n){t.exports=n(226)()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(428);Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return r(i).default}});var o=n(165);Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return r(o).default}});var a=n(431);Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return r(a).default}});var s=n(432);Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return r(s).default}});var l=n(434);Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return r(l).default}});var u=n(435);Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return r(u).default}});var c=n(167);Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return r(c).default}});var p=n(442);Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return r(p).default}})},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var r=n(124),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.red=void 0;var i=n(439),o=r(i),a=n(441),s=r(a);e.default={simpleCheckForValidColor:function(t){var e=["r","g","b","a","h","s","l","v"],n=0,r=0;return(0,o.default)(e,function(e){if(t[e]&&(n+=1,isNaN(t[e])||(r+=1),"s"===e||"l"===e)){/^\d+%$/.test(t[e])&&(r+=1)}}),n===r&&t},toState:function(t,e){var n=t.hex?(0,s.default)(t.hex):(0,s.default)(t),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=e||0,i.h=e||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:t.h||e||r.h,source:t.source}},isValidHex:function(t){var e="#"===String(t).charAt(0)?1:0;return t.length!==4+e&&t.length<7+e&&(0,s.default)(t).isValid()},getContrastingColor:function(t){if(!t)return"#fff";var e=this.toState(t);return"transparent"===e.hex?"rgba(0,0,0,0.4)":(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3>=128?"#000":"#fff"}};e.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(t,e,n){"use strict";function r(t){if(!Number.isFinite(t))throw new Error("Invalid number "+t);return t}function i(t){return Math.round(t/h.EPSILON)*h.EPSILON}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precision,r=void 0===n?h.precision||4:n;return t=i(t),parseFloat(t.toPrecision(r))}function a(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&void 0!==t.length}function s(t){return t.clone?t.clone():new Array(t)}function l(t,e){if(a(t)){for(var n=s(t),r=0;r<n.length;++r)n[r]=e(n[r],r,n);return n}return e(t)}function u(t){return l(t,function(t){return t/180*Math.PI})}function c(t){return l(t,function(t){return 180*t/Math.PI})}function p(t,e,n){return l(t,function(t){return Math.max(e,Math.min(n,t))})}function f(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!f(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=h.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}n.d(e,"c",function(){return h}),e.a=r,e.f=o,e.g=u,e.d=c,e.b=p,e.e=f;var h={};h.EPSILON=1e-12,h.debug=!0,h.precision=4,h.printTypes=!1,h.printDegrees=!1,h.printRowMajor=!0},function(t,e,n){function r(t,e){return(s(t)?i:a)(t,o(e,3))}var i=n(69),o=n(37),a=n(352),s=n(6);t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(_.isFunction(t)){if(k)return t.name;var e=t.toString(),n=e.match(S);return n&&n[1]}}function l(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(k||!_.isFunction(t))return _.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function c(t){return l(u(t.actual),128)+" "+t.operator+" "+l(u(t.expected),128)}function p(t,e,n,r,i){throw new E.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function f(t,e){t||p(t,!0,e,"==",E.ok)}function h(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var l=s.actual.indexOf(t);return-1!==l&&l===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),m(t,e,n,s))}return n?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function m(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(_.isPrimitive(t)||_.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=w.call(t),e=w.call(e),h(t,e,n);var a,s,l=C(t),u=C(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),s=l.length-1;s>=0;s--)if(l[s]!==u[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!h(t[a],e[a],n,r))return!1;return!0}function y(t,e,n){h(t,e,!0)&&p(t,e,n,"notDeepStrictEqual",y)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function g(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,n,r){var i;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=g(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&p(i,n,"Missing expected exception"+r);var o="string"===typeof r,a=!t&&_.isError(i),s=!t&&i&&!n;if((a&&o&&v(i,n)||s)&&p(i,n,"Got unwanted exception"+r),t&&i&&n&&!v(i,n)||!t&&i)throw i}var _=n(512),x=Object.prototype.hasOwnProperty,w=Array.prototype.slice,k=function(){return"foo"===function(){}.name}(),E=t.exports=f,S=/\s*function\s+([^\(\s]*)\s*/;E.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var e=t.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},_.inherits(E.AssertionError,Error),E.fail=p,E.ok=f,E.equal=function(t,e,n){t!=e&&p(t,e,n,"==",E.equal)},E.notEqual=function(t,e,n){t==e&&p(t,e,n,"!=",E.notEqual)},E.deepEqual=function(t,e,n){h(t,e,!1)||p(t,e,n,"deepEqual",E.deepEqual)},E.deepStrictEqual=function(t,e,n){h(t,e,!0)||p(t,e,n,"deepStrictEqual",E.deepStrictEqual)},E.notDeepEqual=function(t,e,n){h(t,e,!1)&&p(t,e,n,"notDeepEqual",E.notDeepEqual)},E.notDeepStrictEqual=y,E.strictEqual=function(t,e,n){t!==e&&p(t,e,n,"===",E.strictEqual)},E.notStrictEqual=function(t,e,n){t===e&&p(t,e,n,"!==",E.notStrictEqual)},E.throws=function(t,e,n){b(!0,t,e,n)},E.doesNotThrow=function(t,e,n){b(!1,t,e,n)},E.ifError=function(t){if(t)throw t};var C=Object.keys||function(t){var e=[];for(var n in t)x.call(t,n)&&e.push(n);return e}}).call(e,n(7))},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(302),o=n(307);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?l:s:u&&u in Object(t)?o(t):a(t)}var i=n(19),o=n(303),a=n(304),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(29),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p={captureScroll:l.a.bool,captureDrag:l.a.bool,captureClick:l.a.bool,captureDoubleClick:l.a.bool},f={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},h={viewport:l.a.instanceOf(u.a),isDragging:l.a.bool,eventManager:l.a.object},d={captureScroll:"wheel",captureDrag:"panstart",captureClick:"click",captureDoubleClick:"dblclick"},m=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._events=null,n._onContainerLoad=n._onContainerLoad.bind(n),n}return o(e,t),c(e,[{key:"_onContainerLoad",value:function(t){var e=this.context.eventManager;if(e){var n=this._events;if(n&&(e.off(n),n=null),t){n={};for(var r in d){var i=this.props[r],o=d[r];i&&(n[o]=this._captureEvent)}e.on(n,t)}this._events=n}}},{key:"_captureEvent",value:function(t){t.stopPropagation()}},{key:"render",value:function(){return null}}]),e}(a.Component);e.a=m,m.propTypes=p,m.defaultProps=f,m.contextTypes=h},function(t,e,n){"use strict";function r(t){var e={};switch(t){case"top":case"top center":e={attachment:"bottom center",targetAttachment:"top center"};break;case"bottom":case"bottom center":e={attachment:"top center",targetAttachment:"bottom center"};break;case"left":case"left center":e={attachment:"middle right",targetAttachment:"middle left"};break;case"right":case"right center":e={attachment:"middle left",targetAttachment:"middle right"};break;case"top left":e={attachment:"bottom left",targetAttachment:"top left"};break;case"top right":e={attachment:"bottom right",targetAttachment:"top right"};break;case"bottom left":e={attachment:"top left",targetAttachment:"bottom left"};break;case"bottom right":e={attachment:"top right",targetAttachment:"bottom right"};break;case"right top":e={attachment:"top left",targetAttachment:"top right"};break;case"right bottom":e={attachment:"bottom left",targetAttachment:"bottom right"};break;case"left top":e={attachment:"top right",targetAttachment:"top left"};break;case"left bottom":e={attachment:"bottom right",targetAttachment:"bottom left"};break;default:e={attachment:"top center",targetAttachment:"bottom center"}}return e}function i(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function o(t){document.body.style.paddingRight=t>0?t+"px":null}function a(){return document.body.clientWidth<window.innerWidth}function s(){return parseInt(window.getComputedStyle(document.body,null).getPropertyValue("padding-right")||0,10)}function l(){var t=i(),e=document.querySelectorAll(".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed")[0],n=e?parseInt(e.style.paddingRight||0,10):0;a()&&o(n+t)}function u(t,e){return e?t.split(" ").map(function(t){return e[t]||t}).join(" "):t}function c(t,e){var n={};return Object.keys(t).forEach(function(r){-1===e.indexOf(r)&&(n[r]=t[r])}),n}function p(t,e){var n=t.className,r=t.cssModule,i=t.tabId,o=t.tag,a=D(t,["className","cssModule","tabId","tag"]),s=u(v()("tab-pane",n,{active:i===e.activeTabId}),r);return h.a.createElement(o,I({},a,{className:s}))}n.d(e,"c",function(){return F}),n.d(e,"l",function(){return H}),n.d(e,"b",function(){return K}),n.d(e,"j",function(){return tt}),n.d(e,"k",function(){return rt}),n.d(e,"a",function(){return Ft}),n.d(e,"h",function(){return An}),n.d(e,"d",function(){return In}),n.d(e,"e",function(){return Fn}),n.d(e,"g",function(){return sr}),n.d(e,"f",function(){return Tr}),n.d(e,"i",function(){return Ur});var f=n(0),h=n.n(f),d=n(2),m=n.n(d),y=n(113),v=n.n(y),g=n(251),b=n.n(g),_=n(34),x=n.n(_),w=n(252),k=n.n(w),E=n(253),S=n.n(E),C=n(254),T=n.n(C),O=n(255),M=(n.n(O),["top","bottom","left","right","top left","top center","top right","right top","right middle","right bottom","bottom right","bottom center","bottom left","left top","left middle","left bottom"]),P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),j=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},D=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},R=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},N={tag:m.a.oneOfType([m.a.func,m.a.string]),fluid:m.a.bool,className:m.a.string,cssModule:m.a.object},B={tag:"div"},F=function(t){var e=t.className,n=t.cssModule,r=t.fluid,i=t.tag,o=D(t,["className","cssModule","fluid","tag"]),a=u(v()(e,r?"container-fluid":"container"),n);return h.a.createElement(i,I({},o,{className:a}))};F.propTypes=N,F.defaultProps=B;var U={tag:m.a.oneOfType([m.a.func,m.a.string]),noGutters:m.a.bool,className:m.a.string,cssModule:m.a.object},V={tag:"div"},H=function(t){var e=t.className,n=t.cssModule,r=t.noGutters,i=t.tag,o=D(t,["className","cssModule","noGutters","tag"]),a=u(v()(e,r?"no-gutters":null,"row"),n);return h.a.createElement(i,I({},o,{className:a}))};H.propTypes=U,H.defaultProps=V;var W=["xs","sm","md","lg","xl"],q=m.a.oneOfType([m.a.number,m.a.string]),G=m.a.oneOfType([m.a.bool,m.a.number,m.a.string,m.a.shape({size:m.a.oneOfType([m.a.bool,m.a.number,m.a.string]),push:q,pull:q,offset:q})]),Z={tag:m.a.oneOfType([m.a.func,m.a.string]),xs:G,sm:G,md:G,lg:G,xl:G,className:m.a.string,cssModule:m.a.object,widths:m.a.array},X={tag:"div",widths:W},Y=function(t,e,n){return!0===n||""===n?t?"col":"col-"+e:"auto"===n?t?"col-auto":"col-"+e+"-auto":t?"col-"+n:"col-"+e+"-"+n},K=function(t){var e=t.className,n=t.cssModule,r=t.widths,i=t.tag,o=D(t,["className","cssModule","widths","tag"]),a=[];r.forEach(function(e,r){var i=t[e];if(r||void 0!==i||(i=!0),delete o[e],i){var s=!r,l=void 0;if(b()(i)){var c,p=s?"-":"-"+e+"-";l=Y(s,e,i.size),a.push(u(v()((c={},j(c,l,i.size||""===i.size),j(c,"push"+p+i.push,i.push||0===i.push),j(c,"pull"+p+i.pull,i.pull||0===i.pull),j(c,"offset"+p+i.offset,i.offset||0===i.offset),c))),n)}else l=Y(s,e,i),a.push(l)}});var s=u(v()(e,a),n);return h.a.createElement(i,I({},o,{className:s}))};K.propTypes=Z,K.defaultProps=X;var $={light:m.a.bool,inverse:m.a.bool,full:m.a.bool,fixed:m.a.string,sticky:m.a.string,color:m.a.string,role:m.a.string,tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object,toggleable:m.a.oneOfType([m.a.bool,m.a.string])},J={tag:"nav",toggleable:!1},Q=function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-toggleable":"navbar-toggleable-"+t)},tt=function(t){var e,n=t.toggleable,r=t.className,i=t.cssModule,o=t.light,a=t.inverse,s=t.full,l=t.fixed,c=t.sticky,p=t.color,f=t.tag,d=D(t,["toggleable","className","cssModule","light","inverse","full","fixed","sticky","color","tag"]),m=u(v()(r,"navbar",Q(n),(e={"navbar-light":o,"navbar-inverse":a},j(e,"bg-"+p,p),j(e,"navbar-full",s),j(e,"fixed-"+l,l),j(e,"sticky-"+c,c),e)),i);return h.a.createElement(f,I({},d,{className:m}))};tt.propTypes=$,tt.defaultProps=J;var et={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},nt={tag:"a"},rt=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"navbar-brand"),n);return h.a.createElement(r,I({},i,{className:o}))};rt.propTypes=et,rt.defaultProps=nt;var it={tag:m.a.oneOfType([m.a.func,m.a.string]),type:m.a.string,className:m.a.string,cssModule:m.a.object,children:m.a.node,right:m.a.bool,left:m.a.bool},ot={tag:"button",type:"button"},at=h.a.createElement("span",{className:"navbar-toggler-icon"}),st=function(t){var e=t.className,n=t.cssModule,r=t.children,i=t.right,o=t.left,a=t.tag,s=D(t,["className","cssModule","children","right","left","tag"]),l=u(v()(e,"navbar-toggler",i&&"navbar-toggler-right",o&&"navbar-toggler-left"),n);return h.a.createElement(a,I({},s,{className:l}),r||at)};st.propTypes=it,st.defaultProps=ot;var lt={tabs:m.a.bool,pills:m.a.bool,vertical:m.a.bool,navbar:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},ut={tag:"ul"},ct=function(t){var e=t.className,n=t.cssModule,r=t.tabs,i=t.pills,o=t.vertical,a=t.navbar,s=t.tag,l=D(t,["className","cssModule","tabs","pills","vertical","navbar","tag"]),c=u(v()(e,a?"navbar-nav":"nav",{"nav-tabs":r,"nav-pills":i,"flex-column":o}),n);return h.a.createElement(s,I({},l,{className:c}))};ct.propTypes=lt,ct.defaultProps=ut;var pt={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},ft={tag:"li"},ht=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"nav-item"),n);return h.a.createElement(r,I({},i,{className:o}))};ht.propTypes=pt,ht.defaultProps=ft;var dt={children:m.a.node.isRequired,className:m.a.string,arrow:m.a.string,disabled:m.a.bool,isOpen:m.a.bool.isRequired,toggle:m.a.func.isRequired,tether:m.a.object.isRequired,tetherRef:m.a.func,style:m.a.node,cssModule:m.a.object},mt={isOpen:!1,tetherRef:function(){}},yt=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleDocumentClick=n.handleDocumentClick.bind(n),n.toggle=n.toggle.bind(n),n}return L(e,t),z(e,[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(t){this.props.isOpen!==t.isOpen?this.handleProps():this._element&&this.renderIntoSubtree()}},{key:"componentWillUnmount",value:function(){this.hide()}},{key:"getTarget",value:function(){var t=this.props.tether.target;return k()(t)?t():t}},{key:"getTetherConfig",value:function(){var t=I({},this.props.tether);return t.element=this._element,t.target=this.getTarget(),t}},{key:"handleDocumentClick",value:function(t){var e=this._element;t.target!==e&&e.contains(t.target)||this.toggle()}},{key:"handleProps",value:function(){this.props.isOpen?this.show():this.hide()}},{key:"hide",value:function(){document.removeEventListener("click",this.handleDocumentClick,!0),this._element&&(document.body.removeChild(this._element),x.a.unmountComponentAtNode(this._element),this._element=null),this._tether&&(this._tether.destroy(),this._tether=null,this.props.tetherRef(this._tether))}},{key:"show",value:function(){document.addEventListener("click",this.handleDocumentClick,!0),this._element=document.createElement("div"),this._element.className=this.props.className,document.body.appendChild(this._element),this.renderIntoSubtree(),this._tether=new S.a(this.getTetherConfig()),this.props.tetherRef(this._tether),this._tether.position(),this._element.childNodes[0].focus()}},{key:"toggle",value:function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle()}},{key:"renderIntoSubtree",value:function(){x.a.unstable_renderSubtreeIntoContainer(this,this.renderChildren(),this._element)}},{key:"renderChildren",value:function(){var t=this.props,e=t.children,n=t.style;return h.a.cloneElement(e,{style:n})}},{key:"render",value:function(){return null}}]),e}(h.a.Component);yt.propTypes=dt,yt.defaultProps=mt;var vt={tag:m.a.oneOfType([m.a.func,m.a.string]),children:m.a.node.isRequired,right:m.a.bool,className:m.a.string,cssModule:m.a.object},gt={tag:"div"},bt={isOpen:m.a.bool.isRequired},_t=function(t,e){var n=t.className,r=t.cssModule,i=t.right,o=t.tag,a=D(t,["className","cssModule","right","tag"]),s=u(v()(n,"dropdown-menu",{"dropdown-menu-right":i}),r);return h.a.createElement(o,I({},a,{tabIndex:"-1","aria-hidden":!e.isOpen,role:"menu",className:s}))};_t.propTypes=vt,_t.defaultProps=gt,_t.contextTypes=bt;var xt={disabled:m.a.bool,dropup:m.a.bool,group:m.a.bool,isOpen:m.a.bool,size:m.a.string,tag:m.a.string,tether:m.a.oneOfType([m.a.object,m.a.bool]),toggle:m.a.func,children:m.a.node,className:m.a.string,cssModule:m.a.object},wt={isOpen:!1,tag:"div"},kt={toggle:m.a.func.isRequired,isOpen:m.a.bool.isRequired},Et={classPrefix:"bs-tether",classes:{element:"dropdown",enabled:"show"},constraints:[{to:"scrollParent",attachment:"together none"},{to:"window",attachment:"together none"}]},St=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.addEvents=n.addEvents.bind(n),n.getTetherConfig=n.getTetherConfig.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeEvents=n.removeEvents.bind(n),n.toggle=n.toggle.bind(n),n}return L(e,t),z(e,[{key:"getChildContext",value:function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(t){this.props.isOpen!==t.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"getTetherTarget",value:function(){return x.a.findDOMNode(this).querySelector('[data-toggle="dropdown"]')}},{key:"getTetherConfig",value:function(t){var e=this,n=function(){return e.getTetherTarget()},r="top",i="left",o="bottom",a="left";return t.right&&(i="right",a="right"),this.props.dropup&&(r="bottom",o="top"),I({},Et,{attachment:r+" "+i,targetAttachment:o+" "+a,target:n},this.props.tether)}},{key:"addEvents",value:function(){document.addEventListener("click",this.handleDocumentClick,!0)}},{key:"removeEvents",value:function(){document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"handleDocumentClick",value:function(t){var e=x.a.findDOMNode(this);e.contains(t.target)&&e!==t.target||this.toggle()}},{key:"handleProps",value:function(){this.props.tether||(this.props.isOpen?this.addEvents():this.removeEvents())}},{key:"toggle",value:function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle()}},{key:"renderChildren",value:function(){var t=this,e=this.props,n=e.tether,r=e.children,i=D(e,["tether","children"]);return i.toggle=this.toggle,h.a.Children.map(h.a.Children.toArray(r),function(e){if(n&&e.type===_t){var r=t.getTetherConfig(e.props);return h.a.createElement(yt,I({},i,{tether:r}),e)}return e})}},{key:"render",value:function(){var t,e=c(this.props,["toggle","tether"]),n=e.className,r=e.cssModule,i=e.dropup,o=e.group,a=e.size,s=e.tag,l=e.isOpen,p=D(e,["className","cssModule","dropup","group","size","tag","isOpen"]),f=u(v()(n,(t={"btn-group":o},j(t,"btn-group-"+a,!!a),j(t,"dropdown",!o),j(t,"show",l),j(t,"dropup",i),t)),r);return h.a.createElement(s,I({},p,{className:f}),this.renderChildren())}}]),e}(h.a.Component);St.propTypes=xt,St.defaultProps=wt,St.childContextTypes=kt;var Ct={children:m.a.node,tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Tt={tag:"li"},Ot=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"nav-item"),n);return h.a.createElement(St,I({},i,{tag:r,className:o}))};Ot.propTypes=Ct,Ot.defaultProps=Tt;var Mt={tag:m.a.oneOfType([m.a.func,m.a.string]),getRef:m.a.oneOfType([m.a.func,m.a.string]),disabled:m.a.bool,active:m.a.bool,className:m.a.string,cssModule:m.a.object,onClick:m.a.func,href:m.a.any},Pt={tag:"a"},At=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=n.onClick.bind(n),n}return L(e,t),z(e,[{key:"onClick",value:function(t){if(this.props.disabled)return void t.preventDefault();"#"===this.props.href&&t.preventDefault(),this.props.onClick&&this.props.onClick(t)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.cssModule,r=t.active,i=t.tag,o=t.getRef,a=D(t,["className","cssModule","active","tag","getRef"]),s=u(v()(e,"nav-link",{disabled:a.disabled,active:r}),n);return h.a.createElement(i,I({},a,{ref:o,onClick:this.onClick,className:s}))}}]),e}(h.a.Component);At.propTypes=Mt,At.defaultProps=Pt;var zt={tag:m.a.string,className:m.a.string,cssModule:m.a.object},jt={tag:"ol"},It=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"breadcrumb"),n);return h.a.createElement(r,I({},i,{className:o}))};It.propTypes=zt,It.defaultProps=jt;var Lt={tag:m.a.oneOfType([m.a.func,m.a.string]),active:m.a.bool,className:m.a.string,cssModule:m.a.object},Dt={tag:"li"},Rt=function(t){var e=t.className,n=t.cssModule,r=t.active,i=t.tag,o=D(t,["className","cssModule","active","tag"]),a=u(v()(e,!!r&&"active","breadcrumb-item"),n);return h.a.createElement(i,I({},o,{className:a}))};Rt.propTypes=Lt,Rt.defaultProps=Dt;var Nt={active:m.a.bool,block:m.a.bool,color:m.a.string,disabled:m.a.bool,outline:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),getRef:m.a.oneOfType([m.a.func,m.a.string]),onClick:m.a.func,size:m.a.string,children:m.a.node,className:m.a.string,cssModule:m.a.object},Bt={color:"secondary",tag:"button"},Ft=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=n.onClick.bind(n),n}return L(e,t),z(e,[{key:"onClick",value:function(t){if(this.props.disabled)return void t.preventDefault();this.props.onClick&&this.props.onClick(t)}},{key:"render",value:function(){var t=this.props,e=t.active,n=t.block,r=t.className,i=t.cssModule,o=t.color,a=t.outline,s=t.size,l=t.tag,c=t.getRef,p=D(t,["active","block","className","cssModule","color","outline","size","tag","getRef"]),f=u(v()(r,"btn","btn"+(a?"-outline":"")+"-"+o,!!s&&"btn-"+s,!!n&&"btn-block",{active:e,disabled:this.props.disabled}),i);return p.href&&"button"===l&&(l="a"),h.a.createElement(l,I({type:"button"===l&&p.onClick?"button":void 0},p,{className:f,ref:c,onClick:this.onClick}))}}]),e}(h.a.Component);Ft.propTypes=Nt,Ft.defaultProps=Bt;var Ut={children:m.a.node},Vt=function(t){return h.a.createElement(St,I({group:!0},t))};Vt.propTypes=Ut;var Ht={tag:m.a.oneOfType([m.a.func,m.a.string]),"aria-label":m.a.string,className:m.a.string,cssModule:m.a.object,role:m.a.string,size:m.a.string,vertical:m.a.bool},Wt={tag:"div",role:"group"},qt=function(t){var e=t.className,n=t.cssModule,r=t.size,i=t.vertical,o=t.tag,a=D(t,["className","cssModule","size","vertical","tag"]),s=u(v()(e,!!r&&"btn-group-"+r,i?"btn-group-vertical":"btn-group"),n);return h.a.createElement(o,I({},a,{className:s}))};qt.propTypes=Ht,qt.defaultProps=Wt;var Gt={tag:m.a.oneOfType([m.a.func,m.a.string]),"aria-label":m.a.string,className:m.a.string,cssModule:m.a.object,role:m.a.string},Zt={tag:"div",role:"toolbar"},Xt=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"btn-toolbar"),n);return h.a.createElement(r,I({},i,{className:o}))};Xt.propTypes=Gt,Xt.defaultProps=Zt;var Yt={children:m.a.node,active:m.a.bool,disabled:m.a.bool,divider:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),header:m.a.bool,onClick:m.a.func,className:m.a.string,cssModule:m.a.object,toggle:m.a.bool},Kt={toggle:m.a.func},$t={tag:"button",toggle:!0},Jt=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=n.onClick.bind(n),n.getTabIndex=n.getTabIndex.bind(n),n}return L(e,t),z(e,[{key:"onClick",value:function(t){if(this.props.disabled||this.props.header||this.props.divider)return void t.preventDefault();this.props.onClick&&this.props.onClick(t),this.props.toggle&&this.context.toggle()}},{key:"getTabIndex",value:function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"}},{key:"render",value:function(){var t=this.getTabIndex(),e=c(this.props,["toggle"]),n=e.className,r=e.cssModule,i=e.divider,o=e.tag,a=e.header,s=e.active,l=D(e,["className","cssModule","divider","tag","header","active"]),p=u(v()(n,{disabled:l.disabled,"dropdown-item":!i&&!a,active:s,"dropdown-header":a,"dropdown-divider":i}),r);return"button"===o&&(a?o="h6":i?o="div":l.href&&(o="a")),h.a.createElement(o,I({type:"button"===o&&(l.onClick||this.props.toggle)?"button":void 0},l,{tabIndex:t,className:p,onClick:this.onClick}))}}]),e}(h.a.Component);Jt.propTypes=Yt,Jt.defaultProps=$t,Jt.contextTypes=Kt;var Qt={caret:m.a.bool,color:m.a.string,children:m.a.node,className:m.a.string,cssModule:m.a.object,disabled:m.a.bool,onClick:m.a.func,"data-toggle":m.a.string,"aria-haspopup":m.a.bool,split:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),nav:m.a.bool},te={"data-toggle":"dropdown","aria-haspopup":!0,color:"secondary"},ee={isOpen:m.a.bool.isRequired,toggle:m.a.func.isRequired},ne=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClick=n.onClick.bind(n),n}return L(e,t),z(e,[{key:"onClick",value:function(t){if(this.props.disabled)return void t.preventDefault();this.props.nav&&!this.props.tag&&t.preventDefault(),this.props.onClick&&this.props.onClick(t),this.context.toggle()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.color,r=t.cssModule,i=t.caret,o=t.split,a=t.nav,s=t.tag,l=D(t,["className","color","cssModule","caret","split","nav","tag"]),c=l["aria-label"]||"Toggle Dropdown",p=u(v()(e,{"dropdown-toggle":i||o,"dropdown-toggle-split":o,active:this.context.isOpen,"nav-link":a}),r),f=l.children||h.a.createElement("span",{className:"sr-only"},c),d=void 0;return a&&!s?(d="a",l.href="#"):s?d=s:(d=Ft,l.color=n),h.a.createElement(d,I({},l,{className:p,onClick:this.onClick,"aria-haspopup":"true","aria-expanded":this.context.isOpen,children:f}))}}]),e}(h.a.Component);ne.propTypes=Qt,ne.defaultProps=te,ne.contextTypes=ee;var re={baseClass:m.a.string,baseClassIn:m.a.string,tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object,transitionAppearTimeout:m.a.number,transitionEnterTimeout:m.a.number,transitionLeaveTimeout:m.a.number,transitionAppear:m.a.bool,transitionEnter:m.a.bool,transitionLeave:m.a.bool,onLeave:m.a.func,onEnter:m.a.func},ie={tag:"div",baseClass:"fade",baseClassIn:"show",transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0,transitionAppear:!0,transitionEnter:!0,transitionLeave:!0},oe=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={mounted:!t.transitionAppear},n.onLeave=n.onLeave.bind(n),n.onEnter=n.onEnter.bind(n),n.timers=[],n}return L(e,t),z(e,[{key:"componentWillUnmount",value:function(){this.timers.forEach(function(t){return clearTimeout(t)})}},{key:"onEnter",value:function(t){var e=this;return function(){t(),e.props.onEnter&&e.props.onEnter()}}},{key:"onLeave",value:function(t){var e=this;return function(){t(),e.props.onLeave&&e.props.onLeave()}}},{key:"componentWillAppear",value:function(t){this.props.transitionAppear||this.onEnter(t)(),this.timers.push(setTimeout(this.onEnter(t),this.props.transitionAppearTimeout))}},{key:"componentDidAppear",value:function(){this.setState({mounted:!0})}},{key:"componentWillEnter",value:function(t){this.props.transitionEnter||this.onEnter(t)(),this.timers.push(setTimeout(this.onEnter(t),this.props.transitionEnterTimeout))}},{key:"componentDidEnter",value:function(){this.setState({mounted:!0})}},{key:"componentWillLeave",value:function(t){this.setState({mounted:!1}),this.props.transitionLeave||this.onLeave(t)(),this.timers.push(setTimeout(this.onLeave(t),this.props.transitionLeaveTimeout))}},{key:"render",value:function(){var t=this.props,e=t.baseClass,n=t.baseClassIn,r=t.className,i=t.cssModule,o=t.tag,a=c(this.props,Object.keys(re)),s=u(v()(r,e,!!this.state.mounted&&n),i);return h.a.createElement(o,I({},a,{className:s}))}}]),e}(h.a.Component);oe.propTypes=re,oe.defaultProps=ie;var ae={color:m.a.string,pill:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),children:m.a.node,className:m.a.string,cssModule:m.a.object},se={color:"default",pill:!1,tag:"span"},le=function(t){var e=t.className,n=t.cssModule,r=t.color,i=t.pill,o=t.tag,a=D(t,["className","cssModule","color","pill","tag"]),s=u(v()(e,"badge","badge-"+r,!!i&&"badge-pill"),n);return h.a.createElement(o,I({},a,{className:s}))};le.propTypes=ae,le.defaultProps=se;var ue={tag:m.a.oneOfType([m.a.func,m.a.string]),inverse:m.a.bool,color:m.a.string,block:m.a.bool,outline:m.a.bool,className:m.a.string,cssModule:m.a.object},ce={tag:"div"},pe=function(t){var e=t.className,n=t.cssModule,r=t.color,i=t.block,o=t.inverse,a=t.outline,s=t.tag,l=D(t,["className","cssModule","color","block","inverse","outline","tag"]),c=u(v()(e,"card",!!o&&"card-inverse",!!i&&"card-block",!!r&&"card"+(a?"-outline":"")+"-"+r),n);return h.a.createElement(s,I({},l,{className:c}))};pe.propTypes=ue,pe.defaultProps=ce;var fe={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},he={tag:"div"},de=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-group"),n);return h.a.createElement(r,I({},i,{className:o}))};de.propTypes=fe,de.defaultProps=he;var me={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},ye={tag:"div"},ve=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-deck"),n);return h.a.createElement(r,I({},i,{className:o}))};ve.propTypes=me,ve.defaultProps=ye;var ge={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},be={tag:"div"},_e=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-columns"),n);return h.a.createElement(r,I({},i,{className:o}))};_e.propTypes=ge,_e.defaultProps=be;var xe={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},we={tag:"div"},ke=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-block"),n);return h.a.createElement(r,I({},i,{className:o}))};ke.propTypes=xe,ke.defaultProps=we;var Ee={tag:m.a.oneOfType([m.a.func,m.a.string]),getRef:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Se={tag:"a"},Ce=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=t.getRef,o=D(t,["className","cssModule","tag","getRef"]),a=u(v()(e,"card-link"),n);return h.a.createElement(r,I({},o,{ref:i,className:a}))};Ce.propTypes=Ee,Ce.defaultProps=Se;var Te={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Oe={tag:"div"},Me=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-footer"),n);return h.a.createElement(r,I({},i,{className:o}))};Me.propTypes=Te,Me.defaultProps=Oe;var Pe={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Ae={tag:"div"},ze=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-header"),n);return h.a.createElement(r,I({},i,{className:o}))};ze.propTypes=Pe,ze.defaultProps=Ae;var je={tag:m.a.oneOfType([m.a.func,m.a.string]),top:m.a.bool,bottom:m.a.bool,className:m.a.string,cssModule:m.a.object},Ie={tag:"img"},Le=function(t){var e=t.className,n=t.cssModule,r=t.top,i=t.bottom,o=t.tag,a=D(t,["className","cssModule","top","bottom","tag"]),s="card-img";r&&(s="card-img-top"),i&&(s="card-img-bottom");var l=u(v()(e,s),n);return h.a.createElement(o,I({},a,{className:l}))};Le.propTypes=je,Le.defaultProps=Ie;var De={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Re={tag:"div"},Ne=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-img-overlay"),n);return h.a.createElement(r,I({},i,{className:o}))};Ne.propTypes=De,Ne.defaultProps=Re;var Be={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Fe={tag:"h6"},Ue=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-subtitle"),n);return h.a.createElement(r,I({},i,{className:o}))};Ue.propTypes=Be,Ue.defaultProps=Fe;var Ve={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},He={tag:"p"},We=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-text"),n);return h.a.createElement(r,I({},i,{className:o}))};We.propTypes=Ve,We.defaultProps=He;var qe={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Ge={tag:"h4"},Ze=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"card-title"),n);return h.a.createElement(r,I({},i,{className:o}))};Ze.propTypes=qe,Ze.defaultProps=Ge;var Xe={placement:m.a.oneOf(M),target:m.a.string.isRequired,isOpen:m.a.bool,tether:m.a.object,tetherRef:m.a.func,className:m.a.string,cssModule:m.a.object,toggle:m.a.func},Ye={isOpen:!1,placement:"bottom",toggle:function(){}},Ke={classPrefix:"bs-tether",classes:{element:!1,enabled:"show"},constraints:[{to:"scrollParent",attachment:"together none"},{to:"window",attachment:"together none"}]},$e=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getTetherConfig=n.getTetherConfig.bind(n),n}return L(e,t),z(e,[{key:"getTetherConfig",value:function(){var t=r(this.props.placement);return I({},Ke,t,{target:"#"+this.props.target},this.props.tether)}},{key:"render",value:function(){if(!this.props.isOpen)return null;var t=this.getTetherConfig(),e=u(v()("popover-inner",this.props.className),this.props.cssModule),n=c(this.props,Object.keys(Xe));return h.a.createElement(yt,{className:u("popover",this.props.cssModule),tether:t,tetherRef:this.props.tetherRef,isOpen:this.props.isOpen,toggle:this.props.toggle},h.a.createElement("div",I({},n,{className:e})))}}]),e}(h.a.Component);$e.propTypes=Xe,$e.defaultProps=Ye;var Je={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},Qe={tag:"h3"},tn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"popover-title"),n);return h.a.createElement(r,I({},i,{className:o}))};tn.propTypes=Je,tn.defaultProps=Qe;var en={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},nn={tag:"div"},rn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"popover-content"),n);return h.a.createElement(r,I({},i,{className:o}))};rn.propTypes=en,rn.defaultProps=nn;var on={children:m.a.node,bar:m.a.bool,multi:m.a.bool,tag:m.a.string,value:m.a.oneOfType([m.a.string,m.a.number]),max:m.a.oneOfType([m.a.string,m.a.number]),animated:m.a.bool,striped:m.a.bool,color:m.a.string,className:m.a.string,barClassName:m.a.string,cssModule:m.a.object},an={tag:"div",value:0,max:100},sn=function(t){var e=t.children,n=t.className,r=t.barClassName,i=t.cssModule,o=t.value,a=t.max,s=t.animated,l=t.striped,c=t.color,p=t.bar,f=t.multi,d=t.tag,m=D(t,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),y=T()(o)/T()(a)*100,g=u(v()(n,"progress"),i),b=u(v()("progress-bar",p?n||r:r,s?"progress-bar-animated":null,c?"bg-"+c:null,l||s?"progress-bar-striped":null),i),_=f?e:h.a.createElement("div",{className:b,style:{width:y+"%"},role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":a,children:e});return p?_:h.a.createElement(d,I({},m,{className:g,children:_}))};sn.propTypes=on,sn.defaultProps=an;var ln={isOpen:m.a.bool,autoFocus:m.a.bool,size:m.a.string,toggle:m.a.func,keyboard:m.a.bool,backdrop:m.a.oneOfType([m.a.bool,m.a.oneOf(["static"])]),onEnter:m.a.func,onExit:m.a.func,children:m.a.node,className:m.a.string,wrapClassName:m.a.string,modalClassName:m.a.string,backdropClassName:m.a.string,contentClassName:m.a.string,fade:m.a.bool,cssModule:m.a.object,zIndex:m.a.oneOfType([m.a.number,m.a.string]),backdropTransitionTimeout:m.a.number,backdropTransitionAppearTimeout:m.a.number,backdropTransitionEnterTimeout:m.a.number,backdropTransitionLeaveTimeout:m.a.number,modalTransitionTimeout:m.a.number,modalTransitionAppearTimeout:m.a.number,modalTransitionEnterTimeout:m.a.number,modalTransitionLeaveTimeout:m.a.number},un=Object.keys(ln),cn={isOpen:!1,autoFocus:!0,backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,modalTransitionTimeout:300,backdropTransitionTimeout:150},pn=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.originalBodyPadding=null,n.isBodyOverflowing=!1,n.togglePortal=n.togglePortal.bind(n),n.handleBackdropClick=n.handleBackdropClick.bind(n),n.handleEscape=n.handleEscape.bind(n),n.destroy=n.destroy.bind(n),n.onEnter=n.onEnter.bind(n),n.onExit=n.onExit.bind(n),n}return L(e,t),z(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.togglePortal()}},{key:"componentDidUpdate",value:function(t){this.props.isOpen!==t.isOpen?this.togglePortal():this._element&&this.renderIntoSubtree()}},{key:"componentWillUnmount",value:function(){this.onExit()}},{key:"onEnter",value:function(){this.props.onEnter&&this.props.onEnter()}},{key:"onExit",value:function(){this.destroy(),this.props.onExit&&this.props.onExit()}},{key:"handleEscape",value:function(t){this.props.keyboard&&27===t.keyCode&&this.props.toggle&&this.props.toggle()}},{key:"handleBackdropClick",value:function(t){if(!0===this.props.backdrop){var e=this._dialog;t.target&&!e.contains(t.target)&&this.props.toggle&&this.props.toggle()}}},{key:"hasTransition",value:function(){return!1!==this.props.fade&&this.props.modalTransitionTimeout>0}},{key:"togglePortal",value:function(){this.props.isOpen?(this.props.autoFocus&&(this._focus=!0),this.show(),this.hasTransition()||this.onEnter()):(this.hide(),this.hasTransition()||this.onExit())}},{key:"destroy",value:function(){this._element&&(x.a.unmountComponentAtNode(this._element),document.body.removeChild(this._element),this._element=null);var t=document.body.className.replace(/(^| )modal-open( |$)/," ");document.body.className=u(v()(t).trim(),this.props.cssModule),o(this.originalBodyPadding)}},{key:"hide",value:function(){this.renderIntoSubtree()}},{key:"show",value:function(){var t=document.body.className;this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this.originalBodyPadding=s(),l(),document.body.appendChild(this._element),document.body.className=u(v()(t,"modal-open"),this.props.cssModule),this.renderIntoSubtree()}},{key:"renderModalDialog",value:function(){var t=this,e=c(this.props,un);return h.a.createElement("div",I({className:u(v()("modal-dialog",this.props.className,j({},"modal-"+this.props.size,this.props.size)),this.props.cssModule),role:"document",ref:function(e){return t._dialog=e}},e),h.a.createElement("div",{className:u(v()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"renderIntoSubtree",value:function(){x.a.unstable_renderSubtreeIntoContainer(this,this.renderChildren(),this._element),this._focus&&(this._dialog.parentNode.focus(),this._focus=!1)}},{key:"renderChildren",value:function(){var t=this.props,e=t.wrapClassName,n=t.modalClassName,r=t.backdropClassName,i=t.cssModule,o=t.isOpen,a=t.backdrop,s=t.modalTransitionTimeout,l=t.backdropTransitionTimeout,c={onClickCapture:this.handleBackdropClick,onKeyUp:this.handleEscape,style:{display:"block"},tabIndex:"-1"};return this.hasTransition()?h.a.createElement(O.TransitionGroup,{component:"div",className:u(e)},o&&h.a.createElement(oe,I({key:"modal-dialog",onEnter:this.onEnter,onLeave:this.onExit,transitionAppearTimeout:"number"===typeof this.props.modalTransitionAppearTimeout?this.props.modalTransitionAppearTimeout:s,transitionEnterTimeout:"number"===typeof this.props.modalTransitionEnterTimeout?this.props.modalTransitionEnterTimeout:s,transitionLeaveTimeout:"number"===typeof this.props.modalTransitionLeaveTimeout?this.props.modalTransitionLeaveTimeout:s,cssModule:i,className:u(v()("modal",n),i)},c),this.renderModalDialog()),o&&a&&h.a.createElement(oe,{key:"modal-backdrop",transitionAppearTimeout:"number"===typeof this.props.backdropTransitionAppearTimeout?this.props.backdropTransitionAppearTimeout:l,transitionEnterTimeout:"number"===typeof this.props.backdropTransitionEnterTimeout?this.props.backdropTransitionEnterTimeout:l,transitionLeaveTimeout:"number"===typeof this.props.backdropTransitionLeaveTimeout?this.props.backdropTransitionLeaveTimeout:l,cssModule:i,className:u(v()("modal-backdrop",r),i)})):h.a.createElement("div",{className:u(e)},o&&h.a.createElement("div",I({className:u(v()("modal","show",n),i)},c),this.renderModalDialog()),o&&a&&h.a.createElement("div",{className:u(v()("modal-backdrop","show",r),i)}))}},{key:"render",value:function(){return null}}]),e}(h.a.Component);pn.propTypes=ln,pn.defaultProps=cn;var fn={tag:m.a.oneOfType([m.a.func,m.a.string]),wrapTag:m.a.oneOfType([m.a.func,m.a.string]),toggle:m.a.func,className:m.a.string,cssModule:m.a.object,children:m.a.node},hn={tag:"h4",wrapTag:"div"},dn=function(t){var e=void 0,n=t.className,r=t.cssModule,i=t.children,o=t.toggle,a=t.tag,s=t.wrapTag,l=D(t,["className","cssModule","children","toggle","tag","wrapTag"]),c=u(v()(n,"modal-header"),r);return o&&(e=h.a.createElement("button",{type:"button",onClick:o,className:"close","aria-label":"Close"},h.a.createElement("span",{"aria-hidden":"true"},String.fromCharCode(215)))),h.a.createElement(s,I({},l,{className:c}),h.a.createElement(a,{className:u("modal-title",r)},i),e)};dn.propTypes=fn,dn.defaultProps=hn;var mn={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},yn={tag:"div"},vn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"modal-body"),n);return h.a.createElement(r,I({},i,{className:o}))};vn.propTypes=mn,vn.defaultProps=yn;var gn={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},bn={tag:"div"},_n=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"modal-footer"),n);return h.a.createElement(r,I({},i,{className:o}))};_n.propTypes=gn,_n.defaultProps=bn;var xn={placement:m.a.oneOf(M),target:m.a.oneOfType([m.a.string,m.a.object]).isRequired,isOpen:m.a.bool,disabled:m.a.bool,tether:m.a.object,tetherRef:m.a.func,className:m.a.string,cssModule:m.a.object,toggle:m.a.func,autohide:m.a.bool,delay:m.a.oneOfType([m.a.shape({show:m.a.number,hide:m.a.number}),m.a.number])},wn={show:0,hide:250},kn={isOpen:!1,placement:"bottom",delay:wn,autohide:!0,toggle:function(){}},En={classPrefix:"bs-tether",classes:{element:!1,enabled:"show"},constraints:[{to:"scrollParent",attachment:"together none"},{to:"window",attachment:"together none"}]},Sn=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.addTargetEvents=n.addTargetEvents.bind(n),n.getTarget=n.getTarget.bind(n),n.getTetherConfig=n.getTetherConfig.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.toggle=n.toggle.bind(n),n.onMouseOverTooltip=n.onMouseOverTooltip.bind(n),n.onMouseLeaveTooltip=n.onMouseLeaveTooltip.bind(n),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(n),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n}return L(e,t),z(e,[{key:"componentDidMount",value:function(){this._target=this.getTarget(),this.addTargetEvents()}},{key:"componentWillUnmount",value:function(){this.removeTargetEvents()}},{key:"onMouseOverTooltip",value:function(){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show,this.getDelay("show"))}},{key:"onMouseLeaveTooltip",value:function(){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide"))}},{key:"onMouseOverTooltipContent",value:function(){this.props.autohide||this._hideTimeout&&this.clearHideTimeout()}},{key:"onMouseLeaveTooltipContent",value:function(){this.props.autohide||(this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide")))}},{key:"getDelay",value:function(t){var e=this.props.delay;return"object"===("undefined"===typeof e?"undefined":P(e))?isNaN(e[t])?wn[t]:e[t]:e}},{key:"getTarget",value:function(){var t=this.props.target;return"object"===("undefined"===typeof t?"undefined":P(t))?t:document.getElementById(t)}},{key:"getTetherConfig",value:function(){var t=r(this.props.placement);return I({},En,t,{target:this.getTarget},this.props.tether)}},{key:"show",value:function(){this.props.isOpen||(this.clearShowTimeout(),this.toggle())}},{key:"hide",value:function(){this.props.isOpen&&(this.clearHideTimeout(),this.toggle())}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(t){(t.target===this._target||this._target.contains(t.target))&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen||this.toggle())}},{key:"addTargetEvents",value:function(){this._target.addEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.addEventListener("mouseout",this.onMouseLeaveTooltip,!0),document.addEventListener("click",this.handleDocumentClick,!0)}},{key:"removeTargetEvents",value:function(){this._target.removeEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.removeEventListener("mouseout",this.onMouseLeaveTooltip,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"toggle",value:function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle()}},{key:"render",value:function(){if(!this.props.isOpen)return null;var t=c(this.props,Object.keys(xn)),e=u(v()("tooltip-inner",this.props.className),this.props.cssModule),n=this.getTetherConfig();return h.a.createElement(yt,{className:"tooltip",tether:n,tetherRef:this.props.tetherRef,isOpen:this.props.isOpen,toggle:this.toggle},h.a.createElement("div",I({},t,{className:e,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent})))}}]),e}(h.a.Component);Sn.propTypes=xn,Sn.defaultProps=kn;var Cn={className:m.a.string,cssModule:m.a.object,size:m.a.string,bordered:m.a.bool,striped:m.a.bool,inverse:m.a.bool,hover:m.a.bool,reflow:m.a.bool,responsive:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),responsiveTag:m.a.oneOfType([m.a.func,m.a.string])},Tn={tag:"table",responsiveTag:"div"},On=function(t){var e=t.className,n=t.cssModule,r=t.size,i=t.bordered,o=t.striped,a=t.inverse,s=t.hover,l=t.reflow,c=t.responsive,p=t.tag,f=t.responsiveTag,d=D(t,["className","cssModule","size","bordered","striped","inverse","hover","reflow","responsive","tag","responsiveTag"]),m=u(v()(e,"table",!!r&&"table-"+r,!!i&&"table-bordered",!!o&&"table-striped",!!a&&"table-inverse",!!s&&"table-hover",!!l&&"table-reflow"),n),y=h.a.createElement(p,I({},d,{className:m}));return c?h.a.createElement(f,{className:"table-responsive"},y):y};On.propTypes=Cn,On.defaultProps=Tn;var Mn={tag:m.a.oneOfType([m.a.func,m.a.string]),flush:m.a.bool,className:m.a.string,cssModule:m.a.object},Pn={tag:"ul"},An=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=t.flush,o=D(t,["className","cssModule","tag","flush"]),a=u(v()(e,"list-group",!!i&&"list-group-flush"),n);return h.a.createElement(r,I({},o,{className:a}))};An.propTypes=Mn,An.defaultProps=Pn;var zn={children:m.a.node,inline:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),getRef:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},jn={tag:"form"},In=function(t){var e=t.className,n=t.cssModule,r=t.inline,i=t.tag,o=t.getRef,a=D(t,["className","cssModule","inline","tag","getRef"]),s=u(v()(e,!!r&&"form-inline"),n);return h.a.createElement(i,I({},a,{ref:o,className:s}))};In.propTypes=zn,In.defaultProps=jn;var Ln={children:m.a.node,tag:m.a.string,className:m.a.string,cssModule:m.a.object},Dn={tag:"div"},Rn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"form-control-feedback"),n);return h.a.createElement(r,I({},i,{className:o}))};Rn.propTypes=Ln,Rn.defaultProps=Dn;var Nn={children:m.a.node,row:m.a.bool,check:m.a.bool,disabled:m.a.bool,tag:m.a.string,color:m.a.string,className:m.a.string,cssModule:m.a.object},Bn={tag:"div"},Fn=function(t){var e=t.className,n=t.cssModule,r=t.row,i=t.disabled,o=t.color,a=t.check,s=t.tag,l=D(t,["className","cssModule","row","disabled","color","check","tag"]),c=u(v()(e,!!o&&"has-"+o,!!r&&"row",a?"form-check":"form-group",!(!a||!i)&&"disabled"),n);return h.a.createElement(s,I({},l,{className:c}))};Fn.propTypes=Nn,Fn.defaultProps=Bn;var Un={children:m.a.node,inline:m.a.bool,tag:m.a.string,color:m.a.string,className:m.a.string,cssModule:m.a.object},Vn={tag:"small"},Hn=function(t){var e=t.className,n=t.cssModule,r=t.inline,i=t.color,o=t.tag,a=D(t,["className","cssModule","inline","color","tag"]),s=u(v()(e,!r&&"form-text",!!i&&"text-"+i),n);return h.a.createElement(o,I({},a,{className:s}))};Hn.propTypes=Un,Hn.defaultProps=Vn;var Wn={children:m.a.node,type:m.a.string,size:m.a.string,state:m.a.string,tag:m.a.oneOfType([m.a.func,m.a.string]),getRef:m.a.oneOfType([m.a.func,m.a.string]),static:m.a.bool,addon:m.a.bool,className:m.a.string,cssModule:m.a.object},qn={tag:"p",type:"text"},Gn=function(t){function e(){return A(this,e),R(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return L(e,t),z(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.cssModule,r=t.type,i=t.size,o=t.state,a=t.tag,s=t.addon,l=t.static,c=t.getRef,p=D(t,["className","cssModule","type","size","state","tag","addon","static","getRef"]),f=["radio","checkbox"].indexOf(r)>-1,d="file"===r,m="textarea"===r,y="select"===r,g=y||m?r:"input",b="form-control";l?(b+="-static",g=a):d?b+="-file":f&&(b=s?null:"form-check-input");var _=u(v()(e,!!o&&"form-control-"+o,!!i&&"form-control-"+i,b),n);return"input"===g&&(p.type=r),h.a.createElement(g,I({},p,{ref:c,className:_}))}}]),e}(h.a.Component);Gn.propTypes=Wn,Gn.defaultProps=qn;var Zn={tag:m.a.oneOfType([m.a.func,m.a.string]),size:m.a.string,className:m.a.string,cssModule:m.a.object},Xn={tag:"div"},Yn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=t.size,o=D(t,["className","cssModule","tag","size"]),a=u(v()(e,"input-group",i?"input-group-"+i:null),n);return h.a.createElement(r,I({},o,{className:a}))};Yn.propTypes=Zn,Yn.defaultProps=Xn;var Kn={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object},$n={tag:"div"},Jn=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=D(t,["className","cssModule","tag"]),o=u(v()(e,"input-group-addon"),n);return h.a.createElement(r,I({},i,{className:o}))};Jn.propTypes=Kn,Jn.defaultProps=$n;var Qn={tag:m.a.oneOfType([m.a.func,m.a.string]),children:m.a.node,groupClassName:m.a.string,groupAttributes:m.a.object,className:m.a.string,cssModule:m.a.object},tr={tag:"div"},er=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=t.children,o=t.groupClassName,a=t.groupAttributes,s=D(t,["className","cssModule","tag","children","groupClassName","groupAttributes"]);if("string"===typeof i){var l=u(v()(o,"input-group-btn"),n);return h.a.createElement(r,I({},a,{className:l}),h.a.createElement(Ft,I({},s,{className:e,children:i})))}var c=u(v()(e,"input-group-btn"),n);return h.a.createElement(r,I({},s,{className:c,children:i}))};er.propTypes=Qn,er.defaultProps=tr;var nr=["xs","sm","md","lg","xl"],rr=m.a.oneOfType([m.a.number,m.a.string]),ir=m.a.oneOfType([m.a.string,m.a.number,m.a.shape({size:rr,push:rr,pull:rr,offset:rr})]),or={children:m.a.node,hidden:m.a.bool,check:m.a.bool,inline:m.a.bool,disabled:m.a.bool,size:m.a.string,for:m.a.string,tag:m.a.string,className:m.a.string,cssModule:m.a.object,xs:ir,sm:ir,md:ir,lg:ir,xl:ir},ar={tag:"label"},sr=function(t){var e=t.className,n=t.cssModule,r=t.hidden,i=t.tag,o=t.check,a=t.inline,s=t.disabled,l=t.size,c=t.for,p=D(t,["className","cssModule","hidden","tag","check","inline","disabled","size","for"]),f=[];nr.forEach(function(e){var r=t[e];if(delete p[e],r&&r.size){var i;f.push(u(v()((i={},j(i,"col-"+e+"-"+r.size,r.size),j(i,"push-"+e+"-"+r.push,r.push),j(i,"pull-"+e+"-"+r.pull,r.pull),j(i,"offset-"+e+"-"+r.offset,r.offset),i))),n)}else r&&f.push("col-"+e+"-"+r)});var d=u(v()(e,!!r&&"sr-only",!!o&&"form-check-"+(a?"inline":"label"),!!(o&&a&&s)&&"disabled",!!l&&"col-form-label-"+l,f,!!f.length&&"col-form-label",!o&&!f.length&&"form-control-label"),n);return h.a.createElement(i,I({htmlFor:c},p,{className:d}))};sr.propTypes=or,sr.defaultProps=ar;var lr={body:m.a.bool,bottom:m.a.bool,children:m.a.node,className:m.a.string,cssModule:m.a.object,heading:m.a.bool,left:m.a.bool,list:m.a.bool,middle:m.a.bool,object:m.a.bool,right:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string]),top:m.a.bool};(function(t){var e=t.body,n=t.bottom,r=t.className,i=t.cssModule,o=t.heading,a=t.left,s=t.list,l=t.middle,c=t.object,p=t.right,f=t.tag,d=t.top,m=D(t,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]),y=void 0;y=o?"h4":a||p?"a":c?"img":s?"ul":"div";var g=f||y,b=u(v()(r,{"media-body":e,"media-heading":o,"media-left":a,"media-right":p,"media-top":d,"media-bottom":n,"media-middle":l,"media-object":c,"media-list":s,media:!e&&!o&&!a&&!p&&!d&&!n&&!l&&!c&&!s}),i);return h.a.createElement(g,I({},m,{className:b}))}).propTypes=lr;var ur={children:m.a.node,className:m.a.string,cssModule:m.a.object,size:m.a.string,tag:m.a.oneOfType([m.a.func,m.a.string])},cr={tag:"ul"},pr=function(t){var e=t.className,n=t.cssModule,r=t.size,i=t.tag,o=D(t,["className","cssModule","size","tag"]),a=u(v()(e,"pagination",j({},"pagination-"+r,!!r)),n);return h.a.createElement(i,I({},o,{className:a}))};pr.propTypes=ur,pr.defaultProps=cr;var fr={active:m.a.bool,children:m.a.node,className:m.a.string,cssModule:m.a.object,disabled:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string])},hr={tag:"li"},dr=function(t){var e=t.active,n=t.className,r=t.cssModule,i=t.disabled,o=t.tag,a=D(t,["active","className","cssModule","disabled","tag"]),s=u(v()(n,"page-item",{active:e,disabled:i}),r);return h.a.createElement(o,I({},a,{className:s}))};dr.propTypes=fr,dr.defaultProps=hr;var mr={"aria-label":m.a.string,children:m.a.node,className:m.a.string,cssModule:m.a.object,next:m.a.bool,previous:m.a.bool,tag:m.a.oneOfType([m.a.func,m.a.string])},yr={tag:"a"},vr=function(t){var e=t.className,n=t.cssModule,r=t.next,i=t.previous,o=t.tag,a=D(t,["className","cssModule","next","previous","tag"]),s=u(v()(e,"page-link"),n),l=void 0;i?l="Previous":r&&(l="Next");var c=t["aria-label"]||l,p=void 0;i?p="\xab":r&&(p="\xbb");var f=t.children;return(i||r)&&(f=[h.a.createElement("span",{"aria-hidden":"true",key:"caret"},f||p),h.a.createElement("span",{className:"sr-only",key:"sr"},c)]),h.a.createElement(o,I({},a,{className:s,"aria-label":c}),f)};vr.propTypes=mr,vr.defaultProps=yr;var gr={tag:m.a.oneOfType([m.a.func,m.a.string]),activeTab:m.a.any,className:m.a.string,cssModule:m.a.object},br={tag:"div"},_r={activeTabId:m.a.any},xr=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={activeTab:n.props.activeTab},n}return L(e,t),z(e,[{key:"getChildContext",value:function(){return{activeTabId:this.state.activeTab}}},{key:"componentWillReceiveProps",value:function(t){this.state.activeTab!==t.activeTab&&this.setState({activeTab:t.activeTab})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.cssModule,r=t.tag,i=c(this.props,Object.keys(gr)),o=u(v()("tab-content",e),n);return h.a.createElement(r,I({},i,{className:o}))}}]),e}(f.Component);xr.propTypes=gr,xr.defaultProps=br,xr.childContextTypes=_r;var wr={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.string,cssModule:m.a.object,tabId:m.a.any},kr={tag:"div"},Er={activeTabId:m.a.any};p.propTypes=wr,p.defaultProps=kr,p.contextTypes=Er;var Sr={tag:m.a.oneOfType([m.a.func,m.a.string]),fluid:m.a.bool,className:m.a.string,cssModule:m.a.object},Cr={tag:"div"},Tr=function(t){var e=t.className,n=t.cssModule,r=t.tag,i=t.fluid,o=D(t,["className","cssModule","tag","fluid"]),a=u(v()(e,"jumbotron",!!i&&"jumbotron-fluid"),n);return h.a.createElement(r,I({},o,{className:a}))};Tr.propTypes=Sr,Tr.defaultProps=Cr;var Or=function(t){var e=t.children;return h.a.Children.toArray(e)[0]||null},Mr={children:m.a.node,className:m.a.string,closeClassName:m.a.string,cssModule:m.a.object,color:m.a.string,isOpen:m.a.bool,toggle:m.a.func,tag:m.a.oneOfType([m.a.func,m.a.string]),transitionAppearTimeout:m.a.number,transitionEnterTimeout:m.a.number,transitionLeaveTimeout:m.a.number},Pr={color:"success",isOpen:!0,tag:"div",transitionAppearTimeout:150,transitionEnterTimeout:150,transitionLeaveTimeout:150},Ar=function(t){var e=t.className,n=t.closeClassName,r=t.cssModule,i=t.tag,o=t.color,a=t.isOpen,s=t.toggle,l=t.children,c=t.transitionAppearTimeout,p=t.transitionEnterTimeout,f=t.transitionLeaveTimeout,d=D(t,["className","closeClassName","cssModule","tag","color","isOpen","toggle","children","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout"]),m=u(v()(e,"alert","alert-"+o,{"alert-dismissible":s}),r),y=u(v()("close",n),r),g=h.a.createElement(i,I({},d,{className:m,role:"alert"}),s?h.a.createElement("button",{type:"button",className:y,"aria-label":"Close",onClick:s},h.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,l);return h.a.createElement(O.CSSTransitionGroup,{component:Or,transitionName:{appear:"fade",appearActive:"show",enter:"fade",enterActive:"show",leave:"fade",leaveActive:"out"},transitionAppear:c>0,transitionAppearTimeout:c,transitionEnter:p>0,transitionEnterTimeout:p,transitionLeave:f>0,transitionLeaveTimeout:f},a?g:null)};Ar.propTypes=Mr,Ar.defaultProps=Pr;var zr="SHOWN",jr="HIDDEN",Ir={isOpen:m.a.bool,className:m.a.node,tag:m.a.oneOfType([m.a.func,m.a.string]),cssModule:m.a.object,navbar:m.a.bool,delay:m.a.oneOfType([m.a.shape({show:m.a.number,hide:m.a.number}),m.a.number]),onOpened:m.a.func,onClosed:m.a.func},Lr={show:350,hide:350},Dr={isOpen:!1,tag:"div",delay:Lr,onOpened:function(){},onClosed:function(){}},Rr=function(t){function e(t){A(this,e);var n=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={collapse:t.isOpen?zr:jr,height:null},n.element=null,n}return L(e,t),z(e,[{key:"componentWillReceiveProps",value:function(t){var e=this,n=t.isOpen,r=this.state.collapse;n&&r===jr?this.setState({collapse:"SHOW"},function(){e.setState({height:e.getHeight()}),e.transitionTag=setTimeout(function(){e.setState({collapse:zr,height:null})},e.getDelay("show"))}):n||r!==zr||(this.setState({height:this.getHeight()},function(){e.setState({collapse:"HIDE",height:e.getHeight()},function(){e.setState({height:0})})}),this.transitionTag=setTimeout(function(){e.setState({collapse:jr,height:null})},this.getDelay("hide")))}},{key:"componentDidUpdate",value:function(t,e){this.state.collapse===zr&&e&&e.collapse!==zr&&this.props.onOpened(),this.state.collapse===jr&&e&&e.collapse!==jr&&this.props.onClosed()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTag)}},{key:"getDelay",value:function(t){var e=this.props.delay;return"object"===("undefined"===typeof e?"undefined":P(e))?isNaN(e[t])?Lr[t]:e[t]:e}},{key:"getHeight",value:function(){return this.element.scrollHeight}},{key:"render",value:function(){var t=this,e=c(this.props,["isOpen","delay","onOpened","onClosed"]),n=e.navbar,r=e.className,i=e.cssModule,o=e.tag,a=D(e,["navbar","className","cssModule","tag"]),s=this.state,l=s.collapse,p=s.height,f=void 0;switch(l){case"SHOW":f="collapsing";break;case zr:f="collapse show";break;case"HIDE":f="collapsing";break;case jr:f="collapse";break;default:f="collapse"}var d=u(v()(r,f,n&&"navbar-collapse"),i),m=null===p?null:{height:p};return h.a.createElement(o,I({},a,{style:I({},a.style,m),className:d,ref:function(e){t.element=e}}))}}]),e}(f.Component);Rr.propTypes=Ir,Rr.defaultProps=Dr;var Nr={tag:m.a.oneOfType([m.a.func,m.a.string]),active:m.a.bool,disabled:m.a.bool,color:m.a.string,action:m.a.bool,className:m.a.any},Br={tag:"li"},Fr=function(t){t.preventDefault()},Ur=function(t){var e=t.className,n=t.tag,r=t.active,i=t.disabled,o=t.action,a=t.color,s=D(t,["className","tag","active","disabled","action","color"]),l=v()(e,!!r&&"active",!!i&&"disabled",!!o&&"list-group-item-action",!!a&&"list-group-item-"+a,"list-group-item");return i&&(s.onClick=Fr),h.a.createElement(n,I({},s,{className:l}))};Ur.propTypes=Nr,Ur.defaultProps=Br;var Vr={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.any},Hr={tag:"h5"},Wr=function(t){var e=t.className,n=t.tag,r=D(t,["className","tag"]),i=v()(e,"list-group-item-heading");return h.a.createElement(n,I({},r,{className:i}))};Wr.propTypes=Vr,Wr.defaultProps=Hr;var qr={tag:m.a.oneOfType([m.a.func,m.a.string]),className:m.a.any},Gr={tag:"p"},Zr=function(t){var e=t.className,n=t.tag,r=D(t,["className","tag"]),i=v()(e,"list-group-item-text");return h.a.createElement(n,I({},r,{className:i}))};Zr.propTypes=qr,Zr.defaultProps=Gr;var Xr=h.a.Component,Yr={UncontrolledAlert:Ar,UncontrolledButtonDropdown:Vt,UncontrolledDropdown:St,UncontrolledNavDropdown:Ot,UncontrolledTooltip:Sn};Object.keys(Yr).forEach(function(t){var e=Yr[t],n=e===Ar,r=function(t){function r(t){A(this,r);var e=R(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.state={isOpen:n},e.toggle=e.toggle.bind(e),e}return L(r,t),z(r,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return h.a.createElement(e,I({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}]),r}(Xr);r.displayName=t,Yr[t]=r});Yr.UncontrolledAlert,Yr.UncontrolledButtonDropdown,Yr.UncontrolledDropdown,Yr.UncontrolledNavDropdown,Yr.UncontrolledTooltip},function(t,e,n){var r=n(5),i=r.Symbol;t.exports=i},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(132),o=n(335),a=n(44);t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(s(t))}var i=n(6),o=n(82),a=n(342),s=n(345);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(26),o=1/0;t.exports=r},function(t,e,n){"use strict";var r=n(225),i=(n(105),n(229));n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";e.__esModule=!0;var r=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return r(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u});var r=function(t){return"/"===t.charAt(0)?t:"/"+t},i=function(t){return"/"===t.charAt(0)?t.substr(1):t},o=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},a=function(t,e){return o(t,e)?t.substr(e.length):t},s=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},l=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},u=function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(16),o=n(13),a="[object Symbol]";t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?o(n,u,c):i(n,u,c)}return n}var i=n(83),o=n(48);t.exports=r},function(t,e,n){"use strict";var r=n(30);n.d(e,"a",function(){return r.a});var i=(n(198),n(548));n.d(e,"c",function(){return i.a});var o=n(549);n.d(e,"b",function(){return o.a});n(31)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(483),s=n(31),l=n(198),u=n(175),c=n.n(u),p=n(176),f=n.n(p),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,o=t.height,a=t.latitude,l=void 0===a?0:a,u=t.longitude,c=void 0===u?0:u,p=t.zoom,f=void 0===p?0:p,h=t.pitch,d=void 0===h?0:h,m=t.bearing,y=void 0===m?0:m,v=t.altitude,g=void 0===v?1.5:v,b=t.farZMultiplier,_=void 0===b?10:b;r(this,e),n=n||1,o=o||1;var x=Object(s.i)(f);g=Math.max(.75,g);var w=Object(s.c)({longitude:c,latitude:l,scale:x}),k=Object(s.a)({width:n,height:o,pitch:d,bearing:y,altitude:g,farZMultiplier:_}),E=Object(s.b)({height:o,center:w,pitch:d,bearing:y,altitude:g,flipY:!0}),S=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{width:n,height:o,viewMatrix:E,projectionMatrix:k}));return S.latitude=l,S.longitude=c,S.zoom=f,S.pitch=d,S.bearing=y,S.altitude=g,S.scale=x,S.center=w,Object.freeze(S),S}return o(e,t),h(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(s.d)(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(s.g)(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=t.pos,r=Object(s.e)(n,this.pixelUnprojectionMatrix),i=Object(s.d)(e,this.scale),o=c()([],i,f()([],r)),a=c()([],this.center,o);return Object(s.g)(a,this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=Object(l.a)(Object.assign({width:r,height:i,bounds:t},n));return new e({width:r,height:i,longitude:o.longitude,latitude:o.latitude,zoom:o.zoom})}}]),e}(a.a);e.a=d},function(t,e,n){"use strict";function r(t){return Math.pow(2,t)}function i(t){return Math.log2(t)}function o(t,e){var n=A(t,2),r=n[0],i=n[1];e*=D;var o=r*I,a=i*I;return[e*(o+z)/(2*z),e*(z-Math.log(Math.tan(j+.5*a)))/(2*z)]}function a(t,e){var n=A(t,2),r=n[0],i=n[1];e*=D;var o=r/e*(2*z)-z,a=2*(Math.atan(Math.exp(z-i/e*(2*z)))-j);return[o*L,a*L]}function s(t){var e=t.latitude,n=t.longitude,i=t.zoom,o=t.scale,a=t.highPrecision,s=void 0!==a&&a;o=void 0!==o?o:r(i),P()(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(o));var l={},u=D*o,c=Math.cos(e*I),p=u/360,f=p/c,h=u/R/c;if(l.pixelsPerMeter=[h,h,h],l.metersPerPixel=[1/h,1/h,1/h],l.pixelsPerDegree=[p,f,h],l.degreesPerPixel=[1/p,1/f,1/h],s){var d=I*Math.tan(e*I)/c,m=p*d/2,y=u/R*d,v=y/f*h;l.pixelsPerDegree2=[0,m,y],l.pixelsPerMeter2=[v,0,v]}return l}function l(t){var e=t.longitude,n=t.latitude,i=t.zoom,a=t.scale,l=t.meterOffset,u=t.distanceScales,c=void 0===u?null:u;a=void 0!==a?a:r(i);var p=o([e,n],a),f=new m.b(p[0],p[1],0);if(l){c=c||s({latitude:n,longitude:e,scale:a});var h=new m.b(l).scale(c.pixelsPerMeter).scale([1,-1,1]);f.add(h)}return f}function u(t){var e=t.height,n=t.altitude;return 2*Math.atan(e/2/n)}function c(t){var e=t.altitude,n=t.pitch,r=n*I,i=Math.atan(.5/e),o=Math.sin(i)*e/Math.sin(Math.PI/2-r-i);return{farZ:Math.cos(Math.PI/2-r)*o+e,nearZ:.1}}function p(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,l=void 0!==s&&s,u=Object(y.a)();return w()(u,u,[0,0,-i]),_()(u,u,[1,1,1/e]),E()(u,u,-n*I),C()(u,u,r*I),l&&_()(u,u,[1,-1,1]),a&&w()(u,u,new m.b(a).negate()),u}function f(t){var e=t.width,n=t.height,r=t.pitch,i=t.altitude,o=t.farZMultiplier,a=void 0===o?10:o,s=c({altitude:i,pitch:r}),l=s.nearZ,p=s.farZ,f=u({height:n,altitude:i});return g()([],f,e/n,l,p*a)}function h(t,e){var n=A(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return P()(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),Object(y.d)(e,[r,i,a,1])}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=A(t,3),i=r[0],o=r[1],a=r[2];if(P()(Number.isFinite(i)&&Number.isFinite(o)),Number.isFinite(a)){return Object(y.d)(e,[i,o,a,1])}var s=Object(y.d)(e,[i,o,0,1]),l=Object(y.d)(e,[i,o,1,1]),u=s[2],c=l[2],p=u===c?0:((n||0)-u)/(c-u);return O()([],s,l,p)}e.i=r,e.f=i,e.d=o,e.g=a,e.c=l,e.b=p,e.a=f,e.h=h,e.e=d;var m=n(52),y=n(55),v=n(188),g=n.n(v),b=n(97),_=n.n(b),x=n(98),w=n.n(x),k=n(191),E=n.n(k),S=n(192),C=n.n(S),T=n(177),O=n.n(T),M=n(14),P=n.n(M),A=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=Math.PI,j=z/4,I=z/180,L=180/z,D=512,R=4003e4},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(l[s[p]]=n[s[p]])}}return l}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(214)},function(t,e,n){"use strict";var r=(n(263),n(265),n(119));n.d(e,"a",function(){return r.a});var i=n(267);n.d(e,"b",function(){return i.a});var o=(n(270),n(273),n(275),n(120));n.d(e,"c",function(){return o.a});var a=(n(65),n(281),n(283),n(285),n(286));n.d(e,"d",function(){return a.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var r=n(116),i=n(117),o=n(25),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t,e,n,i){var s=void 0;"string"===typeof t?(s=Object(o.d)(t),s.state=e):(s=a({},t),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(r.default)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s},l=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(i.default)(t.state,e.state)}},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):l(t)}var i=n(290),o=n(341),a=n(27),s=n(6),l=n(349);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(292),o=n(293),a=n(294),s=n(295),l=n(296);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(71);t.exports=r},function(t,e,n){var r=n(15),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(316);t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(123),o=n(78);t.exports=r},function(t,e,n){var r=n(337),i=n(72),o=n(338),a=n(339),s=n(135),l=n(16),u=n(125),c=u(r),p=u(i),f=u(o),h=u(a),d=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(21),o=n(22);t.exports=r},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(353),o=n(20);t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(141);t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=i(t.prototype),r=t.apply(n,e);return o(r)?r:n}}var i=n(50),o=n(9);t.exports=r},function(t,e,n){var r=n(9),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){function n(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[o++]=n)}return a}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){"use strict";var r=n(174);n.d(e,"a",function(){return r.a});var i=n(54);n.d(e,"b",function(){return i.a});var o=(n(181),n(187),n(194),n(11));n.d(e,"c",function(){return o.e});var a=n(546),s=n(547);a.a,s.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(11),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"clone",value:function(){var t=this.constructor,e=(new t).copy(this);return e.check(),e}},{key:"copy",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t[e];return this.check()}},{key:"set",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<this.ELEMENTS;++r)this[r]=e[r]||0;return this.check()}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}},{key:"toString",value:function(){return this.formatString(a.c)}},{key:"formatString",value:function(t){for(var e="",n=0;n<this.ELEMENTS;++n)e+=(n>0?", ":"")+Object(a.f)(this[n],t);return(t.printTypes?this.constructor.name:"")+"["+e+"]"}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!Object(a.e)(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"inverse",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=1/this[t];return this.check()}},{key:"lerp",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n){var r=this[n];this[n]=r+e*(t[0]-r)}return this.check()}},{key:"validate",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=t&&t.length===this.ELEMENTS,n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(t[n]);return e}},{key:"check",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(a.c.debug&&!this.validate(t))throw new Error("Invalid "+this.constructor.name);return this}}]),e}(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array));e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return 3===t.length&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])}e.b=a;var s=n(94),l=n(11),u=n(493),c=n.n(u),p=n(494),f=n.n(p),h=n(496),d=n.n(h),m=n(497),y=n.n(m),v=n(498),g=n.n(v),b=n(499),_=n.n(b),x=n(500),w=n.n(x),k=n(501),E=n.n(k),S=n(180),C=n.n(S),T=n(502),O=n.n(T),M=n(503),P=n.n(M),A=n(504),z=n.n(A),j=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=[0,0,0],L=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Array.isArray(t)&&1===arguments.length?a.copy(t):a.set(t,n,o),a}return o(e,t),j(e,[{key:"set",value:function(t,e,n){return c()(this,t,e,n),this.check()}},{key:"angle",value:function(t){return f()(this,t)}},{key:"add",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;d()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;y()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;g()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"scale",value:function(t){return Number.isFinite(t)?w()(this,this,t):g()(this,this,t),this.check()}},{key:"cross",value:function(t){return C()(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?I:n;return O()(this,this,r,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?I:n;return P()(this,this,r,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?I:n;return z()(this,this,r,e),this.check()}},{key:"operation",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;_()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"scaleAndAdd",value:function(t,e){return E()(this,this,t,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(l.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(l.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(l.a)(t)}}]),e}(s.a);e.a=L},function(t,e,n){"use strict";function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t,e){var n=c()([],e,t);return l()(n,n,1/n[3]),n}function o(t,e){var n=t%e;return n<0?e+n:n}function a(t,e,n){return n*e+(1-n)*t}e.a=r,e.d=i,e.c=o,e.b=a;var s=n(95),l=n.n(s),u=n(193),c=n.n(u)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return t<e?e:t>n?n:t}n.d(e,"a",function(){return c});var o=n(29),a=n(14),s=n.n(a),l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},p={pitch:0,bearing:0,altitude:1.5},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,i=e.height,o=e.latitude,a=e.longitude,l=e.zoom,u=e.bearing,f=void 0===u?p.bearing:u,h=e.pitch,d=void 0===h?p.pitch:h,m=e.altitude,y=void 0===m?p.altitude:m,v=e.maxZoom,g=void 0===v?c.maxZoom:v,b=e.minZoom,_=void 0===b?c.minZoom:b,x=e.maxPitch,w=void 0===x?c.maxPitch:x,k=e.minPitch,E=void 0===k?c.minPitch:k,S=e.startPanLngLat,C=e.startZoomLngLat,T=e.startBearing,O=e.startPitch,M=e.startZoom;r(this,t),s()(Number.isFinite(n),"`width` must be supplied"),s()(Number.isFinite(i),"`height` must be supplied"),s()(Number.isFinite(a),"`longitude` must be supplied"),s()(Number.isFinite(o),"`latitude` must be supplied"),s()(Number.isFinite(l),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:i,latitude:o,longitude:a,zoom:l,bearing:f,pitch:d,altitude:y,maxZoom:g,minZoom:_,maxPitch:w,minPitch:E}),this._interactiveState={startPanLngLat:S,startZoomLngLat:C,startBearing:T,startPitch:O,startZoom:M}}return u(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),o=l(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var l=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),u=l.pitch,c=l.bearing;return this._getUpdatedMapState({bearing:c,pitch:u})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;s()(r>0,"`scale` must be a positive number");var i=this._interactiveState,a=i.startZoom,u=i.startZoomLngLat;Number.isFinite(a)||(a=this._viewportProps.zoom,u=this._unproject(n)||this._unproject(e)),s()(u,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var c=this._calculateNewZoom({scale:r,startZoom:a}),p=new o.a(Object.assign({},this._viewportProps,{zoom:c})),f=p.getLocationAtPoint({lngLat:u,pos:e}),h=l(f,2),d=h[0],m=h[1];return this._getUpdatedMapState({zoom:c,longitude:d,latitude:m})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=i(r,n,e);var a=t.maxPitch,s=t.minPitch,l=t.pitch;return t.pitch=i(l,s,a),Object.assign(t,Object(o.c)(t)),t}},{key:"_unproject",value:function(t){var e=new o.a(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new o.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,o=r.maxZoom,a=r.minZoom;return i(n+Math.log2(e),a,o)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,o=t.startPitch;n=i(n,-1,1);var a=this._viewportProps,s=a.minPitch,l=a.maxPitch,u=r+180*e,c=o;return n>0?c=o+n*(l-o):n<0&&(c=o-n*(s-o)),{pitch:c,bearing:u}}}]),t}();e.b=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return c});var i=n(14),o=n.n(i),a=n(99),s=n(56),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){},c={BREAK:1,SNAP_TO_END:2,IGNORE:3},p={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new a.a,transitionInterruption:c.BREAK,onTransitionStart:u,onTransitionInterrupt:u,onTransitionEnd:u},f={animation:null,propsInTransition:null,startProps:null,endProps:null},h=function(){function t(e){r(this,t),this.props=e,this.state=f,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return l(t,[{key:"getViewportInTransition",value:function(){return this.state.propsInTransition}},{key:"processViewportChange",value:function(t){var e=!1,n=this.props;if(this.props=t,this._shouldIgnoreViewportChange(n,t))return e;var r=this._isTransitionInProgress();if(this._isTransitionEnabled(t)){var i=Object.assign({},n,this.state.interruption===c.SNAP_TO_END?this.state.endProps:this.state.propsInTransition);r&&n.onTransitionInterrupt(),t.onTransitionStart(),this._triggerTransition(i,t),e=!0}else r&&(n.onTransitionInterrupt(),this._endTransition());return e}},{key:"_isTransitionInProgress",value:function(){return Boolean(this.state.propsInTransition)}},{key:"_isTransitionEnabled",value:function(t){return t.transitionDuration>0&&Boolean(t.transitionInterpolator)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return this._isTransitionInProgress()?this.state.interruption===c.IGNORE||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e)}},{key:"_triggerTransition",value:function(t,e){o()(this._isTransitionEnabled(e),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var n=e.transitionInterpolator.initializeProps(t,e);this.state={duration:e.transitionDuration,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:Date.now(),startProps:n.start,endProps:n.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function(){cancelAnimationFrame(this.state.animation),this.state=f}},{key:"_updateViewport",value:function(){var t=Date.now(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,l=e.endProps,u=!1,c=(t-n)/r;c>=1&&(c=1,u=!0),c=i(c);var p=o.interpolateProps(a,l,c),f=new s.b(Object.assign({},this.props,p));this.state.propsInTransition=f.getViewportProps(),this.props.onViewportChange&&this.props.onViewportChange(this.state.propsInTransition),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();e.b=h,h.defaultProps=p},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var r=n(200),i=r.b?[[r.b.Rotate,{enable:!1}],[r.b.Pinch,{enable:!1}],[r.b.Swipe,{enable:!1}],[r.b.Pan,{threshold:0,enable:!1}],[r.b.Press,{enable:!1}],[r.b.Tap,{event:"doubletap",taps:2,enable:!1}],[r.b.Tap,{enable:!1}]]:null,o={rotate:["pinch"]},a={doubletap:["tap"]},s={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},l={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel","DOMMouseScroll"]},u={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},c={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";function r(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.a=r},function(t,e,n){"use strict";var r=n(107),i=n(243),o=n(244),a=n(245),s=n(110);n(109);n.d(e,"e",function(){return r.b}),n.d(e,"c",function(){return i.a}),n.d(e,"b",function(){return o.a}),n.d(e,"a",function(){return a.a}),n.d(e,"d",function(){return s.a})},function(t,e,n){"use strict";function r(t){if(!Object(a.a)(t)||Object(i.a)(t)!=s)return!1;var e=Object(o.a)(t);if(null===e)return!0;var n=p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=n(232),o=n(237),a=n(239),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,f=c.call(Object);e.a=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(116),a=r(o),s=n(117),l=r(s),u=n(24);e.createLocation=function(t,e,n,r){var o=void 0;"string"===typeof t?(o=(0,u.parsePath)(t),o.state=e):(o=i({},t),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,l.default)(t.state,e.state)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){var t=null,e=function(e){return(0,i.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.default=o},function(t,e,n){"use strict";var r=n(66);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n.n(a),l=n(8),u=n.n(l),c=n(0),p=n.n(c),f=n(2),h=n.n(f),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,t.call.apply(t,[this].concat(l))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function(){return{router:d({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;u()(null==n||1===p.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){s()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?p.a.Children.only(t):null},e}(p.a.Component);m.propTypes={history:h.a.object.isRequired,children:h.a.node},m.contextTypes={router:h.a.object},m.childContextTypes={router:h.a.object.isRequired},e.a=m},function(t,e,n){"use strict";var r=n(271),i=n.n(r),o={},a=0,s=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=o[n]||(o[n]={});if(r[t])return r[t];var s=[],l=i()(t,s,e),u={re:l,keys:s};return a<1e4&&(r[t]=u,a++),u},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e={path:e});var n=e,r=n.path,i=void 0===r?"/":r,o=n.exact,a=void 0!==o&&o,l=n.strict,u=void 0!==l&&l,c=n.sensitive,p=void 0!==c&&c,f=s(i,{end:a,strict:u,sensitive:p}),h=f.re,d=f.keys,m=h.exec(t);if(!m)return null;var y=m[0],v=m.slice(1),g=t===y;return a&&!g?null:{path:i,url:"/"===i&&""===y?"/":y,isExact:g,params:d.reduce(function(t,e,n){return t[e.name]=v[n],t},{})}};e.a=l},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=function(){var t=null,e=function(e){return i()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.a=o},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(38),o=n(297),a=n(298),s=n(299),l=n(300),u=n(301);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(15),i=n(5),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(308),o=n(315),a=n(317),s=n(318),l=n(319);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){var r=n(330),i=n(131),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=l},function(t,e,n){var r=n(332),i=n(13),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){(function(t){var r=n(5),i=n(333),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;t.exports=c}).call(e,n(42)(t))},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(124),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,l=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=l}).call(e,n(42)(t))},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(6),o=n(26),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(48),o=n(71),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(362),i=n(145),o=i(r);t.exports=o},function(t,e,n){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(50),o=n(87),a=4294967295;r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e){function n(t){return t.placeholder}t.exports=n},function(t,e,n){function r(t,e){return t&&i(t,o(e))}var i=n(47),o=n(159);t.exports=r},function(t,e,n){var r=n(134),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(128);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(53),s=n(11),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return Object(s.a)(e)}},{key:"dot",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return Object(s.a)(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}}]),e}(a.a);e.a=u},function(t,e){function n(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}t.exports=n},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){m&&h&&(m=!1,h.length?d=h.concat(d):y=-1,d.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,m=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,p,f=t.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(t){c=n}try{p="function"===typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var h,d=[],m=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){function n(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=n},function(t,e){function n(t,e,n){var r,i,o,a,s,l,u,c,p,f,h,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=r*m+s*y+p*v+e[12],t[13]=i*m+l*y+f*v+e[13],t[14]=o*m+u*y+h*v+e[14],t[15]=a*m+c*y+d*v+e[15]),t}t.exports=n},function(t,e,n){"use strict";var r=(n(100),n(552),n(553));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(52),o=n(14),a=n.n(o),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(){r(this,t)}return s(t,[{key:"arePropsEqual",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,s=(this.propNames||[])[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(!Object(i.c)(t[l],e[l]))return!1}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){a()(!1,"interpolateProps is not implemented")}}]),t}();e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r="UPDATE_VIEWPORT",i=function(t){return{type:r,payload:t}}},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return v=t,g}}function o(t,e){try{return t(e)}catch(t){return v=t,g}}function a(t,e,n){try{t(e,n)}catch(t){return v=t,g}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&m(t,this)}function l(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),u(t,new d(e,n,a))})}function u(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);c(t,e)}function c(t,e){y(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?p(e.promise,t._18):f(e.promise,t._18));var r=o(n,t._18);r===g?f(e.promise,v):p(e.promise,r)})}function p(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===g)return f(t,v);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void h(t);if("function"===typeof n)return void m(n.bind(e),t)}t._83=1,t._18=e,h(t)}function f(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),h(t)}function h(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function d(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function m(t,e){var n=!1,r=a(t,function(t){n||(n=!0,p(e,t))},function(t){n||(n=!0,f(e,t))});n||r!==g||(n=!0,f(e,v))}var y=n(209),v=null,g={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return l(this,t,e);var n=new s(r);return u(this,new d(t,e,n)),n}},function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,l){if(i(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],p=0;u=new Error(e.replace(/%s/g,function(){return c[p++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(2),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function s(){}function l(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function u(t){var e,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.getDisplayName,f=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,_=u.methodName,x=void 0===_?"connectAdvanced":_,w=u.renderCountProp,k=void 0===w?void 0:w,E=u.shouldHandleStateChanges,S=void 0===E||E,C=u.storeKey,T=void 0===C?"store":C,O=u.withRef,M=void 0!==O&&O,P=a(u,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),A=T+"Subscription",z=g++,j=(e={},e[T]=y.a,e[A]=y.b,e),I=(n={},n[A]=y.b,n);return function(e){h()("function"==typeof e,"You must pass a component to the function returned by "+x+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",a=f(n),u=v({},P,{getDisplayName:f,methodName:x,renderCountProp:k,shouldHandleStateChanges:S,storeKey:T,withRef:M,displayName:a,wrappedComponentName:n,WrappedComponent:e}),c=function(n){function c(t,e){r(this,c);var o=i(this,n.call(this,t,e));return o.version=z,o.state={},o.renderCount=0,o.store=t[T]||e[T],o.propsMode=Boolean(t[T]),o.setWrappedInstance=o.setWrappedInstance.bind(o),h()(o.store,'Could not find "'+T+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+T+'" as a prop to "'+a+'".'),o.initSelector(),o.initSubscription(),o}return o(c,n),c.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[A]=e||this.context[A],t},c.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return h()(M,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+x+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},c.prototype.initSelector=function(){var e=t(this.store.dispatch,u);this.selector=l(e,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(S){var t=(this.propsMode?this.props:this.context)[A];this.subscription=new m.a(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(t){if(!M&&!k&&(!this.propsMode||!this.subscription))return t;var e=v({},t);return M&&(e.ref=this.setWrappedInstance),k&&(e[k]=this.renderCount++),this.propsMode&&this.subscription&&(e[A]=this.subscription),e},c.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(d.createElement)(e,this.addExtraProps(t.props))},c}(d.Component);return c.WrappedComponent=e,c.displayName=a,c.childContextTypes=I,c.contextTypes=j,c.propTypes=j,p()(c,e)}}e.a=u;var c=n(106),p=n.n(c),f=n(8),h=n.n(f),d=n(0),m=(n.n(d),n(228)),y=n(104),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=0,b={}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function l(u,c,p){if("string"!==typeof c){if(s){var f=a(c);f&&f!==s&&l(u,f,p)}var h=r(c);i&&(h=h.concat(i(c)));for(var d=0;d<h.length;++d){var m=h[d];if(!t[m]&&!e[m]&&(!p||!p[m])){var y=o(c,m);try{n(u,m,y)}catch(t){}}}return u}return u}})},function(t,e,n){"use strict";function r(t,e,n){function s(){v===y&&(v=y.slice())}function l(){return m}function u(t){if("function"!==typeof t)throw new Error("Expected listener to be a function.");var e=!0;return s(),v.push(t),function(){if(e){e=!1,s();var n=v.indexOf(t);v.splice(n,1)}}}function c(t){if(!Object(i.a)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,m=d(m,t)}finally{g=!1}for(var e=y=v,n=0;n<e.length;n++){(0,e[n])()}return t}function p(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");d=t,c({type:a.INIT})}function f(){var t,e=u;return t={subscribe:function(t){function n(){t.next&&t.next(l())}if("object"!==typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[o.a]=function(){return this},t}var h;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var d=t,m=e,y=[],v=y,g=!1;return c({type:a.INIT}),h={dispatch:c,subscribe:u,getState:l,replaceReducer:p},h[o.a]=f,h}n.d(e,"a",function(){return a}),e.b=r;var i=n(62),o=n(240),a={INIT:"@@redux/INIT"}},function(t,e,n){"use strict";var r=n(233),i=r.a.Symbol;e.a=i},function(t,e,n){"use strict"},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.a=r},function(t,e,n){"use strict";function r(t){return function(e,n){function r(){return i}var i=t(e,n);return r.dependsOnOwnProps=!1,r}}function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function o(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=i(t);var o=r(e,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(e,n)),o},r}}e.a=r,e.b=o;n(112)},function(t,e,n){"use strict";n(62),n(60)},function(t,e,n){var r,i;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof t&&t.exports?t.exports=n:(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(){}e.__esModule=!0,e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var u=n(2),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=n(0),f=r(p),h=n(34),d=r(h),m=(n(115),e.UNMOUNTED="unmounted"),y=e.EXITED="exited",v=e.ENTERING="entering",g=e.ENTERED="entered",b=e.EXITING="exiting",_=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r)),s=r.transitionGroup,l=s&&!s.isMounting?n.enter:n.appear,u=void 0;return i.nextStatus=null,n.in?l?(u=y,i.nextStatus=v):u=g:u=n.unmountOnExit||n.mountOnEnter?m:y,i.state={status:u},i.nextCallback=null,i}return s(e,t),e.prototype.getChildContext=function(){return{transitionGroup:null}},e.prototype.componentDidMount=function(){this.updateStatus(!0)},e.prototype.componentWillReceiveProps=function(t){var e=this.pendingState||this.state,n=e.status;t.in?(n===m&&this.setState({status:y}),n!==v&&n!==g&&(this.nextStatus=v)):n!==v&&n!==g||(this.nextStatus=b)},e.prototype.componentDidUpdate=function(){this.updateStatus()},e.prototype.componentWillUnmount=function(){this.cancelNextCallback()},e.prototype.getTimeouts=function(){var t=this.props.timeout,e=void 0,n=void 0,r=void 0;return e=n=r=t,null!=t&&"number"!==typeof t&&(e=t.exit,n=t.enter,r=t.appear),{exit:e,enter:n,appear:r}},e.prototype.updateStatus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nextStatus;if(null!==e){this.nextStatus=null,this.cancelNextCallback();var n=d.default.findDOMNode(this);e===v?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===y&&this.setState({status:m})},e.prototype.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts();if(!e&&!r)return void this.safeSetState({status:g},function(){n.props.onEntered(t)});this.props.onEnter(t,i),this.safeSetState({status:v},function(){n.props.onEntering(t,i),n.onTransitionEnd(t,o.enter,function(){n.safeSetState({status:g},function(){n.props.onEntered(t,i)})})})},e.prototype.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();if(!n)return void this.safeSetState({status:y},function(){e.props.onExited(t)});this.props.onExit(t),this.safeSetState({status:b},function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,function(){e.safeSetState({status:y},function(){e.props.onExited(t)})})})},e.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.prototype.safeSetState=function(t,e){var n=this;this.pendingState=t,e=this.setNextCallback(e),this.setState(t,function(){n.pendingState=null,e()})},e.prototype.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},e.prototype.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},e.prototype.render=function(){var t=this.state.status;if(t===m)return null;var e=this.props,n=e.children,r=i(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=f.default.Children.only(n);return f.default.cloneElement(o,r)},e}(f.default.Component);_.contextTypes={transitionGroup:c.object},_.childContextTypes={transitionGroup:function(){}},_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},_.UNMOUNTED=0,_.EXITED=1,_.ENTERING=2,_.ENTERED=3,_.EXITING=4,e.default=_},function(t,e,n){"use strict";function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}}e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0,e.transitionTimeout=r;var i=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.timeoutsShape=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]),e.classNamesShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,exit:o.default.string,exitActive:o.default.string})])},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),l=a||s;if(t&&r(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var u=void 0;if(o.length){var c=o[o.length-1];u="."===c||".."===c||""===c}else u=!1;for(var p=0,f=o.length;f>=0;f--){var h=o[f];"."===h?i(o,f):".."===h?(i(o,f),p++):p&&(i(o,f),p--)}if(!l)for(;p--;p)o.unshift("..");!l||""===o[0]||o[0]&&r(o[0])||o.unshift("");var d=o.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});var n="undefined"===typeof t?"undefined":i(t);if(n!==("undefined"===typeof e?"undefined":i(e)))return!1;if("object"===n){var o=t.valueOf(),a=e.valueOf();if(o!==t||a!==e)return r(o,a);var s=Object.keys(t),l=Object.keys(e);return s.length===l.length&&s.every(function(n){return r(t[n],e[n])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},function(t,e,n){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),l=n.n(s),u=n(2),c=n.n(u),p=n(8),f=n.n(p),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},m=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!d(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},a=n,o(r,a)}return a(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,i=r(t,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>");var o=this.context.router.history.createHref("string"===typeof e?{pathname:e}:e);return l.a.createElement("a",h({},i,{onClick:this.handleClick,href:o,ref:n}))},e}(l.a.Component);m.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},e.a=m},function(t,e,n){"use strict";var r=n(121);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n.n(a),l=n(8),u=n.n(l),c=n(0),p=n.n(c),f=n(2),h=n.n(f),d=n(67),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t){return 0===p.a.Children.count(t)},v=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,t.call.apply(t,[this].concat(l))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function(){return{router:m({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,a=t.exact,s=t.sensitive;if(n)return n;u()(e,"You should not use <Route> or withRouter() outside a <Router>");var l=e.route,c=(r||l.location).pathname;return i?Object(d.a)(c,{path:i,strict:o,exact:a,sensitive:s}):l.match},e.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!y(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!y(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){s()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,a=o.history,s=o.route,l=o.staticContext,u=this.props.location||s.location,c={match:t,location:u,history:a,staticContext:l};return r?t?p.a.createElement(r,c):null:i?t?i(c):null:n?"function"===typeof n?n(c):y(n)?null:p.a.Children.only(n):null},e}(p.a.Component);v.propTypes={computedMatch:h.a.object,path:h.a.string,exact:h.a.bool,strict:h.a.bool,sensitive:h.a.bool,component:h.a.func,render:h.a.func,children:h.a.oneOfType([h.a.func,h.a.node]),location:h.a.object},v.contextTypes={router:h.a.shape({history:h.a.object.isRequired,route:h.a.object.isRequired,staticContext:h.a.object})},v.childContextTypes={router:h.a.object.isRequired},e.a=v},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return l}),n.d(e,"f",function(){return u}),n.d(e,"d",function(){return c});var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},o=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},a=function(t,e){return e(window.confirm(t))},s=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},l=function(){return-1===window.navigator.userAgent.indexOf("Trident")},u=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},c=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==l||e==a||e==u}var i=n(16),o=n(9),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(7))},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=n(320),o=n(13);t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var p=n&s,f=t.length,h=e.length;if(f!=h&&!(p&&h>f))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var m=-1,y=!0,v=n&l?new i:void 0;for(c.set(t,e),c.set(e,t);++m<f;){var g=t[m],b=e[m];if(r)var _=p?r(b,g,m,e,t,c):r(g,b,m,t,e,c);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!o(e,function(t,e){if(!a(v,e)&&(g===t||u(g,t,n,r,c)))return v.push(e)})){y=!1;break}}else if(g!==b&&!u(g,b,n,r,c)){y=!1;break}}return c.delete(t),c.delete(e),y}var i=n(321),o=n(324),a=n(325),s=1,l=2;t.exports=r},function(t,e,n){var r=n(5),i=r.Uint8Array;t.exports=i},function(t,e,n){function r(t){return i(t,a,o)}var i=n(130),o=n(75),a=n(20);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(74),o=n(6);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),c=!n&&!r&&s(t),f=!n&&!r&&!c&&u(t),h=n||r||c||f,d=h?i(t.length,String):[],m=d.length;for(var y in t)!e&&!p.call(t,y)||h&&("length"==y||c&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||l(y,m))||d.push(y);return d}var i=n(331),o=n(76),a=n(6),s=n(77),l=n(43),u=n(133),c=Object.prototype,p=c.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(334),i=n(79),o=n(80),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(15),i=n(5),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(9);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(46);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(347),o=n(348);t.exports=r},function(t,e,n){var r=n(47),i=n(355),o=i(r);t.exports=o},function(t,e,n){var r=n(15),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t){return a(o(t,void 0,i),t+"")}var i=n(143),o=n(144),a=n(85);t.exports=r},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(360);t.exports=r},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),l=Array(s);++a<s;)l[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=n(l),i(t,this,u)}}var i=n(84),o=Math.max;t.exports=r},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(0),o=n.n(i),a=n(18),s=n(365),l=n.n(s),u=n(390),c=n(391),p=n(399),f={string:u.a,geoJson:c.a,color:p.a},h=function(t){var e=t.label,n=t.prop,i=t.type,s=r(t,["label","prop","type"]),l=f[i];return o.a.createElement(a.e,null,o.a.createElement(a.g,{for:n},e||n),o.a.createElement(l,s))},d=function(t){var e=t.onChange,n=t.fields,r=t.record,i=t.inline;return o.a.createElement(a.d,{inline:i},n.map(function(t){return o.a.createElement(h,Object.assign({},t,{key:t.prop,onChange:l()(e,t.prop),value:r[t.prop]}))}))};e.a=d},function(t,e,n){var r=n(27),i=n(148),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(135),i=r&&new r;t.exports=i},function(t,e,n){function r(t,e,n,b,_,x,w,k,E,S){function C(){for(var h=arguments.length,d=Array(h),m=h;m--;)d[m]=arguments[m];if(P)var y=u(C),v=a(d,y);if(b&&(d=i(d,b,_,P)),x&&(d=o(d,x,w,P)),h-=v,P&&h<S){var g=p(d,y);return l(t,e,r,C.placeholder,n,d,g,k,E,S-h)}var j=O?n:this,I=M?j[t]:t;return h=d.length,k?d=c(d,k):A&&h>1&&d.reverse(),T&&E<h&&(d.length=E),this&&this!==f&&this instanceof C&&(I=z||s(I)),I.apply(j,d)}var T=e&v,O=e&h,M=e&d,P=e&(m|y),A=e&g,z=M?void 0:s(t);return C}var i=n(150),o=n(151),a=n(370),s=n(49),l=n(152),u=n(90),c=n(385),p=n(51),f=n(5),h=1,d=2,m=8,y=16,v=128,g=512;t.exports=r},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=n.length,l=-1,u=e.length,c=r(a-s,0),p=Array(u+c),f=!i;++l<u;)p[l]=e[l];for(;++o<s;)(f||o<a)&&(p[n[o]]=t[o]);for(;c--;)p[l++]=t[o++];return p}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,p=r(a-l,0),f=Array(p+c),h=!i;++o<p;)f[o]=t[o];for(var d=o;++u<c;)f[d+u]=e[u];for(;++s<l;)(h||o<a)&&(f[d+n[s]]=t[o++]);return f}var r=Math.max;t.exports=n},function(t,e,n){function r(t,e,n,r,h,d,m,y,v,g){var b=e&c,_=b?m:void 0,x=b?void 0:m,w=b?d:void 0,k=b?void 0:d;e|=b?p:f,(e&=~(b?f:p))&u||(e&=~(s|l));var E=[t,e,h,w,_,k,x,y,v,g],S=n.apply(void 0,E);return i(t)&&o(S,E),S.placeholder=r,a(S,t,e)}var i=n(371),o=n(155),a=n(156),s=1,l=2,u=4,c=8,p=32,f=64;t.exports=r},function(t,e,n){var r=n(148),i=n(372),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e,n){function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var i=n(50),o=n(87);r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){var r=n(147),i=n(145),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n){var r=e+"";return a(t,o(r,s(i(r),n)))}var i=n(377),o=n(378),a=n(85),s=n(379);t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=u.test(t);return n||c.test(t)?p(t.slice(2),n?2:8):l.test(t)?a:+t}var i=n(9),o=n(26),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;t.exports=r},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function e(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function n(t,n){return e(t).appendChild(n)}function r(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function i(t,e,n,i){var o=r(t,e,n,i);return o.setAttribute("role","presentation"),o}function o(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function a(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function s(e,n){var r=e.className;t(n).test(r)||(e.className+=(r?" ":"")+n)}function l(e,n){for(var r=e.split(" "),i=0;i<r.length;i++)r[i]&&!t(r[i]).test(n)&&(n+=" "+r[i]);return n}function u(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function c(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function p(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}}function f(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function h(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}}function d(t){for(;Za.length<=t;)Za.push(m(Za)+" ");return Za[t]}function m(t){return t[t.length-1]}function y(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function v(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}function g(){}function b(t,e){var n;return Object.create?n=Object.create(t):(g.prototype=t,n=new g),e&&c(e,n),n}function _(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||Xa.test(t))}function x(t,e){return e?!!(e.source.indexOf("\\w")>-1&&_(t))||e.test(t):_(t)}function w(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function k(t){return t.charCodeAt(0)>=768&&Ya.test(t)}function E(t,e,n){for(;(n<0?e>0:e<t.length)&&k(t.charAt(e));)e+=n;return e}function S(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}function C(t,e,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[a],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+Va+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ga&&ba<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),_a||da&&Ma||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function T(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function O(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function M(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function P(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function A(t){if(null==t.parent)return null;for(var e=t.parent,n=f(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function z(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a],l=s.height;if(e<l)break;e-=l}return n+a}function j(t,e){return e>=t.first&&e<t.first+t.size}function I(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function L(t,e,n){if(void 0===n&&(n=null),!(this instanceof L))return new L(t,e,n);this.line=t,this.ch=e,this.sticky=n}function D(t,e){return t.line-e.line||t.ch-e.ch}function R(t,e){return t.sticky==e.sticky&&0==D(t,e)}function N(t){return L(t.line,t.ch)}function B(t,e){return D(t,e)<0?e:t}function F(t,e){return D(t,e)<0?t:e}function U(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function V(t,e){if(e.line<t.first)return L(t.first,0);var n=t.first+t.size-1;return e.line>n?L(n,T(t,n).text.length):H(e,T(t,e.line).text.length)}function H(t,e){var n=t.ch;return null==n||n>e?L(t.line,e):n<0?L(t.line,0):t}function W(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=V(t,e[r]);return n}function q(){Ka=!0}function G(){$a=!0}function Z(t,e,n){this.marker=t,this.from=e,this.to=n}function X(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Y(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function K(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function $(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Z(a,o.from,l?null:o.to))}}return r}function J(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Z(a,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}function Q(t,e){if(e.full)return null;var n=j(t,e.from.line)&&T(t,e.from.line).markedSpans,r=j(t,e.to.line)&&T(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==D(e.from,e.to),s=$(n,i,a),l=J(r,o,a),u=1==e.text.length,c=m(e.text).length+(u?i:0);if(s)for(var p=0;p<s.length;++p){var f=s[p];if(null==f.to){var h=X(l,f.marker);h?u&&(f.to=null==h.to?null:h.to+c):f.to=i}}if(l)for(var d=0;d<l.length;++d){var y=l[d];if(null!=y.to&&(y.to+=c),null==y.from){var v=X(s,y.marker);v||(y.from=c,u&&(s||(s=[])).push(y))}else y.from+=c,u&&(s||(s=[])).push(y)}s&&(s=tt(s)),l&&l!=s&&(l=tt(l));var g=[s];if(!u){var b,_=e.text.length-2;if(_>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new Z(s[x].marker,null,null));for(var w=0;w<_;++w)g.push(b);g.push(l)}return g}function tt(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function et(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=f(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(D(u.to,s.from)<0||D(u.from,s.to)>0)){var c=[l,1],p=D(u.from,s.from),h=D(u.to,s.to);(p<0||!a.inclusiveLeft&&!p)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function nt(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function rt(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function it(t){return t.inclusiveLeft?-1:0}function ot(t){return t.inclusiveRight?1:0}function at(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=D(r.from,i.from)||it(t)-it(e);if(o)return-o;var a=D(r.to,i.to)||ot(t)-ot(e);return a||e.id-t.id}function st(t,e){var n,r=$a&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||at(n,i.marker)<0)&&(n=i.marker);return n}function lt(t){return st(t,!0)}function ut(t){return st(t,!1)}function ct(t,e,n,r,i){var o=T(t,e),a=$a&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=D(u.from,n)||it(l.marker)-it(i),p=D(u.to,r)||ot(l.marker)-ot(i);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?D(u.to,n)>=0:D(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?D(u.from,r)<=0:D(u.from,r)<0)))return!0}}}function pt(t){for(var e;e=lt(t);)t=e.find(-1,!0).line;return t}function ft(t){for(var e;e=ut(t);)t=e.find(1,!0).line;return t}function ht(t){for(var e,n;e=ut(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function dt(t,e){var n=T(t,e),r=pt(n);return n==r?e:A(r)}function mt(t,e){if(e>t.lastLine())return e;var n,r=T(t,e);if(!yt(t,r))return e;for(;n=ut(r);)r=n.find(1,!0).line;return A(r)+1}function yt(t,e){var n=$a&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&vt(t,e,r))return!0}}function vt(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return vt(t,r.line,X(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&vt(t,e,i))return!0}function gt(t){t=pt(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;e+=s.height}return e}function bt(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=lt(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=ut(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function _t(t){var e=t.display,n=t.doc;e.maxLine=T(n,n.first),e.maxLineLength=bt(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=bt(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function xt(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}function wt(t,e,n){var r;Ja=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:Ja=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:Ja=i)}return null!=r?r:Ja}function kt(t,e){var n=t.order;return null==n&&(n=t.order=Qa(t.text,e)),n}function Et(t,e){return t._handlers&&t._handlers[e]||ts}function St(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=f(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function Ct(t,e){var n=Et(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Tt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ct(t,n||e.type,t,e),jt(e)||e.codemirrorIgnore}function Ot(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==f(n,e[r])&&n.push(e[r])}function Mt(t,e){return Et(t,e).length>0}function Pt(t){t.prototype.on=function(t,e){es(this,t,e)},t.prototype.off=function(t,e){St(this,t,e)}}function At(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function zt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function jt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function It(t){At(t),zt(t)}function Lt(t){return t.target||t.srcElement}function Dt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Pa&&t.ctrlKey&&1==e&&(e=3),e}function Rt(t){if(null==Fa){var e=r("span","\u200b");n(t,r("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Fa=e.offsetWidth<=1&&e.offsetHeight>2&&!(ga&&ba<8))}var i=Fa?r("span","\u200b"):r("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Nt(t){if(null!=Ua)return Ua;var r=n(t,document.createTextNode("A\u062eA")),i=Ia(r,0,1).getBoundingClientRect(),o=Ia(r,1,2).getBoundingClientRect();return e(t),!(!i||i.left==i.right)&&(Ua=o.right-i.right<3)}function Bt(t){if(null!=as)return as;var e=n(t,r("span","x")),i=e.getBoundingClientRect(),o=Ia(e,0,1).getBoundingClientRect();return as=Math.abs(i.left-o.left)>1}function Ft(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),ss[t]=e}function Ut(t,e){ls[t]=e}function Vt(t){if("string"==typeof t&&ls.hasOwnProperty(t))t=ls[t];else if(t&&"string"==typeof t.name&&ls.hasOwnProperty(t.name)){var e=ls[t.name];"string"==typeof e&&(e={name:e}),t=b(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Vt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Vt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ht(t,e){e=Vt(e);var n=ss[e.name];if(!n)return Ht(t,"text/plain");var r=n(t,e);if(us.hasOwnProperty(e.name)){var i=us[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}function Wt(t,e){c(e,us.hasOwnProperty(t)?us[t]:us[t]={})}function qt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Gt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Zt(t,e,n){return!t.startState||t.startState(e,n)}function Xt(t,e,n,r){var i=[t.state.modeGen],o={};ne(t,e.text,t.doc.mode,n,function(t,e){return i.push(t,e)},o,r);for(var a=n.state,s=0;s<t.state.overlays.length;++s)!function(r){n.baseTokens=i;var s=t.state.overlays[r],l=1,u=0;n.state=!0,ne(t,e.text,s.mode,n,function(t,e){for(var n=l;u<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Yt(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=Kt(t,A(e)),i=e.text.length>t.options.maxHighlightLength&&qt(t.doc.mode,r.state),o=Xt(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function Kt(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new fs(r,!0,e);var o=re(t,e,n),a=o>r.first&&T(r,o-1).stateAfter,s=a?fs.fromSaved(r,a,o):new fs(r,Zt(r.mode),o);return r.iter(o,e,function(n){$t(t,n.text,s);var r=s.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function $t(t,e,n,r){var i=t.doc.mode,o=new cs(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&Jt(i,n.state);!o.eol();)Qt(i,o,n.state),o.start=o.pos}function Jt(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Gt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Qt(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Gt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function te(t,e,n,r){var i,o=t.doc,a=o.mode;e=V(o,e);var s,l=T(o,e.line),u=Kt(t,e.line,n),c=new cs(l.text,t.options.tabSize,u);for(r&&(s=[]);(r||c.pos<e.ch)&&!c.eol();)c.start=c.pos,i=Qt(a,c,u.state),r&&s.push(new hs(c,i,qt(o.mode,u.state)));return r?s:new hs(c,i,u.state)}function ee(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function ne(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,p=new cs(e,t.options.tabSize,r),f=t.options.addModeClass&&[null];for(""==e&&ee(Jt(n,r.state),o);!p.eol();){if(p.pos>t.options.maxHighlightLength?(s=!1,a&&$t(t,e,r,p.pos),p.pos=e.length,l=null):l=ee(Qt(n,p,r.state,f),o),f){var h=f[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||c!=l){for(;u<p.start;)u=Math.min(p.start,u+5e3),i(u,c);c=l}p.start=p.pos}for(;u<p.pos;){var d=Math.min(p.pos,u+5e3);i(d,c),u=d}}function re(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=T(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof ps?u.lookAhead:0)<=o.modeFrontier))return s;var c=p(l.text,null,t.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function ie(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=T(t,r).stateAfter;if(i&&(!(i instanceof ps)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}function oe(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),nt(t),rt(t,n);var i=r?r(t):1;i!=t.height&&P(t,i)}function ae(t){t.parent=null,nt(t)}function se(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?vs:ys;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function le(t,e){var n=i("span",null,null,_a?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(ga||_a)&&t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var a=o?e.rest[o-1]:e.line,s=void 0;r.pos=0,r.addToken=ce,Nt(t.display.measure)&&(s=kt(a,t.doc.direction))&&(r.addToken=fe(r.addToken,s)),r.map=[];de(a,r,Yt(t,a,e!=t.display.externalMeasured&&A(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=l(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=l(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Rt(t.display.measure))),0==o?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(_a){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ct(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=l(r.pre.className,r.textClass||"")),r}function ue(t){var e=r("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function ce(t,e,n,i,o,a,s){if(e){var l,u=t.splitSpaces?pe(e,t.trailingSpace):e,c=t.cm.state.specialChars,p=!1;if(c.test(e)){l=document.createDocumentFragment();for(var f=0;;){c.lastIndex=f;var h=c.exec(e),m=h?h.index-f:e.length-f;if(m){var y=document.createTextNode(u.slice(f,f+m));ga&&ba<9?l.appendChild(r("span",[y])):l.appendChild(y),t.map.push(t.pos,t.pos+m,y),t.col+=m,t.pos+=m}if(!h)break;f+=m+1;var v=void 0;if("\t"==h[0]){var g=t.cm.options.tabSize,b=g-t.col%g;v=l.appendChild(r("span",d(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==h[0]||"\n"==h[0]?(v=l.appendChild(r("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar")),v.setAttribute("cm-text",h[0]),t.col+=1):(v=t.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),ga&&ba<9?l.appendChild(r("span",[v])):l.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,l=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,l),ga&&ba<9&&(p=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||i||o||p||s){var _=n||"";i&&(_+=i),o&&(_+=o);var x=r("span",[l],_,s);return a&&(x.title=a),t.content.appendChild(x)}t.content.appendChild(l)}}function pe(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function fe(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var p=void 0,f=0;f<e.length&&(p=e[f],!(p.to>u&&p.from<=u));f++);if(p.to>=c)return t(n,r,i,o,a,s,l);t(n,r.slice(0,p.to-u),i,o,null,s,l),o=null,r=r.slice(p.to-u),u=p.to}}}function he(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function de(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,u,c,p,f,h=i.length,d=0,m=1,y="",v=0;;){if(v==d){l=u=c=p=s="",f=null,v=1/0;for(var g=[],b=void 0,_=0;_<r.length;++_){var x=r[_],w=x.marker;"bookmark"==w.type&&x.from==d&&w.widgetNode?g.push(w):x.from<=d&&(null==x.to||x.to>d||w.collapsed&&x.to==d&&x.from==d)?(null!=x.to&&x.to!=d&&v>x.to&&(v=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&x.from==d&&(c+=" "+w.startStyle),w.endStyle&&x.to==v&&(b||(b=[])).push(w.endStyle,x.to),w.title&&!p&&(p=w.title),w.collapsed&&(!f||at(f.marker,w)<0)&&(f=x)):x.from>d&&v>x.from&&(v=x.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==v&&(u+=" "+b[k]);if(!f||f.from==d)for(var E=0;E<g.length;++E)he(e,0,g[E]);if(f&&(f.from||0)==d){if(he(e,(null==f.to?h+1:f.to)-d,f.marker,null==f.from),null==f.to)return;f.to==d&&(f=!1)}}if(d>=h)break;for(var S=Math.min(h,v);;){if(y){var C=d+y.length;if(!f){var T=C>S?y.slice(0,S-d):y;e.addToken(e,T,a?a+l:l,c,d+T.length==v?u:"",p,s)}if(C>=S){y=y.slice(S-d),d=S;break}d=C,c=""}y=i.slice(o,o=n[m++]),a=se(n[m++],e.cm.options)}}else for(var O=1;O<n.length;O+=2)e.addToken(e,i.slice(o,o=n[O]),se(n[O+1],e.cm.options))}function me(t,e,n){this.line=e,this.rest=ht(e),this.size=this.rest?A(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=yt(t,e)}function ye(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new me(t.doc,T(t.doc,o),o);r=o+a.size,i.push(a)}return i}function ve(t){gs?gs.ops.push(t):t.ownsGroup=gs={ops:[t],delayedCallbacks:[]}}function ge(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function be(t,e){var n=t.ownsGroup;if(n)try{ge(n)}finally{gs=null,e(n)}}function _e(t,e){var n=Et(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);gs?r=gs.delayedCallbacks:bs?r=bs:(r=bs=[],setTimeout(xe,0));for(var o=0;o<n.length;++o)!function(t){r.push(function(){return n[t].apply(null,i)})}(o)}}function xe(){var t=bs;bs=null;for(var e=0;e<t.length;++e)t[e]()}function we(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?Ce(t,e):"gutter"==o?Oe(t,e,n,r):"class"==o?Te(t,e):"widget"==o&&Me(t,e,r)}e.changes=null}function ke(t){return t.node==t.text&&(t.node=r("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),ga&&ba<8&&(t.node.style.zIndex=2)),t.node}function Ee(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=ke(e);e.background=i.insertBefore(r("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}function Se(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):le(t,e)}function Ce(t,e){var n=e.text.className,r=Se(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,Te(t,e)):n&&(e.text.className=n)}function Te(t,e){Ee(t,e),e.line.wrapClass?ke(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Oe(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=ke(e);e.gutterBackground=r("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var a=e.line.gutterMarkers;if(t.options.lineNumbers||a){var s=ke(e),l=e.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(l),s.insertBefore(l,e.text),e.line.gutterClass&&(l.className+=" "+e.line.gutterClass),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(e.lineNumber=l.appendChild(r("div",I(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<t.options.gutters.length;++u){var c=t.options.gutters[u],p=a.hasOwnProperty(c)&&a[c];p&&l.appendChild(r("div",[p],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Me(t,e,n){e.alignable&&(e.alignable=null);for(var r=e.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&e.node.removeChild(r);Ae(t,e,n)}function Pe(t,e,n,r){var i=Se(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),Te(t,e),Oe(t,e,n,r),Ae(t,e,r),e.node}function Ae(t,e,n){if(ze(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)ze(t,e.rest[r],e,n,!1)}function ze(t,e,n,i,o){if(e.widgets)for(var a=ke(n),s=0,l=e.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),je(u,c,n,i),t.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),_e(u,"redraw")}}function je(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function Ie(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!o(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),n(e.display.measure,r("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Le(t,e){for(var n=Lt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function De(t){return t.lineSpace.offsetTop}function Re(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ne(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=n(t.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function Be(t){return Va-t.display.nativeBarWidth}function Fe(t){return t.display.scroller.clientWidth-Be(t)-t.display.barWidth}function Ue(t){return t.display.scroller.clientHeight-Be(t)-t.display.barHeight}function Ve(t,e,n){var r=t.options.lineWrapping,i=r&&Fe(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function He(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(A(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function We(t,e){e=pt(e);var r=A(e),i=t.display.externalMeasured=new me(t.doc,e,r);i.lineN=r;var o=i.built=le(t,i);return i.text=o.pre,n(t.display.lineMeasure,o.pre),i}function qe(t,e,n,r){return Xe(t,Ze(t,e),n,r)}function Ge(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Cn(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Ze(t,e){var n=A(e),r=Ge(t,n);r&&!r.text?r=null:r&&r.changes&&(we(t,r,n,xn(t)),t.curOp.forceUpdate=!0),r||(r=We(t,e));var i=He(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Xe(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Ve(t,e.view,e.rect),e.hasHeights=!0),o=$e(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Ye(t,e,n){for(var r,i,o,a,s,l,u=0;u<t.length;u+=3)if(s=t[u],l=t[u+1],e<s?(i=0,o=1,a="left"):e<l?(i=e-s,o=i+1):(u==t.length-3||e==l&&t[u+3]>e)&&(o=l-s,i=o-1,e>=l&&(a="right")),null!=i){if(r=t[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&t[u-2]==t[u-3]&&t[u-1].insertLeft;)r=t[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft;)r=t[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Ke(t,e){var n=_s;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function $e(t,e,n,r){var i,o=Ye(e.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&k(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&k(e.line.text.charAt(o.coverStart+l));)++l;if(i=ga&&ba<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Ke(Ia(a,s,l).getClientRects(),r),i.left||i.right||0==s)break;l=s,s-=1,u="right"}ga&&ba<11&&(i=Je(t.display.measure,i))}else{s>0&&(u=r="right");var p;i=t.options.lineWrapping&&(p=a.getClientRects()).length>1?p["right"==r?p.length-1:0]:a.getBoundingClientRect()}if(ga&&ba<9&&!s&&(!i||!i.left&&!i.right)){var f=a.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+_n(t.display),top:f.top,bottom:f.bottom}:_s}for(var h=i.top-e.rect.top,d=i.bottom-e.rect.top,m=(h+d)/2,y=e.view.measure.heights,v=0;v<y.length-1&&!(m<y[v]);v++);var g=v?y[v-1]:0,b=y[v],_={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:g,bottom:b};return i.left||i.right||(_.bogus=!0),t.options.singleCursorHeightPerLine||(_.rtop=h,_.rbottom=d),_}function Je(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Bt(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function Qe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function tn(t){t.display.externalMeasure=null,e(t.display.lineMeasure);for(var n=0;n<t.display.view.length;n++)Qe(t.display.view[n])}function en(t){tn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function nn(){return wa&&Oa?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return wa&&Oa?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=Ie(t.widgets[n]));return e}function an(t,e,n,r,i){if(!i){var o=on(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=gt(e);if("local"==r?a+=De(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var l=s.left+("window"==r?0:nn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function sn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function ln(t,e,n,r,i){return r||(r=T(t.doc,e.line)),an(t,r,qe(t,r,e.ch,i),n)}function un(t,e,n,r,i,o){function a(e,a){var s=Xe(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(t,r,s,n)}function s(t,e,n){var r=l[e],i=1==r.level;return a(n?t-1:t,i!=n)}r=r||T(t.doc,e.line),i||(i=Ze(t,r));var l=kt(r,t.doc.direction),u=e.ch,c=e.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var p=wt(l,u,c),f=Ja,h=s(u,p,"before"==c);return null!=f&&(h.other=s(u,f,"before"!=c)),h}function cn(t,e){var n=0;e=V(t.doc,e),t.options.lineWrapping||(n=_n(t.display)*e.ch);var r=T(t.doc,e.line),i=gt(r)+De(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function pn(t,e,n,r,i){var o=L(t,e,n);return o.xRel=i,r&&(o.outside=!0),o}function fn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return pn(r.first,0,null,!0,-1);var i=z(r,n),o=r.first+r.size-1;if(i>o)return pn(r.first+r.size-1,T(r,o).text.length,null,!0,1);e<0&&(e=0);for(var a=T(r,i);;){var s=yn(t,a,i,e,n),l=ut(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=A(a=u.to.line)}}function hn(t,e,n,r){r-=on(e);var i=e.text.length,o=S(function(e){return Xe(t,n,e-1).bottom<=r},i,0);return i=S(function(e){return Xe(t,n,e).top>r},o,i),{begin:o,end:i}}function dn(t,e,n,r){return n||(n=Ze(t,e)),hn(t,e,n,an(t,e,Xe(t,n,r),"line").top)}function mn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function yn(t,e,n,r,i){i-=gt(e);var o=Ze(t,e),a=on(e),s=0,l=e.text.length,u=!0,c=kt(e,t.doc.direction);if(c){var p=(t.options.lineWrapping?gn:vn)(t,e,n,o,c,r,i);u=1!=p.level,s=u?p.from:p.to-1,l=u?p.to:p.from-1}var f,h,d=null,m=null,y=S(function(e){var n=Xe(t,o,e);return n.top+=a,n.bottom+=a,!!mn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(d=e,m=n),!0)},s,l),v=!1;if(m){var g=r-m.left<m.right-r,b=g==u;y=d+(b?0:1),h=b?"after":"before",f=g?m.left:m.right}else{u||y!=l&&y!=s||y++,h=0==y?"after":y==e.text.length?"before":Xe(t,o,y-(u?1:0)).bottom+a<=i==u?"after":"before";var _=un(t,L(n,y,h),"line",e,o);f=_.left,v=i<_.top||i>=_.bottom}return y=E(e.text,y,1),pn(n,y,h,v,r-f)}function vn(t,e,n,r,i,o,a){var s=S(function(s){var l=i[s],u=1!=l.level;return mn(un(t,L(n,u?l.to:l.from,u?"before":"after"),"line",e,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=un(t,L(n,u?l.from:l.to,u?"after":"before"),"line",e,r);mn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function gn(t,e,n,r,i,o,a){var s=hn(t,e,r,a),l=s.begin,u=s.end;/\s/.test(e.text.charAt(u-1))&&u--;for(var c=null,p=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=u||h.to<=l)){var d=1!=h.level,m=Xe(t,r,d?Math.min(u,h.to)-1:Math.max(l,h.from)).right,y=m<o?o-m+1e9:m-o;(!c||p>y)&&(c=h,p=y)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function bn(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==ms){ms=r("pre");for(var i=0;i<49;++i)ms.appendChild(document.createTextNode("x")),ms.appendChild(r("br"));ms.appendChild(document.createTextNode("x"))}n(t.measure,ms);var o=ms.offsetHeight/50;return o>3&&(t.cachedTextHeight=o),e(t.measure),o||1}function _n(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=r("span","xxxxxxxxxx"),i=r("pre",[e]);n(t.measure,i);var o=e.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(t.cachedCharWidth=a),a||10}function xn(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:wn(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function wn(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function kn(t){var e=bn(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/_n(t.display)-3);return function(i){if(yt(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function En(t){var e=t.doc,n=kn(t);e.iter(function(t){var e=n(t);e!=t.height&&P(t,e)})}function Sn(t,e,n,r){var i=t.display;if(!n&&"true"==Lt(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=fn(t,o,a);if(r&&1==u.xRel&&(l=T(t.doc,u.line).text).length==u.ch){var c=p(l,l.length,t.options.tabSize)-l.length;u=L(u.line,Math.max(0,Math.round((o-Ne(t.display).left)/_n(t.display))-c))}return u}function Cn(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function Tn(t){t.display.input.showSelection(t.display.input.prepareSelection())}function On(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&Mn(t,s.head,i),l||An(t,s,o)}}return r}function Mn(t,e,n){var i=un(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=n.appendChild(r("div","\xa0","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Pn(t,e){return t.top-e.top||t.left-e.left}function An(t,e,n){function i(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?p-t:n)+"px;\n                             height: "+(i-e)+"px"))}function o(e,n,r){function o(n,r){return ln(t,L(e,n),"div",h,r)}function a(e,n,r){var i=dn(t,h,null,e),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),a)[a]}var l,u,h=T(s,e),d=h.text.length,m=kt(h,s.direction);return xt(m,n||0,null==r?d:r,function(t,e,s,h){var y="ltr"==s,v=o(t,y?"left":"right"),g=o(e-1,y?"right":"left"),b=null==n&&0==t,_=null==r&&e==d,x=0==h,w=!m||h==m.length-1;if(g.top-v.top<=3){var k=(f?b:_)&&x,E=(f?_:b)&&w,S=k?c:(y?v:g).left,C=E?p:(y?g:v).right;i(S,v.top,C-S,v.bottom)}else{var T,O,M,P;y?(T=f&&b&&x?c:v.left,O=f?p:a(t,s,"before"),M=f?c:a(e,s,"after"),P=f&&_&&w?p:g.right):(T=f?a(t,s,"before"):c,O=!f&&b&&x?p:v.right,M=!f&&_&&w?c:g.left,P=f?a(e,s,"after"):p),i(T,v.top,O-T,v.bottom),v.bottom<g.top&&i(c,v.bottom,null,g.top),i(M,g.top,P-M,g.bottom)}(!l||Pn(v,l)<0)&&(l=v),Pn(g,l)<0&&(l=g),(!u||Pn(v,u)<0)&&(u=v),Pn(g,u)<0&&(u=g)}),{start:l,end:u}}var a=t.display,s=t.doc,l=document.createDocumentFragment(),u=Ne(t.display),c=u.left,p=Math.max(a.sizerWidth,Fe(t)-a.sizer.offsetLeft)-u.right,f="ltr"==s.direction,h=e.from(),d=e.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var m=T(s,h.line),y=T(s,d.line),v=pt(m)==pt(y),g=o(h.line,h.ch,v?m.text.length+1:null).end,b=o(d.line,v?0:null,d.ch).start;v&&(g.top<b.top-2?(i(g.right,g.top,null,g.bottom),i(c,b.top,b.left,b.bottom)):i(g.right,g.top,b.left-g.right,g.bottom)),g.bottom<b.top&&i(c,g.bottom,null,b.top)}n.appendChild(l)}function zn(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function jn(t){t.state.focused||(t.display.input.focus(),Ln(t))}function In(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Dn(t))},100)}function Ln(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ct(t,"focus",t,e),t.state.focused=!0,s(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),_a&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),zn(t))}function Dn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Ct(t,"blur",t,e),t.state.focused=!1,Ra(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Rn(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=void 0;if(!i.hidden){if(ga&&ba<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(o<2&&(o=bn(e)),(l>.005||l<-.005)&&(P(i.line,o),Nn(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Nn(i.rest[u])}}}function Nn(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Bn(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-De(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=z(e,r),a=z(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=z(e,gt(T(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=z(e,gt(T(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Fn(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=wn(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function Un(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=I(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",zr(t),!0}return!1}function Vn(t,e){if(!Tt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),o=null;if(e.top+i.top<0?o=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ca){var a=r("div","\u200b",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-De(t.display))+"px;\n                         height: "+(e.bottom-e.top+Be(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(a),a.scrollIntoView(o),t.display.lineSpace.removeChild(a)}}}function Hn(t,e,n,r){null==r&&(r=0);var i;t.options.lineWrapping||e!=n||(e=e.ch?L(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?L(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=un(t,e),l=n&&n!=e?un(t,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=qn(t,i),c=t.doc.scrollTop,p=t.doc.scrollLeft;if(null!=u.scrollTop&&(Jn(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(tr(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-p)>1&&(a=!0)),!a)break}return i}function Wn(t,e){var n=qn(t,e);null!=n.scrollTop&&Jn(t,n.scrollTop),null!=n.scrollLeft&&tr(t,n.scrollLeft)}function qn(t,e){var n=t.display,r=bn(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=Ue(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+Re(n),l=e.top<r,u=e.bottom>s-r;if(e.top<i)a.scrollTop=l?0:e.top;else if(e.bottom>i+o){var c=Math.min(e.top,(u?s:e.bottom)-o);c!=i&&(a.scrollTop=c)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,f=Fe(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),h=e.right-e.left>f;return h&&(e.right=e.left+f),e.left<10?a.scrollLeft=0:e.left<p?a.scrollLeft=Math.max(0,e.left-(h?0:10)):e.right>f+p-3&&(a.scrollLeft=e.right+(h?0:10)-f),a}function Gn(t,e){null!=e&&(Kn(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Zn(t){Kn(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Xn(t,e,n){null==e&&null==n||Kn(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Yn(t,e){Kn(t),t.curOp.scrollToPos=e}function Kn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;$n(t,cn(t,e.from),cn(t,e.to),e.margin)}}function $n(t,e,n,r){var i=qn(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Xn(t,i.scrollLeft,i.scrollTop)}function Jn(t,e){Math.abs(t.doc.scrollTop-e)<2||(da||Pr(t,{top:e}),Qn(t,e,!0),da&&Pr(t),kr(t,100))}function Qn(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function tr(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,Fn(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function er(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Re(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Be(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function nr(t,e){e||(e=er(t));var n=t.display.barWidth,r=t.display.barHeight;rr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Rn(t),rr(t,er(t)),n=t.display.barWidth,r=t.display.barHeight}function rr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function ir(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Ra(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new ks[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),es(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?tr(t,e):Jn(t,e)},t),t.display.scrollbars.addClass&&s(t.display.wrapper,t.display.scrollbars.addClass)}function or(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Es},ve(t.curOp)}function ar(t){be(t.curOp,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;sr(t)})}function sr(t){for(var e=t.ops,n=0;n<e.length;n++)lr(e[n]);for(var r=0;r<e.length;r++)ur(e[r]);for(var i=0;i<e.length;i++)cr(e[i]);for(var o=0;o<e.length;o++)pr(e[o]);for(var a=0;a<e.length;a++)fr(e[a])}function lr(t){var e=t.cm,n=e.display;Sr(e),t.updateMaxLine&&_t(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new Ss(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ur(t){t.updatedDisplay=t.mustUpdate&&Or(t.cm,t.update)}function cr(t){var e=t.cm,n=e.display;t.updatedDisplay&&Rn(e),t.barMeasure=er(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=qe(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Be(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Fe(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function pr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&tr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==a();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&nr(e,t.barMeasure),t.updatedDisplay&&jr(e,t.barMeasure),t.selectionChanged&&zn(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&jn(t.cm)}function fr(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&Mr(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Qn(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&tr(e,t.scrollLeft,!0,!0),t.scrollToPos){Vn(e,Hn(e,V(r,t.scrollToPos.from),V(r,t.scrollToPos.to),t.scrollToPos.margin))}var i=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||Ct(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Ct(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ct(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function hr(t,e){if(t.curOp)return e();or(t);try{return e()}finally{ar(t)}}function dr(t,e){return function(){if(t.curOp)return e.apply(t,arguments);or(t);try{return e.apply(t,arguments)}finally{ar(t)}}}function mr(t){return function(){if(this.curOp)return t.apply(this,arguments);or(this);try{return t.apply(this,arguments)}finally{ar(this)}}}function yr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);or(e);try{return t.apply(this,arguments)}finally{ar(e)}}}function vr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)$a&&dt(t.doc,e)<i.viewTo&&br(t);else if(n<=i.viewFrom)$a&&mt(t.doc,n+r)>i.viewFrom?br(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)br(t);else if(e<=i.viewFrom){var o=_r(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):br(t)}else if(n>=i.viewTo){var a=_r(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):br(t)}else{var s=_r(t,e,e,-1),l=_r(t,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(ye(t,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):br(t)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:e<u.lineN+u.size&&(i.externalMeasured=null))}function gr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[Cn(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==f(a,n)&&a.push(n)}}}function br(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function _r(t,e,n,r){var i,o=Cn(t,e),a=t.display.view;if(!$a||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,n+=i}for(;dt(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function xr(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=ye(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=ye(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(Cn(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(ye(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Cn(t,n)))),r.viewTo=n}function wr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function kr(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,u(Er,t))}function Er(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=Kt(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(r.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?qt(e.mode,r.state):null,l=Xt(t,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!p&&f<a.length;++f)p=a[f]!=o.styles[f];p&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&$t(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return kr(t,t.options.workDelay),!0}),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&hr(t,function(){for(var e=0;e<i.length;e++)gr(t,i[e],"text")})}}function Sr(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Be(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Be(t)+"px",e.scrollbarsClipped=!0)}function Cr(t){if(t.hasFocus())return null;var e=a();if(!e||!o(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Tr(t){if(t&&t.activeElt&&t.activeElt!=a()&&(t.activeElt.focus(),t.anchorNode&&o(document.body,t.anchorNode)&&o(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}function Or(t,n){var r=t.display,i=t.doc;if(n.editorIsHidden)return br(t),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==wr(t))return!1;Un(t)&&(br(t),n.dims=xn(t));var o=i.first+i.size,a=Math.max(n.visible.from-t.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+t.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),$a&&(a=dt(t.doc,a),s=mt(t.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;xr(t,a,s),r.viewOffset=gt(T(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var u=wr(t);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Cr(t);return u>4&&(r.lineDiv.style.display="none"),Ar(t,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Tr(c),e(r.cursorDiv),e(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,kr(t,400)),r.updateLineNumbers=null,!0}function Mr(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Fe(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Re(t.display)-Ue(t),n.top)}),e.visible=Bn(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&Or(t,e);r=!1){Rn(t);var i=er(t);Tn(t),nr(t,i),jr(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Pr(t,e){var n=new Ss(t,e);if(Or(t,n)){Rn(t),Mr(t,n);var r=er(t);Tn(t),nr(t,r),jr(t,r),n.finish()}}function Ar(t,n,r){function i(e){var n=e.nextSibling;return _a&&Pa&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var o=t.display,a=t.options.lineNumbers,s=o.lineDiv,l=s.firstChild,u=o.view,c=o.viewFrom,p=0;p<u.length;p++){var h=u[p];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;l!=h.node;)l=i(l);var d=a&&null!=n&&n<=c&&h.lineNumber;h.changes&&(f(h.changes,"gutter")>-1&&(d=!1),we(t,h,c,r)),d&&(e(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(I(t.options,c)))),l=h.node.nextSibling}else{var m=Pe(t,h,c,r);s.insertBefore(m,l)}c+=h.size}for(;l;)l=i(l)}function zr(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function jr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Be(t)+"px"}function Ir(t){var n=t.display.gutters,i=t.options.gutters;e(n);for(var o=0;o<i.length;++o){var a=i[o],s=n.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(t.display.lineGutter=s,s.style.width=(t.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",zr(t)}function Lr(t){var e=f(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function Dr(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function Rr(t){var e=Dr(t);return e.x*=Ts,e.y*=Ts,e}function Nr(t,e){var n=Dr(e),r=n.x,i=n.y,o=t.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Pa&&_a)t:for(var u=e.target,c=o.view;u!=a;u=u.parentNode)for(var p=0;p<c.length;p++)if(c[p].node==u){t.display.currentWheelTarget=u;break t}if(r&&!da&&!ka&&null!=Ts)return i&&l&&Jn(t,Math.max(0,a.scrollTop+i*Ts)),tr(t,Math.max(0,a.scrollLeft+r*Ts)),(!i||i&&l)&&At(e),void(o.wheelStartX=null);if(i&&null!=Ts){var f=i*Ts,h=t.doc.scrollTop,d=h+o.wrapper.clientHeight;f<0?h=Math.max(0,h+f-50):d=Math.min(t.doc.height,d+f+50),Pr(t,{top:h,bottom:d})}Cs<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ts=(Ts*Cs+n)/(Cs+1),++Cs)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Br(t,e){var n=t[e];t.sort(function(t,e){return D(t.from(),e.from())}),e=f(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(D(o.to(),i.from())>=0){var a=F(o.from(),i.from()),s=B(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=e&&--e,t.splice(--r,2,new Ms(l?s:a,l?a:s))}}return new Os(t,e)}function Fr(t,e){return new Os([new Ms(t,e||t)],0)}function Ur(t){return t.text?L(t.from.line+t.text.length-1,m(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Vr(t,e){if(D(t,e.from)<0)return t;if(D(t,e.to)<=0)return Ur(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Ur(e).ch-e.to.ch),L(n,r)}function Hr(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new Ms(Vr(i.anchor,e),Vr(i.head,e)))}return Br(n,t.sel.primIndex)}function Wr(t,e,n){return t.line==e.line?L(n.line,t.ch-e.ch+n.ch):L(n.line+(t.line-e.line),t.ch)}function qr(t,e,n){for(var r=[],i=L(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=Wr(s.from,i,o),u=Wr(Ur(s),i,o);if(i=s.to,o=u,"around"==n){var c=t.sel.ranges[a],p=D(c.head,c.anchor)<0;r[a]=new Ms(p?u:l,p?l:u)}else r[a]=new Ms(l,l)}return new Os(r,t.sel.primIndex)}function Gr(t){t.doc.mode=Ht(t.options,t.doc.modeOption),Zr(t)}function Zr(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,kr(t,100),t.state.modeGen++,t.curOp&&vr(t)}function Xr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==m(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Yr(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){oe(t,n,i,r),_e(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new ds(u[o],i(o),r));return n}var s=e.from,l=e.to,u=e.text,c=T(t,s.line),p=T(t,l.line),f=m(u),h=i(u.length-1),d=l.line-s.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Xr(t,e)){var y=a(0,u.length-1);o(p,p.text,h),d&&t.remove(s.line,d),y.length&&t.insert(s.line,y)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),h);else{var v=a(1,u.length-1);v.push(new ds(f+c.text.slice(l.ch),h,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),t.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+p.text.slice(l.ch),i(0)),t.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(p,f+p.text.slice(l.ch),h);var g=a(1,u.length-1);d>1&&t.remove(s.line+1,d-1),t.insert(s.line+1,g)}_e(t,"change",t,e)}function Kr(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var s=t.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),r(s.doc,t,l))}}}r(t,null,!0)}function $r(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,En(t),Gr(t),Jr(t),t.options.lineWrapping||_t(t),t.options.mode=e.modeOption,vr(t)}function Jr(t){("rtl"==t.doc.direction?s:Ra)(t.display.lineDiv,"CodeMirror-rtl")}function Qr(t){hr(t,function(){Jr(t),vr(t)})}function ti(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function ei(t,e){var n={from:N(e.from),to:Ur(e),text:O(t,e.from,e.to)};return li(t,n,e.from.line,e.to.line+1),Kr(t,function(t){return li(t,n,e.from.line,e.to.line+1)},!0),n}function ni(t){for(;t.length;){if(!m(t).ranges)break;t.pop()}}function ri(t,e){return e?(ni(t.done),m(t.done)):t.done.length&&!m(t.done).ranges?m(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),m(t.done)):void 0}function ii(t,e,n,r){var i=t.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=ri(i,i.lastOp==r)))a=m(o.changes),0==D(e.from,e.to)&&0==D(e.from,a.to)?a.to=Ur(e):o.changes.push(ei(t,e));else{var l=m(i.done);for(l&&l.ranges||si(t.sel,i.done),o={changes:[ei(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,a||Ct(t,"historyAdded")}function oi(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function ai(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oi(t,o,m(i.done),e))?i.done[i.done.length-1]=e:si(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ni(i.undone)}function si(t,e){var n=m(e);n&&n.ranges&&n.equals(t)||e.push(t)}function li(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function ui(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function ci(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(ui(n[i]));return r}function pi(t,e){var n=ci(t,e),r=Q(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function fi(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?Os.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),e)for(var p in u)(c=p.match(/^spans_(\d+)$/))&&f(e,Number(c[1]))>-1&&(m(s)[p]=u[p],delete u[p])}}}return r}function hi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=D(e,i)<0;o!=D(n,i)<0?(i=e,e=n):o!=D(e,n)<0&&(e=n)}return new Ms(i,e)}return new Ms(n||e,e)}function di(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),_i(t,new Os([hi(t.sel.primary(),e,n,i)],0),r)}function mi(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=hi(t.sel.ranges[o],e[o],null,i);_i(t,Br(r,t.sel.primIndex),n)}function yi(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,_i(t,Br(i,t.sel.primIndex),r)}function vi(t,e,n,r){_i(t,Fr(e,n),r)}function gi(t,e,n){var r={ranges:e.ranges,update:function(e){var n=this;this.ranges=[];for(var r=0;r<e.length;r++)n.ranges[r]=new Ms(V(t,e[r].anchor),V(t,e[r].head))},origin:n&&n.origin};return Ct(t,"beforeSelectionChange",t,r),t.cm&&Ct(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?Br(r.ranges,r.ranges.length-1):e}function bi(t,e,n){var r=t.history.done,i=m(r);i&&i.ranges?(r[r.length-1]=e,xi(t,e,n)):_i(t,e,n)}function _i(t,e,n){xi(t,e,n),ai(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function xi(t,e,n){(Mt(t,"beforeSelectionChange")||t.cm&&Mt(t.cm,"beforeSelectionChange"))&&(e=gi(t,e,n)),wi(t,Ei(t,e,n&&n.bias||(D(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!t.cm||Zn(t.cm)}function wi(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Ot(t.cm)),_e(t,"cursorActivity",t))}function ki(t){wi(t,Ei(t,t.sel,null,!1))}function Ei(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Ci(t,a.anchor,s&&s.anchor,n,r),u=Ci(t,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new Ms(l,u))}return i?Br(i,e.primIndex):e}function Si(t,e,n,r,i){var o=T(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(l.inclusiveRight?s.to>=e.ch:s.to>e.ch))){if(i&&(Ct(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ti(t,u,-r,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=D(u,n))&&(r<0?c<0:c>0))return Si(t,u,e,r,i)}var p=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(p=Ti(t,p,r,p.line==e.line?o:null)),p?Si(t,p,e,r,i):null}}return e}function Ci(t,e,n,r,i){var o=r||1,a=Si(t,e,n,o,i)||!i&&Si(t,e,n,o,!0)||Si(t,e,n,-o,i)||!i&&Si(t,e,n,-o,!0);return a||(t.cantEdit=!0,L(t.first,0))}function Ti(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?V(t,L(e.line-1)):null:n>0&&e.ch==(r||T(t,e.line)).text.length?e.line<t.first+t.size-1?L(e.line+1,0):null:new L(e.line,e.ch+n)}function Oi(t){t.setSelection(L(t.firstLine(),0),L(t.lastLine()),Wa)}function Mi(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=V(t,e)),n&&(r.to=V(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Ct(t,"beforeChange",t,r),t.cm&&Ct(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Pi(t,e,n){if(t.cm){if(!t.cm.curOp)return dr(t.cm,Pi)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Mt(t,"beforeChange")||t.cm&&Mt(t.cm,"beforeChange"))||(e=Mi(t,e,!0))){var r=Ka&&!n&&et(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)Ai(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else Ai(t,e)}}function Ai(t,e){if(1!=e.text.length||""!=e.text[0]||0!=D(e.from,e.to)){var n=Hr(t,e);ii(t,e,n,t.cm?t.cm.curOp.id:NaN),Ii(t,e,n,Q(t,e));var r=[];Kr(t,function(t,n){n||-1!=f(r,t.history)||(Bi(t.history,e),r.push(t.history)),Ii(t,e,null,Q(t,e))})}}function zi(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(t.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(r)return void s.push(i);break}if(si(i,l),n&&!i.equals(t.sel))return void _i(t,i,{clearRedo:!1});a=i}var c=[];si(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var p=Mt(t,"beforeChange")||t.cm&&Mt(t.cm,"beforeChange"),h=i.changes.length-1;h>=0;--h){var d=function(n){var r=i.changes[n];if(r.origin=e,p&&!Mi(t,r,!1))return s.length=0,{};c.push(ei(t,r));var o=n?Hr(t,r):m(s);Ii(t,r,o,pi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Ur(r)});var a=[];Kr(t,function(t,e){e||-1!=f(a,t.history)||(Bi(t.history,r),a.push(t.history)),Ii(t,r,null,pi(t,r))})}(h);if(d)return d.v}}}}function ji(t,e){if(0!=e&&(t.first+=e,t.sel=new Os(y(t.sel.ranges,function(t){return new Ms(L(t.anchor.line+e,t.anchor.ch),L(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){vr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)gr(t.cm,r,"gutter")}}function Ii(t,e,n,r){if(t.cm&&!t.cm.curOp)return dr(t.cm,Ii)(t,e,n,r);if(e.to.line<t.first)return void ji(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);ji(t,i),e={from:L(t.first,0),to:L(e.to.line+i,e.to.ch),text:[m(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:L(o,T(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=O(t,e.from,e.to),n||(n=Hr(t,e)),t.cm?Li(t.cm,e,r):Yr(t,e,r),xi(t,n,Wa)}}function Li(t,e,n){var r=t.doc,i=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=A(pt(T(r,o.line))),r.iter(l,a.line+1,function(t){if(t==i.maxLine)return s=!0,!0})),r.sel.contains(e.from,e.to)>-1&&Ot(t),Yr(r,e,n,kn(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,function(t){var e=bt(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),ie(r,o.line),kr(t,400);var u=e.text.length-(a.line-o.line)-1;e.full?vr(t):o.line!=a.line||1!=e.text.length||Xr(t.doc,e)?vr(t,o.line,a.line+1,u):gr(t,o.line,"text");var c=Mt(t,"changes"),p=Mt(t,"change");if(p||c){var f={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&_e(t,"change",t,f),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function Di(t,e,n,r,i){if(r||(r=n),D(r,n)<0){var o;o=[r,n],n=o[0],r=o[1]}"string"==typeof e&&(e=t.splitLines(e)),Pi(t,{from:n,to:r,text:e,origin:i})}function Ri(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function Ni(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ri(o.ranges[s].anchor,e,n,r),Ri(o.ranges[s].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=L(u.from.line+r,u.from.ch),u.to=L(u.to.line+r,u.to.ch);else if(e<=u.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function Bi(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;Ni(t.done,n,r,i),Ni(t.undone,n,r,i)}function Fi(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=T(t,U(t,e)):i=A(e),null==i?null:(r(o,i)&&t.cm&&gr(t.cm,i,n),o)}function Ui(t){var e=this;this.lines=t,this.parent=null;for(var n=0,r=0;r<t.length;++r)t[r].parent=e,n+=t[r].height;this.height=n}function Vi(t){var e=this;this.children=t;for(var n=0,r=0,i=0;i<t.length;++i){var o=t[i];n+=o.chunkSize(),r+=o.height,o.parent=e}this.size=n,this.height=r,this.parent=null}function Hi(t,e,n){gt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Gn(t,n)}function Wi(t,e,n,r){var i=new Ps(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Fi(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!yt(t,e)){var r=gt(e)<t.scrollTop;P(e,e.height+Ie(i)),r&&Gn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&_e(o,"lineWidgetAdded",o,i,"number"==typeof e?e:A(e)),i}function qi(t,e,n,r,o){if(r&&r.shared)return Gi(t,e,n,r,o);if(t.cm&&!t.cm.curOp)return dr(t.cm,qi)(t,e,n,r,o);var a=new zs(t,o),s=D(e,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ct(t,e.line,e,n,a)||e.line!=n.line&&ct(t,n.line,e,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");G()}a.addToHistory&&ii(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var l,u=e.line,p=t.cm;if(t.iter(u,n.line+1,function(t){p&&a.collapsed&&!p.options.lineWrapping&&pt(t)==p.display.maxLine&&(l=!0),a.collapsed&&u!=e.line&&P(t,0),K(t,new Z(a,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u}),a.collapsed&&t.iter(e.line,n.line+1,function(e){yt(t,e)&&P(e,0)}),a.clearOnEnter&&es(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(q(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),a.collapsed&&(a.id=++As,a.atomic=!0),p){if(l&&(p.curOp.updateMaxLine=!0),a.collapsed)vr(p,e.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var f=e.line;f<=n.line;f++)gr(p,f,"text");a.atomic&&ki(p.doc),_e(p,"markerAdded",p,a)}return a}function Gi(t,e,n,r,i){r=c(r),r.shared=!1;var o=[qi(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Kr(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(qi(t,V(t,e),V(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=m(o)}),new js(o,a)}function Zi(t){return t.findMarks(L(t.first,0),t.clipPos(L(t.lastLine())),function(t){return t.parent})}function Xi(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(D(o,a)){var s=qi(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Yi(t){for(var e=0;e<t.length;e++)!function(e){var n=t[e],r=[n.primary.doc];Kr(n.primary.doc,function(t){return r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==f(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}(e)}function Ki(t){var e=this;if(Qi(e),!Tt(e,t)&&!Le(e.display,t)){At(t),ga&&(Ds=+new Date);var n=Sn(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;s<i;++s)!function(t,r){if(!e.options.allowDropFileTypes||-1!=f(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=dr(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=V(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Pi(e.doc,l),bi(e.doc,Fr(n,Ur(l)))}}),s.readAsText(t)}}(r[s],s);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var l=t.dataTransfer.getData("Text");if(l){var u;if(e.state.draggingText&&!e.state.draggingText.copy&&(u=e.listSelections()),xi(e.doc,Fr(n,n)),u)for(var c=0;c<u.length;++c)Di(e.doc,"",u[c].anchor,u[c].head,"drag");e.replaceSelection(l,"around","paste"),e.display.input.focus()}}catch(t){}}}}function $i(t,e){if(ga&&(!t.state.draggingText||+new Date-Ds<100))return void It(e);if(!Tt(t,e)&&!Le(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!Ea)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ka&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),ka&&n.parentNode.removeChild(n)}}function Ji(t,e){var i=Sn(t,e);if(i){var o=document.createDocumentFragment();Mn(t,i,o),t.display.dragCursor||(t.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),n(t.display.dragCursor,o)}}function Qi(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function to(t){if(document.getElementsByClassName)for(var e=document.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function eo(){Rs||(no(),Rs=!0)}function no(){var t;es(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,to(ro)},100))}),es(window,"blur",function(){return to(Dn)})}function ro(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function io(t){var e=t.split(/-(?!$)/);t=e[e.length-1];for(var n,r,i,o,a=0;a<e.length-1;a++){var s=e[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(t="Alt-"+t),r&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function oo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=y(n.split(" "),io),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t}function ao(t,e,n,r){e=co(e);var i=e.call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ao(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=ao(t,e.fallthrough[o],n,r);if(a)return a}}}function so(t){var e="string"==typeof t?t:Ns[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function lo(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(La?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(La?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function uo(t,e){if(ka&&34==t.keyCode&&t.char)return!1;var n=Ns[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),lo(n,t,e))}function co(t){return"string"==typeof t?Vs[t]:t}function po(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&D(o.from,m(r).to)<=0;){var a=r.pop();if(D(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}hr(t,function(){for(var e=r.length-1;e>=0;e--)Di(t.doc,"",r[e].from,r[e].to,"+delete");Zn(t)})}function fo(t,e,n){var r=E(t.text,e+n,n);return r<0||r>t.text.length?null:r}function ho(t,e,n){var r=fo(t,e.ch,n);return null==r?null:new L(e.line,r,n<0?"after":"before")}function mo(t,e,n,r,i){if(t){var o=kt(n,e.doc.direction);if(o){var a,s=i<0?m(o):o[0],l=i<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var c=Ze(e,n);a=i<0?n.text.length-1:0;var p=Xe(e,c,a).top;a=S(function(t){return Xe(e,c,t).top==p},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=fo(n,a,1))}else a=i<0?s.to:s.from;return new L(r,a,u)}}return new L(r,i<0?n.text.length:0,i<0?"before":"after")}function yo(t,e,n,r){var i=kt(e,t.doc.direction);if(!i)return ho(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=wt(i,n.ch,n.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return ho(e,n,r);var s,l=function(t,n){return fo(e,t instanceof L?t.ch:t,n)},u=function(n){return t.options.lineWrapping?(s=s||Ze(t,e),dn(t,e,s,n)):{begin:0,end:e.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var p=1==a.level==r<0,f=l(n,p?1:-1);if(null!=f&&(p?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var h=p?"before":"after";return new L(n.line,f,h)}}var d=function(t,e,r){for(var o=function(t,e){return e?new L(n.line,l(t,1),"before"):new L(n.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],s=e>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},m=d(o+r,r,c);if(m)return m;var y=r>0?c.end:l(c.begin,-1);return null==y||r>0&&y==e.text.length||!(m=d(r>0?0:i.length-1,r,u(y)))?null:m}function vo(t,e){var n=T(t.doc,e),r=pt(n);return r!=n&&(e=A(r)),mo(!0,t,r,e,1)}function go(t,e){var n=T(t.doc,e),r=ft(n);return r!=n&&(e=A(r)),mo(!0,t,n,e,-1)}function bo(t,e){var n=vo(t,e.line),r=T(t.doc,n.line),i=kt(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return L(n.line,a?0:o,n.sticky)}return n}function _o(t,e,n){if("string"==typeof e&&!(e=Hs[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=Ha}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function xo(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=ao(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&ao(e,t.options.extraKeys,n,t)||ao(e,t.options.keyMap,n,t)}function wo(t,e,n,r){var i=t.state.keySeq;if(i){if(so(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:Ws.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),ko(t,i+" "+e,n,r))return!0}return ko(t,e,n,r)}function ko(t,e,n,r){var i=xo(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&_e(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(At(n),zn(t)),!!i}function Eo(t,e){var n=uo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?wo(t,"Shift-"+n,e,function(e){return _o(t,e,!0)})||wo(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return _o(t,e)}):wo(t,n,e,function(e){return _o(t,e)}))}function So(t,e,n){return wo(t,"'"+n+"'",e,function(e){return _o(t,e,!0)})}function Co(t){var e=this;if(e.curOp.focus=a(),!Tt(e,t)){ga&&ba<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=Eo(e,t);ka&&(qs=r?n:null,!r&&88==n&&!os&&(Pa?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||To(e)}}function To(t){function e(t){18!=t.keyCode&&t.altKey||(Ra(n,"CodeMirror-crosshair"),St(document,"keyup",e),St(document,"mouseover",e))}var n=t.display.lineDiv;s(n,"CodeMirror-crosshair"),es(document,"keyup",e),es(document,"mouseover",e)}function Oo(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tt(this,t)}function Mo(t){var e=this;if(!(Le(e.display,t)||Tt(e,t)||t.ctrlKey&&!t.altKey||Pa&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(ka&&n==qs)return qs=null,void At(t);if(!ka||t.which&&!(t.which<10)||!Eo(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(So(e,t,i)||e.display.input.onKeyPress(t))}}}function Po(t,e){var n=+new Date;return Xs&&Xs.compare(n,t,e)?(Zs=Xs=null,"triple"):Zs&&Zs.compare(n,t,e)?(Xs=new Gs(n,t,e),Zs=null,"double"):(Zs=new Gs(n,t,e),Xs=null,"single")}function Ao(t){var e=this,n=e.display;if(!(Tt(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=t.shiftKey,Le(n,t))return void(_a||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Fo(e,t)){var r=Sn(e,t),i=Dt(t),o=r?Po(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&zo(e,i,r,o,t)||(1==i?r?Io(e,r,o,t):Lt(t)==n.scroller&&At(t):2==i?(r&&di(e.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(Da?Uo(e,t):In(e)))}}}function zo(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==e?"Left":2==e?"Middle":"Right")+o,wo(t,lo(o,i),i,function(e){if("string"==typeof e&&(e=Hs[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=Ha}finally{t.state.suppressEdits=!1}return r})}function jo(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=Aa?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Pa?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Pa?n.altKey:n.ctrlKey)),i}function Io(t,e,n,r){ga?setTimeout(u(jn,t),0):t.curOp.focus=a();var i,o=jo(t,n,r),s=t.doc.sel;t.options.dragDrop&&ns&&!t.isReadOnly()&&"single"==n&&(i=s.contains(e))>-1&&(D((i=s.ranges[i]).from(),e)<0||e.xRel>0)&&(D(i.to(),e)>0||e.xRel<0)?Lo(t,r,e,o):Ro(t,r,e,o)}function Lo(t,e,n,r){var i=t.display,o=!1,a=dr(t,function(e){_a&&(i.scroller.draggable=!1),t.state.draggingText=!1,St(document,"mouseup",a),St(document,"mousemove",s),St(i.scroller,"dragstart",l),St(i.scroller,"drop",a),o||(At(e),r.addNew||di(t.doc,n,null,null,r.extend),_a||ga&&9==ba?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},l=function(){return o=!0};_a&&(i.scroller.draggable=!0),t.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),es(document,"mouseup",a),es(document,"mousemove",s),es(i.scroller,"dragstart",l),es(i.scroller,"drop",a),In(t),setTimeout(function(){return i.input.focus()},20)}function Do(t,e,n){if("char"==n)return new Ms(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Ms(L(e.line,0),V(t.doc,L(e.line+1,0)));var r=n(t,e);return new Ms(r.from,r.to)}function Ro(t,e,n,r){function i(e){if(0!=D(v,e))if(v=e,"rectangle"==r.unit){for(var i=[],o=t.options.tabSize,a=p(T(u,n.line).text,n.ch,o),s=p(T(u,e.line).text,e.ch,o),l=Math.min(a,s),m=Math.max(a,s),y=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));y<=g;y++){var b=T(u,y).text,_=h(b,l,o);l==m?i.push(new Ms(L(y,_),L(y,_))):b.length>_&&i.push(new Ms(L(y,_),L(y,h(b,m,o))))}i.length||i.push(new Ms(n,n)),_i(u,Br(d.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var x,w=c,k=Do(t,e,r.unit),E=w.anchor;D(k.anchor,E)>0?(x=k.head,E=F(w.from(),k.anchor)):(x=k.anchor,E=B(w.to(),k.head));var S=d.ranges.slice(0);S[f]=No(t,new Ms(V(u,E),x)),_i(u,Br(S,f),qa)}}function o(e){var n=++b,s=Sn(t,e,!0,"rectangle"==r.unit);if(s)if(0!=D(s,v)){t.curOp.focus=a(),i(s);var c=Bn(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(dr(t,function(){b==n&&o(e)}),150)}else{var p=e.clientY<g.top?-20:e.clientY>g.bottom?20:0;p&&setTimeout(dr(t,function(){b==n&&(l.scroller.scrollTop+=p,o(e))}),50)}}function s(e){t.state.selectingText=!1,b=1/0,At(e),l.input.focus(),St(document,"mousemove",_),St(document,"mouseup",x),u.history.lastSelOrigin=null}var l=t.display,u=t.doc;At(e);var c,f,d=u.sel,m=d.ranges;if(r.addNew&&!r.extend?(f=u.sel.contains(n),c=f>-1?m[f]:new Ms(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Ms(n,n)),n=Sn(t,e,!0,!0),f=-1;else{var y=Do(t,n,r.unit);c=r.extend?hi(c,y.anchor,y.head,r.extend):y}r.addNew?-1==f?(f=m.length,_i(u,Br(m.concat([c]),f),{scroll:!1,origin:"*mouse"})):m.length>1&&m[f].empty()&&"char"==r.unit&&!r.extend?(_i(u,Br(m.slice(0,f).concat(m.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),d=u.sel):yi(u,f,c,qa):(f=0,_i(u,new Os([c],0),qa),d=u.sel);var v=n,g=l.wrapper.getBoundingClientRect(),b=0,_=dr(t,function(t){Dt(t)?o(t):s(t)}),x=dr(t,s);t.state.selectingText=x,es(document,"mousemove",_),es(document,"mouseup",x)}function No(t,e){var n=e.anchor,r=e.head,i=T(t.doc,n.line);if(0==D(n,r)&&n.sticky==r.sticky)return e;var o=kt(i);if(!o)return e;var a=wt(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return e;var u;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=wt(o,r.ch,r.sticky),p=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?p<0:p>0}var f=o[l+(u?-1:0)],h=u==(1==f.level),d=h?f.from:f.to,m=h?"after":"before";return n.ch==d&&n.sticky==m?e:new Ms(new L(n.line,d,m),r)}function Bo(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&At(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Mt(t,n))return jt(e);o-=s.top-a.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){return Ct(t,n,t,z(t.doc,o),t.options.gutters[l],e),jt(e)}}}function Fo(t,e){return Bo(t,e,"gutterClick",!0)}function Uo(t,e){Le(t.display,e)||Vo(t,e)||Tt(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function Vo(t,e){return!!Mt(t,"gutterContextMenu")&&Bo(t,e,"gutterContextMenu",!1)}function Ho(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),en(t)}function Wo(t){Ir(t),vr(t),Fn(t)}function qo(t,e,n){if(!e!=!(n&&n!=Ys)){var r=t.display.dragFunctions,i=e?es:St;i(t.display.scroller,"dragstart",r.start),i(t.display.scroller,"dragenter",r.enter),i(t.display.scroller,"dragover",r.over),i(t.display.scroller,"dragleave",r.leave),i(t.display.scroller,"drop",r.drop)}}function Go(t){t.options.lineWrapping?(s(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Ra(t.display.wrapper,"CodeMirror-wrap"),_t(t)),En(t),vr(t),en(t),setTimeout(function(){return nr(t)},100)}function Zo(t,e){var n=this;if(!(this instanceof Zo))return new Zo(t,e);this.options=e=e?c(e):{},c(Ks,e,!1),Lr(e);var r=e.value;"string"==typeof r&&(r=new Ls(r,e.mode,null,e.lineSeparator,e.direction)),this.doc=r;var i=new Zo.inputStyles[e.inputStyle](this),o=this.display=new C(t,r,i);o.wrapper.CodeMirror=this,Ir(this),Ho(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ir(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ba,keySeq:null,specialChars:null},e.autofocus&&!Ma&&o.input.focus(),ga&&ba<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Xo(this),eo(),or(this),this.curOp.forceUpdate=!0,$r(this,r),e.autofocus&&!Ma||this.hasFocus()?setTimeout(u(Ln,this),20):Dn(this);for(var a in $s)$s.hasOwnProperty(a)&&$s[a](n,e[a],Ys);Un(this),e.finishInit&&e.finishInit(this);for(var s=0;s<Js.length;++s)Js[s](n);ar(this),_a&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Xo(t){function e(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}var i=t.display;es(i.scroller,"mousedown",dr(t,Ao)),ga&&ba<11?es(i.scroller,"dblclick",dr(t,function(e){if(!Tt(t,e)){var n=Sn(t,e);if(n&&!Fo(t,e)&&!Le(t.display,e)){At(e);var r=t.findWordAt(n);di(t.doc,r.anchor,r.head)}}})):es(i.scroller,"dblclick",function(e){return Tt(t,e)||At(e)}),Da||es(i.scroller,"contextmenu",function(e){return Uo(t,e)});var o,a={end:0};es(i.scroller,"touchstart",function(e){if(!Tt(t,e)&&!n(e)&&!Fo(t,e)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),es(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),es(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Le(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=t.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Ms(s,s):!o.prev.prev||r(o,o.prev.prev)?t.findWordAt(s):new Ms(L(s.line,0),V(t.doc,L(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),At(n)}e()}),es(i.scroller,"touchcancel",e),es(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Jn(t,i.scroller.scrollTop),tr(t,i.scroller.scrollLeft,!0),Ct(t,"scroll",t))}),es(i.scroller,"mousewheel",function(e){return Nr(t,e)}),es(i.scroller,"DOMMouseScroll",function(e){return Nr(t,e)}),es(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){Tt(t,e)||It(e)},over:function(e){Tt(t,e)||(Ji(t,e),It(e))},start:function(e){return $i(t,e)},drop:dr(t,Ki),leave:function(e){Tt(t,e)||Qi(t)}};var s=i.input.getField();es(s,"keyup",function(e){return Oo.call(t,e)}),es(s,"keydown",dr(t,Co)),es(s,"keypress",dr(t,Mo)),es(s,"focus",function(e){return Ln(t,e)}),es(s,"blur",function(e){return Dn(t,e)})}function Yo(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Kt(t,e).state:n="prev");var a=t.options.tabSize,s=T(o,e),l=p(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Ha||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?p(T(o,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(t.options.indentWithTabs)for(var m=Math.floor(u/a);m;--m)h+=a,f+="\t";if(h<u&&(f+=d(u-h)),f!=c)return Di(o,f,L(e,0),L(e,c.length),"+input"),s.stateAfter=null,!0;for(var y=0;y<o.sel.ranges.length;y++){var v=o.sel.ranges[y];if(v.head.line==e&&v.head.ch<c.length){var g=L(e,c.length);yi(o,y,new Ms(g,g));break}}}function Ko(t){Qs=t}function $o(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,s=rs(e),l=null;if(a&&r.ranges.length>1)if(Qs&&Qs.text.join("\n")==e){if(r.ranges.length%Qs.text.length==0){l=[];for(var u=0;u<Qs.text.length;u++)l.push(o.splitLines(Qs.text[u]))}}else s.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(l=y(s,function(t){return[t]}));for(var c,p=r.ranges.length-1;p>=0;p--){var f=r.ranges[p],h=f.from(),d=f.to();f.empty()&&(n&&n>0?h=L(h.line,h.ch-n):t.state.overwrite&&!a?d=L(d.line,Math.min(T(o,d.line).text.length,d.ch+m(s).length)):Qs&&Qs.lineWise&&Qs.text.join("\n")==e&&(h=d=L(h.line,0))),c=t.curOp.updateInput;var v={from:h,to:d,text:l?l[p%l.length]:s,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};Pi(t.doc,v),_e(t,"inputRead",t,v)}e&&!a&&Qo(t,e),Zn(t),t.curOp.updateInput=c,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Jo(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||hr(e,function(){return $o(e,n,0,null,"paste")}),!0}function Qo(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Yo(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Yo(t,i.head.line,"smart"));a&&_e(t,"electricInput",t,i.head.line)}}}function ta(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:L(i,0),head:L(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function ea(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function na(){var t=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=r("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _a?t.style.width="1000px":t.setAttribute("wrap","off"),Ta&&(t.style.border="1px solid black"),ea(t),e}function ra(t,e,n,r,i){function o(){var r=e.line+n;return!(r<t.first||r>=t.first+t.size)&&(e=new L(r,e.ch,e.sticky),u=T(t,r))}function a(r){var a;if(null==(a=i?yo(t.cm,u,e,n):ho(u,e,n))){if(r||!o())return!1;e=mo(i,t.cm,u,e.line,n)}else e=a;return!0}var s=e,l=n,u=T(t,e.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,p="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(n<0)||a(!h);h=!1){var d=u.text.charAt(e.ch)||"\n",m=x(d,f)?"w":p&&"\n"==d?"n":!p||/\s/.test(d)?null:"p";if(!p||h||m||(m="s"),c&&c!=m){n<0&&(n=1,a(),e.sticky="after");break}if(m&&(c=m),n>0&&!a(!h))break}var y=Ci(t,e,s,l,!0);return R(s,y)&&(y.hitSide=!0),y}function ia(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*bn(t.display),3);i=(n>0?e.bottom:e.top)+n*l}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(var u;u=fn(t,a,i),u.outside;){if(n<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function oa(t,e){var n=Ge(t,e.line);if(!n||n.hidden)return null;var r=T(t.doc,e.line),i=He(n,r,e.line),o=kt(r,t.doc.direction),a="left";if(o){a=wt(o,e.ch)%2?"right":"left"}var s=Ye(i.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function aa(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function sa(t,e){return e&&(t.bad=!0),t}function la(t,e,n,r,i){function o(t){return function(e){return e.id==t}}function a(){c&&(u+=p,c=!1)}function s(t){t&&(a(),u+=t)}function l(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return void s(n||e.textContent.replace(/\u200b/g,""));var u,f=e.getAttribute("cm-marker");if(f){var h=t.findMarks(L(r,0),L(i+1,0),o(+f));return void(h.length&&(u=h[0].find(0))&&s(O(t.doc,u.from,u.to).join(p)))}if("false"==e.getAttribute("contenteditable"))return;var d=/^(pre|div|p)$/i.test(e.nodeName);d&&a();for(var m=0;m<e.childNodes.length;m++)l(e.childNodes[m]);d&&(c=!0)}else 3==e.nodeType&&s(e.nodeValue)}for(var u="",c=!1,p=t.doc.lineSeparator();l(e),e!=n;)e=e.nextSibling;return u}function ua(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return sa(t.clipPos(L(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return ca(o,e,n)}}function ca(t,e,n){function r(e,n,r){for(var i=-1;i<(p?p.length:0);i++)for(var o=i<0?c.map:p[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var l=A(i<0?t.line:t.rest[i]),u=o[a]+r;return(r<0||s!=e)&&(u=o[a+(r?1:0)]),L(l,u)}}}var i=t.text.firstChild,a=!1;if(!e||!o(i,e))return sa(L(A(t.line),0),!0);if(e==i&&(a=!0,e=i.childNodes[n],n=0,!e)){var s=t.rest?m(t.rest):t.line;return sa(L(A(s),s.text.length),a)}var l=3==e.nodeType?e:null,u=e;for(l||1!=e.childNodes.length||3!=e.firstChild.nodeType||(l=e.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=t.measure,p=c.maps,f=r(l,u,n);if(f)return sa(f,a);for(var h=u.nextSibling,d=l?l.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return sa(L(f.line,f.ch-d),a);d+=h.textContent.length}for(var y=u.previousSibling,v=n;y;y=y.previousSibling){if(f=r(y,y.firstChild,-1))return sa(L(f.line,f.ch+v),a);v+=y.textContent.length}}function pa(t,e){function n(){t.value=l.getValue()}if(e=e?c(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var r=a();e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}var i;if(t.form&&(es(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(St(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var l=Zo(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return l}var fa=navigator.userAgent,ha=navigator.platform,da=/gecko\/\d/i.test(fa),ma=/MSIE \d/.test(fa),ya=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fa),va=/Edge\/(\d+)/.exec(fa),ga=ma||ya||va,ba=ga&&(ma?document.documentMode||6:+(va||ya)[1]),_a=!va&&/WebKit\//.test(fa),xa=_a&&/Qt\/\d+\.\d+/.test(fa),wa=!va&&/Chrome\//.test(fa),ka=/Opera\//.test(fa),Ea=/Apple Computer/.test(navigator.vendor),Sa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fa),Ca=/PhantomJS/.test(fa),Ta=!va&&/AppleWebKit/.test(fa)&&/Mobile\/\w+/.test(fa),Oa=/Android/.test(fa),Ma=Ta||Oa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fa),Pa=Ta||/Mac/.test(ha),Aa=/\bCrOS\b/.test(fa),za=/win/i.test(ha),ja=ka&&fa.match(/Version\/(\d*\.\d*)/);ja&&(ja=Number(ja[1])),ja&&ja>=15&&(ka=!1,_a=!0);var Ia,La=Pa&&(xa||ka&&(null==ja||ja<12.11)),Da=da||ga&&ba>=9,Ra=function(e,n){var r=e.className,i=t(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);e.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ia=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var Na=function(t){t.select()};Ta?Na=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:ga&&(Na=function(t){try{t.select()}catch(t){}});var Ba=function(){this.id=null};Ba.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Fa,Ua,Va=30,Ha={toString:function(){return"CodeMirror.Pass"}},Wa={scroll:!1},qa={origin:"*mouse"},Ga={origin:"+move"},Za=[""],Xa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ya=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ka=!1,$a=!1,Ja=null,Qa=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?r.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,p=[],f=0;f<c;++f)p.push(t(n.charCodeAt(f)));for(var h=0,d=u;h<c;++h){var y=p[h];"m"==y?p[h]=d:d=y}for(var v=0,g=u;v<c;++v){var b=p[v];"1"==b&&"r"==g?p[v]="n":a.test(b)&&(g=b,"r"==b&&(p[v]="R"))}for(var _=1,x=p[0];_<c-1;++_){var w=p[_];"+"==w&&"1"==x&&"1"==p[_+1]?p[_]="1":","!=w||x!=p[_+1]||"1"!=x&&"n"!=x||(p[_]=x),x=w}for(var k=0;k<c;++k){var E=p[k];if(","==E)p[k]="N";else if("%"==E){var S=void 0;for(S=k+1;S<c&&"%"==p[S];++S);for(var C=k&&"!"==p[k-1]||S<c&&"1"==p[S]?"1":"N",T=k;T<S;++T)p[T]=C;k=S-1}}for(var O=0,M=u;O<c;++O){var P=p[O];"L"==M&&"1"==P?p[O]="L":a.test(P)&&(M=P)}for(var A=0;A<c;++A)if(o.test(p[A])){var z=void 0;for(z=A+1;z<c&&o.test(p[z]);++z);for(var j="L"==(A?p[A-1]:u),I="L"==(z<c?p[z]:u),L=j==I?j?"L":"R":u,D=A;D<z;++D)p[D]=L;A=z-1}for(var R,N=[],B=0;B<c;)if(s.test(p[B])){var F=B;for(++B;B<c&&s.test(p[B]);++B);N.push(new e(0,F,B))}else{var U=B,V=N.length;for(++B;B<c&&"L"!=p[B];++B);for(var H=U;H<B;)if(l.test(p[H])){U<H&&N.splice(V,0,new e(1,U,H));var W=H;for(++H;H<B&&l.test(p[H]);++H);N.splice(V,0,new e(2,W,H)),U=H}else++H;U<B&&N.splice(V,0,new e(1,U,B))}return"ltr"==r&&(1==N[0].level&&(R=n.match(/^\s+/))&&(N[0].from=R[0].length,N.unshift(new e(0,0,R[0].length))),1==m(N).level&&(R=n.match(/\s+$/))&&(m(N).to-=R[0].length,N.push(new e(0,c-R[0].length,c)))),"rtl"==r?N.reverse():N}}(),ts=[],es=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ts).concat(n)}},ns=function(){if(ga&&ba<9)return!1;var t=r("div");return"draggable"in t||"dragDrop"in t}(),rs=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},is=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},os=function(){var t=r("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),as=null,ss={},ls={},us={},cs=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};cs.prototype.eol=function(){return this.pos>=this.string.length},cs.prototype.sol=function(){return this.pos==this.lineStart},cs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cs.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},cs.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},cs.prototype.eatSpace=function(){for(var t=this,e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++t.pos;return this.pos>e},cs.prototype.skipToEnd=function(){this.pos=this.string.length},cs.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},cs.prototype.backUp=function(t){this.pos-=t},cs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=p(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?p(this.string,this.lineStart,this.tabSize):0)},cs.prototype.indentation=function(){return p(this.string,null,this.tabSize)-(this.lineStart?p(this.string,this.lineStart,this.tabSize):0)},cs.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},cs.prototype.current=function(){return this.string.slice(this.start,this.pos)},cs.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},cs.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},cs.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ps=function(t,e){this.state=t,this.lookAhead=e},fs=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};fs.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},fs.prototype.baseToken=function(t){var e=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)e.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},fs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fs.fromSaved=function(t,e,n){return e instanceof ps?new fs(t,qt(t.mode,e.state),n,e.lookAhead):new fs(t,qt(t.mode,e),n)},fs.prototype.save=function(t){var e=!1!==t?qt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ps(e,this.maxLookAhead):e};var hs=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n},ds=function(t,e,n){this.text=t,rt(this,e),this.height=n?n(this):1};ds.prototype.lineNo=function(){return A(this)},Pt(ds);var ms,ys={},vs={},gs=null,bs=null,_s={left:0,right:0,top:0,bottom:0},xs=function(t,e,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(o),es(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),es(o,"scroll",function(){o.clientWidth&&e(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ga&&ba<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xs.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},xs.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xs.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xs.prototype.zeroWidthHack=function(){var t=Pa&&!Sa?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ba,this.disableVert=new Ba},xs.prototype.enableZeroWidthBar=function(t,e,n){function r(){var i=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,r)}t.style.pointerEvents="auto",e.set(1e3,r)},xs.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var ws=function(){};ws.prototype.update=function(){return{bottom:0,right:0}},ws.prototype.setScrollLeft=function(){},ws.prototype.setScrollTop=function(){},ws.prototype.clear=function(){};var ks={native:xs,null:ws},Es=0,Ss=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Bn(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Fe(t),this.force=n,this.dims=xn(t),this.events=[]};Ss.prototype.signal=function(t,e){Mt(t,e)&&this.events.push(arguments)},Ss.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)Ct.apply(null,t.events[e])};var Cs=0,Ts=null;ga?Ts=-.53:da?Ts=15:wa?Ts=-.7:Ea&&(Ts=-1/3);var Os=function(t,e){this.ranges=t,this.primIndex=e};Os.prototype.primary=function(){return this.ranges[this.primIndex]},Os.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=e.ranges[n],i=t.ranges[n];if(!R(r.anchor,i.anchor)||!R(r.head,i.head))return!1}return!0},Os.prototype.deepCopy=function(){for(var t=this,e=[],n=0;n<this.ranges.length;n++)e[n]=new Ms(N(t.ranges[n].anchor),N(t.ranges[n].head));return new Os(e,this.primIndex)},Os.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},Os.prototype.contains=function(t,e){var n=this;e||(e=t);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(D(e,i.from())>=0&&D(t,i.to())<=0)return r}return-1};var Ms=function(t,e){this.anchor=t,this.head=e};Ms.prototype.from=function(){return F(this.anchor,this.head)},Ms.prototype.to=function(){return B(this.anchor,this.head)},Ms.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ui.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=this,r=t,i=t+e;r<i;++r){var o=n.lines[r];n.height-=o.height,ae(o),_e(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=r},iterN:function(t,e,n){for(var r=this,i=t+e;t<i;++t)if(n(r.lines[t]))return!0}},Vi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){var n=this;this.size-=e;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t),s=i.height;if(i.removeInner(t,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(e-=a))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Ui))){var l=[];this.collapse(l),this.children=[new Ui(l)],this.children[0].parent=this}},collapse:function(t){for(var e=this,n=0;n<this.children.length;++n)e.children[n].collapse(t)},insertInner:function(t,e,n){var r=this;this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(t<=a){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var u=new Ui(o.lines.slice(l,l+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}t-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Vi(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=f(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Vi(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(t<a){var s=Math.min(e,a-t);if(o.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=a}}};var Ps=function(t,e,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=t,this.node=e};Ps.prototype.clear=function(){var t=this,e=this.doc.cm,n=this.line.widgets,r=this.line,i=A(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==t&&n.splice(o--,1);n.length||(r.widgets=null);var a=Ie(this);P(r,Math.max(0,r.height-a)),e&&(hr(e,function(){Hi(e,r,-a),gr(e,i,"widget")}),_e(e,"lineWidgetCleared",e,this,i))}},Ps.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Ie(this)-e;i&&(P(r,r.height+i),n&&hr(n,function(){n.curOp.forceUpdate=!0,Hi(n,r,i),_e(n,"lineWidgetChanged",n,t,A(r))}))},Pt(Ps);var As=0,zs=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++As};zs.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&or(e),Mt(this,"clear")){var r=this.find();r&&_e(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=t.lines[a],l=X(s.markedSpans,t);e&&!t.collapsed?gr(e,A(s),"text"):e&&(null!=l.to&&(o=A(s)),null!=l.from&&(i=A(s))),s.markedSpans=Y(s.markedSpans,l),null==l.from&&t.collapsed&&!yt(t.doc,s)&&e&&P(s,bn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=pt(t.lines[u]),p=bt(c);p>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=p,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&vr(e,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ki(e.doc)),e&&_e(e,"markerCleared",e,this,i,o),n&&ar(e),this.parent&&this.parent.clear()}},zs.prototype.find=function(t,e){var n=this;null==t&&"bookmark"==this.type&&(t=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=X(a.markedSpans,n);if(null!=s.from&&(r=L(e?a:A(a),s.from),-1==t))return r;if(null!=s.to&&(i=L(e?a:A(a),s.to),1==t))return i}return r&&{from:r,to:i}},zs.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&hr(r,function(){var i=e.line,o=A(e.line),a=Ge(r,o);if(a&&(Qe(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!yt(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Ie(n)-s;l&&P(i,i.height+l)}_e(r,"markerChanged",r,t)})},zs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=f(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},zs.prototype.detachLine=function(t){if(this.lines.splice(f(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Pt(zs);var js=function(t,e){var n=this;this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=n};js.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();_e(this,"clear")}},js.prototype.find=function(t,e){return this.primary.find(t,e)},Pt(js);var Is=0,Ls=function(t,e,n,r,i){if(!(this instanceof Ls))return new Ls(t,e,n,r,i);null==n&&(n=0),Vi.call(this,[new Ui([new ds("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=L(n,0);this.sel=Fr(o),this.history=new ti(null),this.id=++Is,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Yr(this,{from:o,to:o,text:t}),_i(this,Fr(o),Wa)};Ls.prototype=b(Vi.prototype,{constructor:Ls,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=M(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:yr(function(t){var e=L(this.first,0),n=this.first+this.size-1;Pi(this,{from:e,to:L(n,T(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Xn(this.cm,0,0),_i(this,Fr(e),Wa)}),replaceRange:function(t,e,n,r){e=V(this,e),n=n?V(this,n):e,Di(this,t,e,n,r)},getRange:function(t,e,n){var r=O(this,V(this,t),V(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(j(this,t))return T(this,t)},getLineNumber:function(t){return A(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=T(this,t)),pt(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return V(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:yr(function(t,e,n){vi(this,V(this,"number"==typeof t?L(t,e||0):t),null,n)}),setSelection:yr(function(t,e,n){vi(this,V(this,t),V(this,e||t),n)}),extendSelection:yr(function(t,e,n){di(this,V(this,t),e&&V(this,e),n)}),extendSelections:yr(function(t,e){mi(this,W(this,t),e)}),extendSelectionsBy:yr(function(t,e){mi(this,W(this,y(this.sel.ranges,t)),e)}),setSelections:yr(function(t,e,n){var r=this;if(t.length){for(var i=[],o=0;o<t.length;o++)i[o]=new Ms(V(r,t[o].anchor),V(r,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),_i(this,Br(i,e),n)}}),addSelection:yr(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Ms(V(this,t),V(this,e||t))),_i(this,Br(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=O(n,r[i].from(),r[i].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=O(e,r[i].from(),r[i].to());!1!==t&&(o=o.join(t||e.lineSeparator())),n[i]=o}return n},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:yr(function(t,e,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(t[a]),origin:n}}for(var l=e&&"end"!=e&&qr(this,i,e),u=i.length-1;u>=0;u--)Pi(r,i[u]);l?bi(this,l):this.cm&&Zn(this.cm)}),undo:yr(function(){zi(this,"undo")}),redo:yr(function(){zi(this,"redo")}),undoSelection:yr(function(){zi(this,"undo",!0)}),redoSelection:yr(function(){zi(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new ti(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(t){var e=this.history=new ti(this.history.maxGeneration);e.done=fi(t.done.slice(0),null,!0),e.undone=fi(t.undone.slice(0),null,!0)},setGutterMarker:yr(function(t,e,n){return Fi(this,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&w(r)&&(t.gutterMarkers=null),!0})}),clearGutter:yr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&Fi(e,n,"gutter",function(){return n.gutterMarkers[t]=null,w(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!j(this,t))return null;if(e=t,!(t=T(this,t)))return null}else if(null==(e=A(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:yr(function(e,n,r){return Fi(this,e,"gutter"==n?"gutter":"class",function(e){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(e[i]){if(t(r).test(e[i]))return!1;e[i]+=" "+r}else e[i]=r;return!0})}),removeLineClass:yr(function(e,n,r){return Fi(this,e,"gutter"==n?"gutter":"class",function(e){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=e[i];if(!o)return!1;if(null==r)e[i]=null;else{var a=o.match(t(r));if(!a)return!1;var s=a.index+a[0].length;e[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:yr(function(t,e,n){return Wi(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return qi(this,V(this,t),V(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=V(this,t),qi(this,t,t,n,"bookmark")},findMarksAt:function(t){t=V(this,t);var e=[],n=T(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=V(this,t),e=V(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n}),V(this,L(n,e))},indexFromPos:function(t){t=V(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Ls(M(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Ls(M(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Xi(r,Zi(this)),r},unlinkDoc:function(t){var e=this;if(t instanceof Zo&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=e.linked[n];if(r.doc==t){e.linked.splice(n,1),t.unlinkDoc(e),Yi(Zi(e));break}}if(t.history==this.history){var i=[t.id];Kr(t,function(t){return i.push(t.id)},!0),t.history=new ti(null),t.history.done=fi(this.history.done,i),t.history.undone=fi(this.history.undone,i)}},iterLinkedDocs:function(t){Kr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):rs(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:yr(function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Qr(this.cm))})}),Ls.prototype.eachLine=Ls.prototype.iter;for(var Ds=0,Rs=!1,Ns={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bs=0;Bs<10;Bs++)Ns[Bs+48]=Ns[Bs+96]=String(Bs);for(var Fs=65;Fs<=90;Fs++)Ns[Fs]=String.fromCharCode(Fs);for(var Us=1;Us<=12;Us++)Ns[Us+111]=Ns[Us+63235]="F"+Us;var Vs={};Vs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vs.default=Pa?Vs.macDefault:Vs.pcDefault;var Hs={selectAll:Oi,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Wa)},killLine:function(t){return po(t,function(e){if(e.empty()){var n=T(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:L(e.head.line+1,0)}:{from:e.head,to:L(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return po(t,function(e){return{from:L(e.from().line,0),to:V(t.doc,L(e.to().line+1,0))}})},delLineLeft:function(t){return po(t,function(t){return{from:L(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return po(t,function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}})},delWrappedLineRight:function(t){return po(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(L(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(L(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return vo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return bo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return go(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Ga)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Ga)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?bo(t,e.head):r},Ga)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=p(t.getLine(o.line),o.ch,r);e.push(d(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return hr(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=T(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new L(i.line,i.ch-1)),i.ch>0)i=new L(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),L(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=T(t.doc,i.line-1).text;a&&(i=new L(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),L(i.line-1,a.length-1),i,"+transpose"))}n.push(new Ms(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){return hr(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Zn(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}},Ws=new Ba,qs=null,Gs=function(t,e,n){this.time=t,this.pos=e,this.button=n};Gs.prototype.compare=function(t,e,n){return this.time+400>t&&0==D(e,this.pos)&&n==this.button};var Zs,Xs,Ys={toString:function(){return"CodeMirror.Init"}},Ks={},$s={};Zo.defaults=Ks,Zo.optionHandlers=$s;var Js=[];Zo.defineInitHook=function(t){return Js.push(t)};var Qs=null,tl=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ba,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};tl.prototype.init=function(t){function e(t){if(!Tt(i,t)){if(i.somethingSelected())Ko({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=ta(i);Ko({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,Wa),i.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var n=Qs.text.join("\n");if(t.clipboardData.setData("Text",n),t.clipboardData.getData("Text")==n)return void t.preventDefault()}var a=na(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=Qs.text.join("\n");var l=document.activeElement;Na(s),setTimeout(function(){i.display.lineSpace.removeChild(a),l.focus(),l==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=t.lineDiv;ea(o,i.options.spellcheck),es(o,"paste",function(t){Tt(i,t)||Jo(t,i)||ba<=11&&setTimeout(dr(i,function(){return n.updateFromDOM()}),20)}),es(o,"compositionstart",function(t){n.composing={data:t.data,done:!1}}),es(o,"compositionupdate",function(t){n.composing||(n.composing={data:t.data,done:!1})}),es(o,"compositionend",function(t){n.composing&&(t.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),es(o,"touchstart",function(){return r.forceCompositionEnd()}),es(o,"input",function(){n.composing||n.readFromDOMSoon()}),es(o,"copy",e),es(o,"cut",e)},tl.prototype.prepareSelection=function(){var t=On(this.cm,!1);return t.focus=this.cm.state.focused,t},tl.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},tl.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||i.line<e.display.viewFrom)return void t.removeAllRanges();var o=ua(e,t.anchorNode,t.anchorOffset),a=ua(e,t.focusNode,t.focusOffset);if(!o||o.bad||!a||a.bad||0!=D(F(o,a),r)||0!=D(B(o,a),i)){var s=e.display.view,l=r.line>=e.display.viewFrom&&oa(e,r)||{node:s[0].measure.map[2],offset:0},u=i.line<e.display.viewTo&&oa(e,i);if(!u){var c=s[s.length-1].measure,p=c.maps?c.maps[c.maps.length-1]:c.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(!l||!u)return void t.removeAllRanges();var f,h=t.rangeCount&&t.getRangeAt(0);try{f=Ia(l.node,l.offset,u.offset,u.node)}catch(t){}f&&(!da&&e.state.focused?(t.collapse(l.node,l.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),h&&null==t.anchorNode?t.addRange(h):da&&this.startGracePeriod()),this.rememberSelection()}},tl.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},tl.prototype.showMultipleSelections=function(t){n(this.cm.display.cursorDiv,t.cursors),n(this.cm.display.selectionDiv,t.selection)},tl.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},tl.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return o(this.div,e)},tl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},tl.prototype.blur=function(){this.div.blur()},tl.prototype.getField=function(){return this.div},tl.prototype.supportsTouch=function(){return!0},tl.prototype.receivedFocus=function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():hr(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},tl.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},tl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(Oa&&wa&&this.cm.options.gutters.length&&aa(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ua(e,t.anchorNode,t.anchorOffset),r=ua(e,t.focusNode,t.focusOffset);n&&r&&hr(e,function(){_i(e.doc,Fr(n,r),Wa),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}}},tl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,e=t.display,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>t.firstLine()&&(r=L(r.line-1,T(t.doc,r.line-1).length)),i.ch==T(t.doc,i.line).text.length&&i.line<t.lastLine()&&(i=L(i.line+1,0)),r.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o,a,s;r.line==e.viewFrom||0==(o=Cn(t,r.line))?(a=A(e.view[0].line),s=e.view[0].node):(a=A(e.view[o].line),s=e.view[o-1].node.nextSibling);var l,u,c=Cn(t,i.line);if(c==e.view.length-1?(l=e.viewTo-1,u=e.lineDiv.lastChild):(l=A(e.view[c+1].line)-1,u=e.view[c+1].node.previousSibling),!s)return!1;for(var p=t.doc.splitLines(la(t,s,u,a,l)),f=O(t.doc,L(a,0),L(l,T(t.doc,l).text.length));p.length>1&&f.length>1;)if(m(p)==m(f))p.pop(),f.pop(),l--;else{if(p[0]!=f[0])break;p.shift(),f.shift(),a++}for(var h=0,d=0,y=p[0],v=f[0],g=Math.min(y.length,v.length);h<g&&y.charCodeAt(h)==v.charCodeAt(h);)++h;for(var b=m(p),_=m(f),x=Math.min(b.length-(1==p.length?h:0),_.length-(1==f.length?h:0));d<x&&b.charCodeAt(b.length-d-1)==_.charCodeAt(_.length-d-1);)++d;if(1==p.length&&1==f.length&&a==r.line)for(;h&&h>r.ch&&b.charCodeAt(b.length-d-1)==_.charCodeAt(_.length-d-1);)h--,d++;p[p.length-1]=b.slice(0,b.length-d).replace(/^\u200b+/,""),p[0]=p[0].slice(h).replace(/\u200b+$/,"");var w=L(a,h),k=L(l,f.length?m(f).length-d:0);return p.length>1||p[0]||D(w,k)?(Di(t.doc,p,w,k,"+input"),!0):void 0},tl.prototype.ensurePolled=function(){this.forceCompositionEnd()},tl.prototype.reset=function(){this.forceCompositionEnd()},tl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},tl.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},tl.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||hr(this.cm,function(){return vr(t.cm)})},tl.prototype.setUneditable=function(t){t.contentEditable="false"},tl.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||dr(this.cm,$o)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},tl.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},tl.prototype.onContextMenu=function(){},tl.prototype.resetPosition=function(){},tl.prototype.needsContentAttribute=!0;var el=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ba,this.hasSelection=!1,this.composing=null};el.prototype.init=function(t){function e(t){if(!Tt(i,t)){if(i.somethingSelected())Ko({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=ta(i);Ko({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,Wa):(r.prevInput="",a.value=e.text.join("\n"),Na(a))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=na(),a=this.textarea=o.firstChild;t.wrapper.insertBefore(o,t.wrapper.firstChild),Ta&&(a.style.width="0px"),es(a,"input",function(){ga&&ba>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),es(a,"paste",function(t){Tt(i,t)||Jo(t,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),es(a,"cut",e),es(a,"copy",e),es(t.scroller,"paste",function(e){Le(t,e)||Tt(i,e)||(i.state.pasteIncoming=!0,r.focus())}),es(t.lineSpace,"selectstart",function(e){Le(t,e)||At(e)}),es(a,"compositionstart",function(){var t=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),es(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},el.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=On(t);if(t.options.moveInputWithCursor){var i=un(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},el.prototype.showSelection=function(t){var e=this.cm,r=e.display;n(r.cursorDiv,t.cursors),n(r.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},el.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&Na(this.textarea),ga&&ba>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",ga&&ba>=9&&(this.hasSelection=null))}},el.prototype.getField=function(){return this.textarea},el.prototype.supportsTouch=function(){return!1},el.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ma||a()!=this.textarea))try{this.textarea.focus()}catch(t){}},el.prototype.blur=function(){this.textarea.blur()},el.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},el.prototype.receivedFocus=function(){this.slowPoll()},el.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},el.prototype.fastPoll=function(){function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},el.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||is(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(ga&&ba>=9&&this.hasSelection===i||Pa&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return hr(e,function(){$o(e,i.slice(a),r.length-a,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},el.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},el.prototype.onKeyPress=function(){ga&&ba>=9&&(this.hasSelection=null),this.fastPoll()},el.prototype.onContextMenu=function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e="\u200b"+(t?a.value:"");a.value="\u21da",a.value=e,r.prevInput=t?"":"\u200b",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=u,ga&&ba<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ga||ga&&ba<9)&&e();var t=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==r.prevInput?dr(i,Oi)(i):t++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Sn(i,t),l=o.scroller.scrollTop;if(s&&!ka){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&dr(i,_i)(i.doc,Fr(s),Wa);var u=a.style.cssText,c=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var p=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(ga?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(_a&&(f=window.scrollY),o.input.focus(),_a&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ga&&ba>=9&&e(),Da){It(t);var h=function(){St(window,"mouseup",h),setTimeout(n,20)};es(window,"mouseup",h)}else setTimeout(n,50)}},el.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},el.prototype.setUneditable=function(){},el.prototype.needsContentAttribute=!1,function(t){function e(e,r,i,o){t.defaults[e]=r,i&&(n[e]=o?function(t,e,n){n!=Ys&&i(t,e,n)}:i)}var n=t.optionHandlers;t.defineOption=e,t.Init=Ys,e("value","",function(t,e){return t.setValue(e)},!0),e("mode",null,function(t,e){t.doc.modeOption=e,Gr(t)},!0),e("indentUnit",2,Gr,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Zr(t),en(t),vr(t)},!0),e("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(L(r,o))}r++});for(var i=n.length-1;i>=0;i--)Di(t.doc,e,n[i],L(n[i].line,n[i].ch+e.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=Ys&&t.refresh()}),e("specialCharPlaceholder",ue,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",Ma?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),e("rtlMoveVisually",!za),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){Ho(t),Wo(t)},!0),e("keyMap","default",function(t,e,n){var r=co(e),i=n!=Ys&&co(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)}),e("extraKeys",null),e("configureMouse",null),e("lineWrapping",!1,Go,!0),e("gutters",[],function(t){Lr(t.options),Wo(t)},!0),e("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?wn(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return nr(t)},!0),e("scrollbarStyle","native",function(t){ir(t),nr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t){Lr(t.options),Wo(t)},!0),e("firstLineNumber",1,Wo,!0),e("lineNumberFormatter",function(t){return t},Wo,!0),e("showCursorWhenSelecting",!1,Tn,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("pasteLinesPerSelection",!0),e("readOnly",!1,function(t,e){"nocursor"==e&&(Dn(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),e("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),e("dragDrop",!0,qo),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,Tn,!0),e("singleCursorHeightPerLine",!0,Tn,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Zr,!0),e("addModeClass",!1,Zr,!0),e("pollInterval",100),e("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Zr,!0),e("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),e("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),e("autofocus",null),e("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}(Zo),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&dr(this,e[t])(this,n,i),Ct(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](co(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:mr(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,vr(this)}),removeOverlay:mr(function(t){for(var e=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return n.splice(r,1),e.state.modeGen++,void vr(e)}}),indentLine:mr(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),j(this.doc,t)&&Yo(this,t,e,n)}),indentSelection:mr(function(t){for(var e=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Yo(e,o.head.line,t,!0),r=o.head.line,i==e.doc.sel.primIndex&&Zn(e));else{var a=o.from(),s=o.to(),l=Math.max(r,a.line);r=Math.min(e.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<r;++u)Yo(e,u,t);var c=e.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&yi(e.doc,i,new Ms(a,c[i].to()),Wa)}}}),getTokenAt:function(t,e){return te(this,t,e)},getLineTokens:function(t,e){return te(this,L(t),e,!0)},getTokenTypeAt:function(t){t=V(this.doc,t);var e,n=Yt(this,T(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=this,i=[];if(!n.hasOwnProperty(e))return i;var o=n[e],a=this.getModeAt(t);if("string"==typeof a[e])o[a[e]]&&i.push(o[a[e]]);else if(a[e])for(var s=0;s<a[e].length;s++){var l=o[a[e][s]];l&&i.push(l)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(a,r)&&-1==f(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var n=this.doc;return t=U(n,null==t?n.first+n.size-1:t),Kt(this,t+1,e).state},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?V(this.doc,t):t?r.from():r.to(),un(this,n,e||"page")},charCoords:function(t,e){return ln(this,V(this.doc,t),e||"page")},coordsChar:function(t,e){return t=sn(this,t,e||"page"),fn(this,t.left,t.top)},lineAtHeight:function(t,e){return t=sn(this,{top:t,left:0},e||"page").top,z(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=T(this.doc,t)}else r=t;return an(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-gt(r):0)},defaultTextHeight:function(){return bn(this.display)},defaultCharWidth:function(){return _n(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=un(this,V(this.doc,t));var a=t.bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(a=t.bottom),s+e.offsetWidth>u&&(s=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&Wn(this,{left:s,top:a,right:s+e.offsetWidth,bottom:a+e.offsetHeight})},triggerOnKeyDown:mr(Co),triggerOnKeyPress:mr(Mo),triggerOnKeyUp:Oo,triggerOnMouseDown:mr(Ao),execCommand:function(t){if(Hs.hasOwnProperty(t))return Hs[t].call(null,this)},triggerElectric:mr(function(t){Qo(this,t)}),findPosH:function(t,e,n,r){var i=this,o=1;e<0&&(o=-1,e=-e);for(var a=V(this.doc,t),s=0;s<e&&(a=ra(i.doc,a,o,n,r),!a.hitSide);++s);return a},moveH:mr(function(t,e){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?ra(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},Ga)}),deleteH:mr(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):po(this,function(n){var i=ra(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=this,o=1,a=r;e<0&&(o=-1,e=-e);for(var s=V(this.doc,t),l=0;l<e;++l){var u=un(i,s,"div");if(null==a?a=u.left:u.left=a,s=ia(i,u,o,n),s.hitSide)break}return s},moveV:mr(function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=un(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=ia(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Gn(n,ln(n,l,"div").top-s.top),l},Ga),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=T(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=x(a,o)?function(t){return x(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!x(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new Ms(L(t.line,r),L(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ra(this.display.cursorDiv,"CodeMirror-overwrite"),Ct(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:mr(function(t,e){Xn(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Be(this)-this.display.barHeight,width:t.scrollWidth-Be(this)-this.display.barWidth,clientHeight:Ue(this),clientWidth:Fe(this)}},scrollIntoView:mr(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:L(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?Yn(this,t):$n(this,t.from,t.to,t.margin)}),setSize:mr(function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&tn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){gr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Ct(this,"refresh",this)}),operation:function(t){return hr(this,t)},startOperation:function(){return or(this)},endOperation:function(){return ar(this)},refresh:mr(function(){var t=this.display.cachedTextHeight;vr(this),this.curOp.forceUpdate=!0,en(this),Xn(this,this.doc.scrollLeft,this.doc.scrollTop),zr(this),(null==t||Math.abs(t-bn(this.display))>.5)&&En(this),Ct(this,"refresh",this)}),swapDoc:mr(function(t){var e=this.doc;return e.cm=null,$r(this,t),en(this),this.display.input.reset(),Xn(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,_e(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pt(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(Zo);var nl="iter insert remove copy getEditor constructor".split(" ");for(var rl in Ls.prototype)Ls.prototype.hasOwnProperty(rl)&&f(nl,rl)<0&&(Zo.prototype[rl]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ls.prototype[rl]));return Pt(Ls),Zo.inputStyles={textarea:el,contenteditable:tl},Zo.defineMode=function(t){Zo.defaults.mode||"null"==t||(Zo.defaults.mode=t),Ft.apply(this,arguments)},Zo.defineMIME=Ut,Zo.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Zo.defineMIME("text/plain","null"),Zo.defineExtension=function(t,e){Zo.prototype[t]=e},Zo.defineDocExtension=function(t,e){Ls.prototype[t]=e},Zo.fromTextArea=pa,function(t){t.off=St,t.on=es,t.wheelEventPixels=Rr,t.Doc=Ls,t.splitLines=rs,t.countColumn=p,t.findColumn=h,t.isWordChar=_,t.Pass=Ha,t.signal=Ct,t.Line=ds,t.changeEnd=Ur,t.scrollbarModel=ks,t.Pos=L,t.cmpPos=D,t.modes=ss,t.mimeModes=ls,t.resolveMode=Vt,t.getMode=Ht,t.modeExtensions=us,t.extendMode=Wt,t.copyState=qt,t.startState=Zt,t.innerMode=Gt,t.commands=Hs,t.keyMap=Vs,t.keyName=uo,t.isModifierKey=so,t.lookupKey=ao,t.normalizeKeyMap=oo,t.StringStream=cs,t.SharedTextMarker=js,t.TextMarker=zs,t.LineWidget=Ps,t.e_preventDefault=At,t.e_stopPropagation=zt,t.e_stop=It,t.addClass=s,t.contains=o,t.rmClass=Ra,t.keyNames=Ns}(Zo),Zo.version="5.35.0",Zo})},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(27);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=n(16),o=n(92),a=n(13),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,f=c.call(Object);t.exports=r},function(t,e,n){function r(t,e,n,j,I,L){var D,R=e&S,N=e&C,B=e&T;if(n&&(D=I?n(t,j,I,L):n(t)),void 0!==D)return D;if(!w(t))return t;var F=b(t);if(F){if(D=y(t),!R)return c(t,D)}else{var U=m(t),V=U==M||U==P;if(_(t))return u(t,R);if(U==A||U==O||V&&!I){if(D=N||V?{}:g(t),!R)return N?f(t,l(D,t)):p(t,s(D,t))}else{if(!z[U])return I?t:{};D=v(t,U,R)}}L||(L=new i);var H=L.get(t);if(H)return H;if(L.set(t,D),k(t))return t.forEach(function(i){D.add(r(i,e,n,i,t,L))}),D;if(x(t))return t.forEach(function(i,o){D.set(o,r(i,e,n,o,t,L))}),D;var W=B?N?d:h:N?keysIn:E,q=F?void 0:W(t);return o(q||t,function(i,o){q&&(o=i,i=t[o]),a(D,o,r(i,e,n,o,t,L))}),D}var i=n(70),o=n(89),a=n(83),s=n(406),l=n(407),u=n(410),c=n(88),p=n(411),f=n(412),h=n(129),d=n(164),m=n(45),y=n(413),v=n(414),g=n(419),b=n(6),_=n(77),x=n(420),w=n(9),k=n(422),E=n(20),S=1,C=2,T=4,O="[object Arguments]",M="[object Function]",P="[object GeneratorFunction]",A="[object Object]",z={};z[O]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z[A]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z[M]=z["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(132),o=n(408),a=n(44);t.exports=r},function(t,e,n){var r=n(74),i=n(92),o=n(75),a=n(131),s=Object.getOwnPropertySymbols,l=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=l},function(t,e,n){function r(t){return i(t,a,o)}var i=n(130),o=n(163),a=n(162);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboard=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(430),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=e.Checkboard=function(t){var e=t.white,n=t.grey,r=t.size,i=t.renderers,a=t.borderRadius,l=t.boxShadow,c=(0,s.default)({default:{grid:{borderRadius:a,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+u.get(e,n,r,i.canvas)+") center left"}}});return o.default.createElement("div",{style:c.grid})};c.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},e.default=c},function(t,e,n){function r(t,e,n){function r(e){var n=g,r=b;return g=b=void 0,E=e,x=t.apply(r,n)}function c(t){return E=t,w=setTimeout(h,e),S?r(t):x}function p(t){var n=t-k,r=t-E,i=e-n;return C?u(i,_-r):i}function f(t){var n=t-k,r=t-E;return void 0===k||n>=e||n<0||C&&r>=_}function h(){var t=o();if(f(t))return d(t);w=setTimeout(h,p(t))}function d(t){return w=void 0,T&&g?r(t):(g=b=void 0,x)}function m(){void 0!==w&&clearTimeout(w),E=0,g=k=b=w=void 0}function y(){return void 0===w?x:d(o())}function v(){var t=o(),n=f(t);if(g=arguments,b=this,k=t,n){if(void 0===w)return c(k);if(C)return w=setTimeout(h,e),r(k)}return void 0===w&&(w=setTimeout(h,e)),x}var g,b,_,x,w,k,E=0,S=!1,C=!1,T=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(S=!!n.leading,C="maxWait"in n,_=C?l(a(n.maxWait)||0,e):_,T="trailing"in n?!!n.trailing:T),v.cancel=m,v.flush=y,v}var i=n(9),o=n(437),a=n(157),s="Expected a function",l=Math.max,u=Math.min;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorWrap=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),p=n(166),f=r(p),h=n(10),d=r(h),m=e.ColorWrap=function(t){var e=function(e){function n(t){i(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.handleChange=function(t,n){if(d.default.simpleCheckForValidColor(t)){var r=d.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,r,n),e.props.onChange&&e.props.onChange(r,n)}},e.handleSwatchHover=function(t,n){if(d.default.simpleCheckForValidColor(t)){var r=d.default.toState(t,t.h||e.state.oldHue);e.setState(r),e.props.onSwatchHover&&e.props.onSwatchHover(r,n)}},e.state=s({},d.default.toState(t.color,0)),e.debounce=(0,f.default)(function(t,e,n){t(e,n)},100),e}return a(n,e),l(n,[{key:"componentWillReceiveProps",value:function(t){this.setState(s({},d.default.toState(t.color,this.state.oldHue)))}},{key:"render",value:function(){var e={};return this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover),c.default.createElement(t,s({},this.props,this.state,{onChange:this.handleChange},e))}}]),n}(u.PureComponent||u.Component);return e.propTypes=s({},t.propTypes),e.defaultProps=s({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"red",function(){return r}),n.d(e,"pink",function(){return i}),n.d(e,"purple",function(){return o}),n.d(e,"deepPurple",function(){return a}),n.d(e,"indigo",function(){return s}),n.d(e,"blue",function(){return l}),n.d(e,"lightBlue",function(){return u}),n.d(e,"cyan",function(){return c}),n.d(e,"teal",function(){return p}),n.d(e,"green",function(){return f}),n.d(e,"lightGreen",function(){return h}),n.d(e,"lime",function(){return d}),n.d(e,"yellow",function(){return m}),n.d(e,"amber",function(){return y}),n.d(e,"orange",function(){return v}),n.d(e,"deepOrange",function(){return g}),n.d(e,"brown",function(){return b}),n.d(e,"grey",function(){return _}),n.d(e,"blueGrey",function(){return x}),n.d(e,"darkText",function(){return w}),n.d(e,"lightText",function(){return k}),n.d(e,"darkIcons",function(){return E}),n.d(e,"lightIcons",function(){return S}),n.d(e,"white",function(){return C}),n.d(e,"black",function(){return T});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},d={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},y={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},g={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},k={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},E={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},C="#ffffff",T="#000000";e.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:p,green:f,lightGreen:h,lime:d,yellow:m,amber:y,orange:v,deepOrange:g,brown:b,grey:_,blueGrey:x,darkText:w,lightText:k,darkIcons:E,lightIcons:S,white:C,black:T}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t.clientWidth}function s(t){return t.clientHeight}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),p=n(478),f={width:"100%",height:"100%",padding:0,border:0};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getHeight,n=void 0===e?s:e,h=t.getWidth,d=void 0===h?a:h,m=t.containerStyle,y=void 0===m?f:m,v=t.className,g=void 0===v?null:v,b=t.elementResize,_=void 0!==b&&b;return function(t){return function(e){function a(){var t,e,o,s;r(this,a);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return e=o=i(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(u))),o.state={},o.updateDimensions=function(){var t=o.refs.container,e=d(t),r=n(t);e===o.state.containerWidth&&r===o.state.containerHeight||o.setState({containerWidth:e,containerHeight:r})},o.onResize=function(){o.rqf||(o.rqf=o.getWindow().requestAnimationFrame(function(){o.rqf=null,o.updateDimensions()}))},s=e,i(o,s)}return o(a,e),u(a,[{key:"getWindow",value:function(){return this.refs.container?this.refs.container.ownerDocument.defaultView||window:window}},{key:"componentDidMount",value:function(){if(!this.refs.container)throw new Error("Cannot find container div");this.updateDimensions(),_?p(this.refs.container,this.updateDimensions):this.getWindow().addEventListener("resize",this.onResize,!1)}},{key:"componentWillUnmount",value:function(){this.getWindow().removeEventListener("resize",this.onResize)}},{key:"getWrappedInstance",value:function(){this.refs.wrappedInstance}},{key:"render",value:function(){var e=this.state,n=e.containerWidth,r=e.containerHeight;return n||r||console.warn("Wrapper div has no height or width, try overriding style with `containerStyle` option"),c.createElement("div",{className:g,style:y,ref:"container"},(n||r)&&c.createElement(t,l({},this.state,this.props,{updateDimensions:this.updateDimensions,ref:"wrappedInstance"})))}}]),a}(c.Component)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s});var r="ADD_DATASOURCE",i="UPDATE_DATASOURCE",o="DELETE_DATASOURCE",a=function(t){return{type:r,payload:{record:Object.assign({},t,{geoJson:JSON.parse(t.geoJson)})}}},s=function(t){return{type:i,payload:{record:Object.assign({},t,{geoJson:JSON.parse(t.geoJson)})}}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(172),c=n(56),p=n(29),f=n(57),h=n(554),d=n(202),m=n(562),y=n(203),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=Object.assign({},u.a.propTypes,{maxZoom:l.a.number,minZoom:l.a.number,maxPitch:l.a.number,minPitch:l.a.number,onViewportChange:l.a.func,transitionDuration:l.a.number,transitionInterpolator:l.a.object,transitionInterruption:l.a.number,transitionEasing:l.a.func,onTransitionStart:l.a.func,onTransitionInterrupt:l.a.func,onTransitionEnd:l.a.func,scrollZoom:l.a.bool,dragPan:l.a.bool,dragRotate:l.a.bool,doubleClickZoom:l.a.bool,touchZoom:l.a.bool,touchRotate:l.a.bool,keyboard:l.a.bool,onHover:l.a.func,onClick:l.a.func,clickRadius:l.a.number,getCursor:l.a.func,visibilityConstraints:l.a.shape({minZoom:l.a.number,maxZoom:l.a.number,minPitch:l.a.number,maxPitch:l.a.number}),mapControls:l.a.shape({events:l.a.arrayOf(l.a.string),handleEvent:l.a.func})}),b=function(t){var e=t.isDragging,n=t.isHovering;return e?m.a.CURSOR.GRABBING:n?m.a.CURSOR.POINTER:m.a.CURSOR.GRAB},_=Object.assign({},u.a.defaultProps,c.a,f.b.defaultProps,{onViewportChange:null,onClick:null,onHover:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,clickRadius:0,getCursor:b,visibilityConstraints:c.a}),x={viewport:l.a.instanceOf(p.a),isDragging:l.a.bool,eventManager:l.a.object},w=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object(y.a)(t),n.state={isDragging:!1,isHovering:!1},n._mapControls=t.mapControls||new d.a,n._eventManager=new h.a(null,{rightButton:!0}),n.getMap=n.getMap.bind(n),n.queryRenderedFeatures=n.queryRenderedFeatures.bind(n),n._checkVisibilityConstraints=n._checkVisibilityConstraints.bind(n),n._getFeatures=n._getFeatures.bind(n),n._onInteractiveStateChange=n._onInteractiveStateChange.bind(n),n._getPos=n._getPos.bind(n),n._onMouseMove=n._onMouseMove.bind(n),n._onMouseClick=n._onMouseClick.bind(n),n._eventCanvasLoaded=n._eventCanvasLoaded.bind(n),n._staticMapLoaded=n._staticMapLoaded.bind(n),n}return o(e,t),v(e,null,[{key:"supported",value:function(){return u.a.supported()}}]),v(e,[{key:"getChildContext",value:function(){return{viewport:new p.a(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function(){var t=this._eventManager;t.on("mousemove",this._onMouseMove),t.on("click",this._onMouseClick),this._mapControls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange,eventManager:t})),this._transitionManager=new f.b(this.props)}},{key:"componentWillUpdate",value:function(t){this._mapControls.setOptions(t),this._transitionManager.processViewportChange(t)}},{key:"getMap",value:function(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function(t,e){return this._map.queryRenderedFeatures(t,e)}},{key:"_checkVisibilityConstraints",value:function(t){var e=t.visibilityConstraints;for(var n in t){var r=function(t){return t[0].toUpperCase()+t.slice(1)}(n),i="min"+r,o="max"+r;if(i in e&&t[n]<e[i])return!1;if(o in e&&t[n]>e[o])return!1}return!0}},{key:"_getFeatures",value:function(t){var e=t.pos,n=t.radius,r=void 0;if(n){var i=n,o=[[e[0]-i,e[1]+i],[e[0]+i,e[1]-i]];r=this._map.queryRenderedFeatures(o)}else r=this._map.queryRenderedFeatures(e);return r}},{key:"_onInteractiveStateChange",value:function(t){var e=t.isDragging,n=void 0!==e&&e;n!==this.state.isDragging&&this.setState({isDragging:n})}},{key:"_getPos",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_onMouseMove",value:function(t){if(!this.state.isDragging){var e=this._getPos(t),n=this._getFeatures({pos:e,radius:this.props.clickRadius}),r=n&&n.length>0;if(r!==this.state.isHovering&&this.setState({isHovering:r}),this.props.onHover){var i=new p.a(this.props);t.lngLat=i.unproject(e),t.features=n,this.props.onHover(t)}}}},{key:"_onMouseClick",value:function(t){if(this.props.onClick){var e=this._getPos(t),n=new p.a(this.props);t.lngLat=n.unproject(e),t.features=this._getFeatures({pos:e,radius:this.props.clickRadius}),this.props.onClick(t)}}},{key:"_eventCanvasLoaded",value:function(t){this._eventManager.setElement(t)}},{key:"_staticMapLoaded",value:function(t){this._map=t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.getCursor,i={width:e,height:n,position:"relative",cursor:r(this.state)};return Object(a.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:i},Object(a.createElement)(u.a,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{visible:this._checkVisibilityConstraints(this.props),ref:this._staticMapLoaded,children:this.props.children})))}}]),e}(a.PureComponent);e.a=w,w.displayName="InteractiveMap",w.propTypes=g,w.defaultProps=_,w.childContextTypes=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){}var s=n(0),l=(n.n(s),n(2)),u=n.n(l),c=n(481),p=n(173),f=n(29),h=n(550),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m="A valid API access token is required to use Mapbox data",y=Object.assign({},h.a.propTypes,{mapStyle:u.a.oneOfType([u.a.string,u.a.object]),preventStyleDiffing:u.a.bool,visible:u.a.bool}),v=Object.assign({},h.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),g={viewport:u.a.instanceOf(f.a)},b=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._queryParams={},e.supported()||(n.componentDidMount=a,n.componentWillReceiveProps=a,n.componentDidUpdate=a,n.componentWillUnmount=a),n.state={accessTokenInvalid:!1},n.getMap=n.getMap.bind(n),n.queryRenderedFeatures=n.queryRenderedFeatures.bind(n),n._updateQueryParams=n._updateQueryParams.bind(n),n._updateMapSize=n._updateMapSize.bind(n),n._updateMapStyle=n._updateMapStyle.bind(n),n._mapboxMapLoaded=n._mapboxMapLoaded.bind(n),n._mapboxMapError=n._mapboxMapError.bind(n),n._renderNoTokenWarning=n._renderNoTokenWarning.bind(n),n}return o(e,t),d(e,null,[{key:"supported",value:function(){return h.a&&h.a.supported()}}]),d(e,[{key:"getChildContext",value:function(){return{viewport:new f.a(this.props)}}},{key:"componentDidMount",value:function(){var t=this.props.mapStyle;this._mapbox=new h.a(Object.assign({},this.props,{container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:Object(p.a)(t)?t.toJS():t})),this._map=this._mapbox.getMap(),this._updateQueryParams(t)}},{key:"componentWillReceiveProps",value:function(t){this._mapbox.setProps(t),this._updateMapStyle(this.props,t),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function(){return this._map}},{key:"queryRenderedFeatures",value:function(t,e){var n=e||this._queryParams;return n.layers&&0===n.layers.length?[]:this._map.queryRenderedFeatures(t,n)}},{key:"_updateQueryParams",value:function(t){var e=Object(c.a)(t);this._queryParams={layers:e}}},{key:"_updateMapSize",value:function(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle,r=t.mapStyle;n!==r&&(Object(p.a)(n)?this.props.preventStyleDiffing?this._map.setStyle(n.toJS()):Object(c.b)(r,n,this._map):this._map.setStyle(n),this._updateQueryParams(n))}},{key:"_mapboxMapLoaded",value:function(t){this._mapboxMap=t}},{key:"_mapboxMapError",value:function(t){401!==(t.error&&t.error.status||t.status)||this.state.accessTokenInvalid||(console.error(m),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid){var t={position:"absolute",left:0,top:0};return Object(s.createElement)("div",{key:"warning",id:"no-token-warning",style:t},[Object(s.createElement)("h3",{key:"header"},m),Object(s.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(s.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")])}return null}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visible,a=Object.assign({},i,{width:n,height:r,position:"relative"}),l=Object.assign({},i,{width:n,height:r,visibility:o?"visible":"hidden"}),u={position:"absolute",left:0,top:0,width:n,height:r,overflow:"hidden"};return Object(s.createElement)("div",{key:"map-container",style:a,children:[Object(s.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:l,className:e}),Object(s.createElement)("div",{key:"map-overlays",className:"overlays",style:u,children:this.props.children}),this._renderNoTokenWarning()]})}}]),e}(s.PureComponent);e.a=b,b.displayName="StaticMap",b.propTypes=y,b.defaultProps=v,b.childContextTypes=g},function(t,e,n){"use strict";function r(t){return Boolean(t&&t[i])}e.a=r;var i="@@__IMMUTABLE_MAP__@@"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return 2===t.length&&Number.isFinite(t[0])&&Number.isFinite(t[1])}e.b=a;var s=n(94),l=n(11),u=n(484),c=n.n(u),p=n(175),f=n.n(p),h=n(485),d=n.n(h),m=n(486),y=n.n(m),v=n(487),g=n.n(v),b=n(488),_=n.n(b),x=n(489),w=n.n(x),k=n(176),E=n.n(k),S=n(490),C=n.n(S),T=n(491),O=n.n(T),M=n(492),P=n.n(M),A=n(177),z=n.n(A),j=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Array.isArray(t)&&1===arguments.length?o.copy(t):o.set(t,n),o}return o(e,t),j(e,[{key:"set",value:function(t,e){return c()(this,t,e),this.check(),this}},{key:"add",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;f()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this}},{key:"subtract",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;d()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"multiply",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;y()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"divide",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;g()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"scale",value:function(t){return Number.isFinite(t)&&_()(this,this,t),this.check(),this}},{key:"scaleAndAdd",value:function(t,e){return w()(this,this,t,e),this.check(),this}},{key:"negate",value:function(){return E()(this,this),this.check(),this}},{key:"normalize",value:function(){return C()(this,this),this.check(),this}},{key:"dot",value:function(t){return O()(this,t)}},{key:"cross",value:function(t){return P()(this,this,t),this.check(),this}},{key:"lerp",value:function(t,e){return z()(this,this,t,e),this.check(),this}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check(),this}},{key:"ELEMENTS",get:function(){return 2}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(l.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(l.a)(t)}}]),e}(s.a);e.a=I},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}t.exports=n},function(t,e){function n(t,e){return t[0]=-e[0],t[1]=-e[1],t}t.exports=n},function(t,e){function n(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}t.exports=n},function(t,e){function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return 4===t.length&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])&&Number.isFinite(t[3])}e.b=a;var s=n(94),l=n(11),u=n(182),c=n.n(u),p=n(505),f=n.n(p),h=n(183),d=n.n(h),m=n(506),y=n.n(m),v=n(507),g=n.n(v),b=n(508),_=n.n(b),x=n(95),w=n.n(x),k=n(509),E=n.n(k),S=n(510),C=n.n(S),T=n(511),O=n.n(T),M=n(184),P=n.n(M),A=n(185),z=n.n(A),j=n(186),I=n.n(j),L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Array.isArray(t)&&1===arguments.length?s.copy(t):s.set(t,n,o,a),s}return o(e,t),L(e,[{key:"set",value:function(t,e,n,r){return c()(this,t,e,n,r),this.check(),this}},{key:"distance",value:function(t){return f()(t)}},{key:"add",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;d()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"subtract",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;y()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"multiply",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;g()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"divide",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;_()(this,this,l)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"scale",value:function(t){return w()(this,this,t),this.check(),this}},{key:"scaleAndAdd",value:function(t,e){return E()(this,this,t,e),this.check(),this}},{key:"negate",value:function(){return C()(this,this),this.check(),this}},{key:"inverse",value:function(){return O()(this,this),this.check(),this}},{key:"normalize",value:function(){return P()(this,this),this.check(),this}},{key:"dot",value:function(t){return z()(this,t)}},{key:"lerp",value:function(t,e){return I()(this,this,t,e),this.check(),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(l.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(l.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(l.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){return this[3]=Object(l.a)(t)}}]),e}(s.a);e.a=D},function(t,e){function n(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}t.exports=n},function(t,e){function n(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(53),s=n(11),l=n(174),u=n(54),c=n(181),p=n(14),f=n.n(p),h=n(515),d=n.n(h),m=n(516),y=n.n(m),v=n(517),g=n.n(v),b=n(518),_=n.n(b),x=n(520),w=n.n(x),k=n(188),E=n.n(k),S=n(521),C=n.n(S),T=n(189),O=n.n(T),M=n(190),P=n.n(M),A=n(191),z=n.n(A),j=n(522),I=n.n(j),L=n(192),D=n.n(L),R=n(523),N=n.n(R),B=n(97),F=n.n(B),U=n(98),V=n.n(U),H=n(524),W=n.n(H),q=n(525),G=n.n(q),Z=n(193),X=n.n(Z),Y=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],J=[0,0,0,0],Q=function(t){function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Array.isArray(n[0])&&1===arguments.length?a.copy(n[0]):a.identity(),a}return o(e,t),K(e,[{key:"setRowMajor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,d=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this.set(t,i,l,f,e,o,u,h,n,a,c,d,r,s,p,m)}},{key:"setColumnMajor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,d=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this.set(t,e,n,r,i,o,a,s,l,u,c,p,f,h,d,m)}},{key:"set",value:function(t,e,n,r,i,o,a,s,l,u,c,p,f,h,d,m){return this[0]=t,this[1]=e,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=l,this[9]=u,this[10]=c,this[11]=p,this[12]=f,this[13]=h,this[14]=d,this[15]=m,this.check(),this}},{key:"determinant",value:function(){return d()(this)}},{key:"identity",value:function(){for(var t=0;t<$.length;++t)this[t]=$[t];return this.check(),this}},{key:"fromQuaternion",value:function(t){return y()(this,t),this.check(),this}},{key:"frustum",value:function(t){var e=t.left,n=t.right,r=t.bottom,i=t.top,o=t.near,a=t.far;return g()(this,e,n,r,i,o,a),this.check(),this}},{key:"lookAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.eye,n=t.center,r=void 0===n?[0,0,0]:n,i=t.up,o=void 0===i?[0,1,0]:i;return _()(this,e,r,o),this.check(),this}},{key:"ortho",value:function(t){var e=t.left,n=t.right,r=t.bottom,i=t.top,o=t.near,a=void 0===o?.1:o,s=t.far,l=void 0===s?500:s;return w()(this,e,n,r,i,a,l),this.check(),this}},{key:"perspective",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fov,n=void 0===e?45*Math.PI/180:e,r=t.aspect,i=void 0===r?1:r,o=t.near,a=void 0===o?.1:o,s=t.far,l=void 0===s?500:s;if(n>2*Math.PI)throw Error("radians");return E()(this,n,i,a,l),this.check(),this}},{key:"transpose",value:function(){return C()(this,this),this.check(),this}},{key:"invert",value:function(){return O()(this,this),this.check(),this}},{key:"multiplyLeft",value:function(t){return P()(this,t,this),this.check(),this}},{key:"multiplyRight",value:function(t){return P()(this,this,t),this.check(),this}},{key:"rotateX",value:function(t){return z()(this,this,t),this.check(),this}},{key:"rotateY",value:function(t){return I()(this,this,t),this.check(),this}},{key:"rotateZ",value:function(t){return D()(this,this,t),this.check(),this}},{key:"rotateXYZ",value:function(t){var e=Y(t,3),n=e[0],r=e[1],i=e[2];return this.rotateX(n).rotateY(r).rotateZ(i)}},{key:"rotateAxis",value:function(t,e){return N()(this,this,t,e),this.check(),this}},{key:"scale",value:function(t){return F()(this,this,t),this.check(),this}},{key:"translate",value:function(t){return V()(this,this,t),this.check(),this}},{key:"transformVector2",value:function(t,e){return e=e||new l.a,W()(e,t,this),f()(Object(l.b)(e)),e}},{key:"transformVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.a;return e=e||new u.a,G()(e,t,this),f()(Object(u.b)(e)),e}},{key:"transformVector4",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c.a;return e=e||new c.a,X()(e,t,this),f()(Object(c.b)(e)),e}},{key:"transformVector",value:function(t,e){switch(t.length){case 2:return this.transformVector2(t,e);case 3:return this.transformVector3(t,e);case 4:return this.transformVector4(t,e);default:throw new Error("Illegal vector")}}},{key:"transformDirection",value:function(t,e){switch(t.length){case 2:X()(J,[t[0],t[1],0,0],this),e=e||new l.a,e[0]=J[0],e[1]=J[1];break;case 3:X()(J,[t[0],t[1],t[2],0],this),e=e||new u.a,e[0]=J[0],e[1]=J[1],e[2]=J[2];break;case 4:f()(0===t[3]),e=e||new c.a,X()(e,t,this);break;default:throw new Error("Illegal vector")}return e}},{key:"transformPoint",value:function(t,e){switch(t.length){case 2:e=e||new l.a,X()(e,[t[0],t[1],0,1],this),e.length=2,f()(Object(l.b)(e));break;case 3:e=e||new u.a,X()(e,[t[0],t[1],t[2],1],this),e.length=3,f()(Object(u.b)(e));break;case 4:f()(0!==t[3]),e=e||new c.a,X()(e,t,this),f()(Object(c.b)(e));break;default:throw new Error("Illegal vector")}return e}},{key:"ELEMENTS",get:function(){return 16}},{key:"m00",get:function(){return this[0]},set:function(t){return this[0]=Object(s.a)(t)}},{key:"m01",get:function(){return this[4]},set:function(t){return this[4]=Object(s.a)(t)}},{key:"m02",get:function(){return this[8]},set:function(t){return this[8]=Object(s.a)(t)}},{key:"m03",get:function(){return this[12]},set:function(t){return this[12]=Object(s.a)(t)}},{key:"m10",get:function(){return this[1]},set:function(t){return this[1]=Object(s.a)(t)}},{key:"m11",get:function(){return this[5]},set:function(t){return this[5]=Object(s.a)(t)}},{key:"m12",get:function(){return this[9]},set:function(t){return this[9]=Object(s.a)(t)}},{key:"m13",get:function(){return this[13]},set:function(t){return this[13]=Object(s.a)(t)}},{key:"m20",get:function(){return this[2]},set:function(t){return this[2]=Object(s.a)(t)}},{key:"m21",get:function(){return this[6]},set:function(t){return this[6]=Object(s.a)(t)}},{key:"m22",get:function(){return this[10]},set:function(t){return this[10]=Object(s.a)(t)}},{key:"m23",get:function(){return this[14]},set:function(t){return this[14]=Object(s.a)(t)}},{key:"m30",get:function(){return this[3]},set:function(t){return this[3]=Object(s.a)(t)}},{key:"m31",get:function(){return this[7]},set:function(t){return this[7]=Object(s.a)(t)}},{key:"m32",get:function(){return this[11]},set:function(t){return this[11]=Object(s.a)(t)}},{key:"m33",get:function(){return this[15]},set:function(t){return this[15]=Object(s.a)(t)}}]),e}(a.a);e.a=Q},function(t,e){function n(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*l-i*a,_=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,E=c*m-p*d,S=c*y-f*d,C=c*v-h*d,T=p*y-f*m,O=p*v-h*m,M=f*v-h*y,P=g*M-b*O+_*T+x*C-w*S+k*E;return P?(P=1/P,t[0]=(s*M-l*O+u*T)*P,t[1]=(i*O-r*M-o*T)*P,t[2]=(m*k-y*w+v*x)*P,t[3]=(f*w-p*k-h*x)*P,t[4]=(l*C-a*M-u*S)*P,t[5]=(n*M-i*C+o*S)*P,t[6]=(y*_-d*k-v*b)*P,t[7]=(c*k-f*_+h*b)*P,t[8]=(a*O-s*C+u*E)*P,t[9]=(r*C-n*O-o*E)*P,t[10]=(d*w-m*_+v*g)*P,t[11]=(p*_-c*w-h*g)*P,t[12]=(s*S-a*T-l*E)*P,t[13]=(n*T-r*S+i*E)*P,t[14]=(m*b-d*x-y*g)*P,t[15]=(c*x-p*b+f*g)*P,t):null}t.exports=n},function(t,e){function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*p+w*m,t[1]=b*i+_*l+x*f+w*y,t[2]=b*o+_*u+x*h+w*v,t[3]=b*a+_*c+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*p+w*m,t[5]=b*i+_*l+x*f+w*y,t[6]=b*o+_*u+x*h+w*v,t[7]=b*a+_*c+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*p+w*m,t[9]=b*i+_*l+x*f+w*y,t[10]=b*o+_*u+x*h+w*v,t[11]=b*a+_*c+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*p+w*m,t[13]=b*i+_*l+x*f+w*y,t[14]=b*o+_*u+x*h+w*v,t[15]=b*a+_*c+x*d+w*g,t}t.exports=n},function(t,e){function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+f*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=f*i-l*r,t}t.exports=n},function(t,e){function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+f*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=f*i-l*r,t}t.exports=n},function(t,e){function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(53),s=n(11),l=n(526),u=n.n(l),c=n(527),p=n.n(c),f=n(528),h=n.n(f),d=n(530),m=n.n(d),y=n(532),v=n.n(y),g=n(533),b=n.n(g),_=n(534),x=n.n(_),w=n(535),k=n.n(w),E=n(536),S=n.n(E),C=n(537),T=n.n(C),O=n(538),M=n.n(O),P=n(539),A=n.n(P),z=n(196),j=n.n(z),I=n(540),L=n.n(I),D=n(541),R=n.n(D),N=n(542),B=n.n(N),F=n(543),U=n.n(F),V=n(544),H=n.n(V),W=n(197),q=n.n(W),G=n(545),Z=n.n(G),X=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Y=[0,0,0,1],K=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Array.isArray(t)&&1===arguments.length?s.copy(t):s.set(t,n,o,a),s}return o(e,t),X(e,[{key:"fromMatrix3",value:function(t){return u()(this,t),this.check(),this}},{key:"fromValues",value:function(t,e,n,r){return this.set(t,e,n,r)}},{key:"identity",value:function(){return p()(this),this.check(),this}},{key:"length",value:function(){return h()(this)}},{key:"squaredLength",value:function(t){return m()(this)}},{key:"dot",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return v()(this,t)}},{key:"rotationTo",value:function(t,e){return b()(this,t,e),this.check(),this}},{key:"add",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return x()(this,t),this.check(),this}},{key:"calculateW",value:function(){return k()(this,this),this.check(),this}},{key:"conjugate",value:function(){return S()(this,this),this.check(),this}},{key:"invert",value:function(){return T()(this,this),this.check(),this}},{key:"lerp",value:function(t,e,n){return M()(this,t,e,n),this.check(),this}},{key:"multiply",value:function(t,e){if(void 0!==e)throw new Error("Quaternion.multiply only takes one argument");return A()(this,this,e),this.check(),this}},{key:"normalize",value:function(){return j()(this,this),this.check(),this}},{key:"rotateX",value:function(t){return L()(this,this,t),this.check(),this}},{key:"rotateY",value:function(t){return R()(this,this,t),this.check(),this}},{key:"rotateZ",value:function(t){return B()(this,this,t),this.check(),this}},{key:"scale",value:function(t){return U()(this,this,t),this.check(),this}},{key:"set",value:function(t,e,n,r){return H()(this,t,e,n,r),this.check(),this}},{key:"setAxisAngle",value:function(t,e){return q()(this,t,e),this.check(),this}},{key:"slerp",value:function(t){var e=t.start,n=void 0===e?Y:e,r=t.target,i=t.ratio;return Z()(this,n,r,i),this.check(),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(s.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(s.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(s.a)(t)}},{key:"w",get:function(){return this[3]},set:function(t){return this[3]=Object(s.a)(t)}}]),e}(a.a);e.a=K},function(t,e){function n(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}t.exports=n},function(t,e,n){t.exports=n(184)},function(t,e){function n(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}t.exports=n},function(t,e,n){"use strict";function r(t){var e=t.width,n=t.height,r=t.bounds,a=t.padding,s=void 0===a?0:a,l=t.offset,u=void 0===l?[0,0]:l,c=o(r,2),p=o(c[0],2),f=p[0],h=p[1],d=o(c[1],2),m=d[0],y=d[1],v=new i.a({width:e,height:n,longitude:0,latitude:0,zoom:0}),g=v.project([f,y]),b=v.project([m,h]),_=[Math.abs(b[0]-g[0]),Math.abs(b[1]-g[1])],x=[(b[0]+g[0])/2,(b[1]+g[1])/2],w=(e-2*s-2*Math.abs(u[0]))/_[0],k=(n-2*s-2*Math.abs(u[1]))/_[1],E=v.unproject(x),S=v.zoom+Math.log2(Math.abs(Math.min(w,k)));return{longitude:E[0],latitude:E[1],zoom:S}}e.a=r;var i=n(30),o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function r(t,e,n){return Array.isArray(t)?t.map(function(t,i){return r(t,e[i],n)}):n*e+(1-n)*t}function i(t){return Number.isFinite(t)||Array.isArray(t)}function o(t){return s[t]}function a(t,e,n){return o(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}e.c=r,e.b=i,e.a=a;var s={longitude:1,bearing:1}},function(t,e,n){"use strict";function r(t){var e={},n=function(){return e};return e.get=function(){return null},e.set=n,e.on=n,e.off=n,e.destroy=n,e.emit=n,e}n.d(e,"a",function(){return s});var i=n(201),o=(n.n(i),n(556)),a=void 0;i.isBrowser&&(a=n(557)),a&&(Object(o.b)(a.PointerEventInput),Object(o.a)(a.MouseInput));var s=a?a.Manager:r;e.b=a},function(t,e,n){(function(e,n){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="object"!==("undefined"===typeof e?"undefined":r(e))||"[object process]"!==String(e)||e.browser,o="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";t.exports={window:"undefined"!==typeof window?window:n,global:"undefined"!==typeof n?n:window,document:"undefined"!==typeof document?document:{},isBrowser:i,userAgent:o}}).call(e,n(96),n(7))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(56),o=n(99),a=n(57),s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u={transitionDuration:0},c={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new o.a,transitionInterruption:a.a.BREAK},p={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},f=function(){function t(){r(this,t),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}return l(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"setState",value:function(t){Object.assign(this._state,t),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e);this.onViewportChange&&Object.keys(i).some(function(t){return r[t]!==i[t]})&&this.onViewportChange(i),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new i.b(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onChangeViewport,n=t.touchZoomRotate,r=void 0===n||n,o=t.onViewportChange,a=t.onStateChange,s=void 0===a?this.onStateChange:a,l=t.eventManager,u=void 0===l?this.eventManager:l,c=t.scrollZoom,f=void 0===c||c,h=t.dragPan,d=void 0===h||h,m=t.dragRotate,y=void 0===m||m,v=t.doubleClickZoom,g=void 0===v||v,b=t.touchZoom,_=void 0===b||b,x=t.touchRotate,w=void 0!==x&&x,k=t.keyboard,E=void 0===k||k;this.onViewportChange=o||e,this.onStateChange=s,this.mapStateProps&&this.mapStateProps.height!==t.height&&this.updateViewport(new i.b(t)),this.mapStateProps=t,this.eventManager!==u&&(this.eventManager=u,this._events={},this.toggleEvents(this.events,!0));var S=Boolean(this.onViewportChange);this.toggleEvents(p.WHEEL,S&&f),this.toggleEvents(p.PAN,S&&(d||y)),this.toggleEvents(p.PINCH,S&&r),this.toggleEvents(p.DOUBLE_TAP,S&&g),this.toggleEvents(p.KEYBOARD,S&&E),this.scrollZoom=f,this.dragPan=d,this.dragRotate=y,this.doubleClickZoom=g,this.touchZoom=r&&_,this.touchRotate=r&&w,this.keyboard=E}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach(function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))})}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,u,{isDragging:!0})}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1})}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,u,{isDragging:!0})}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=this.getCenter(t),i=s(r,2),o=i[1],a=o-n,l=this.mapState.getViewportProps(),c=l.width,p=l.height,f=e/c,h=0;n>0?Math.abs(p-a)>5&&(h=n/(a-p)*1.2):n<0&&a>5&&(h=1-o/a),h=Math.min(1,Math.max(-1,h));var d=this.mapState.rotate({deltaScaleX:f,deltaScaleY:h});return this.updateViewport(d,u,{isDragging:!0})}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,u)}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,u,{isDragging:!0})}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,u,{isDragging:!0})}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,c)}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e=this.isFunctionKeyPressed(t),n=this.mapStateProps,r=void 0;switch(t.srcEvent.keyCode){case 189:r=e?this.getMapState({zoom:n.zoom-2}):this.getMapState({zoom:n.zoom-1});break;case 187:r=e?this.getMapState({zoom:n.zoom+2}):this.getMapState({zoom:n.zoom+1});break;case 37:r=e?this.getMapState({bearing:n.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:r=e?this.getMapState({bearing:n.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:r=e?this.getMapState({pitch:n.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:r=e?this.getMapState({pitch:n.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(r,c)}}]),t}();e.a=f},function(t,e,n){"use strict";function r(t){return"react-map-gl: `"+t+"` is deprecated and will be removed in a later version."}function i(t){return"Use `"+t+"` instead."}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.forEach(function(e){if(t.hasOwnProperty(e.old)){var n=r(e.old);e.new&&(n=n+" "+i(e.new)),console.warn(n)}})}e.a=o;var a=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}]},function(t,e,n){"use strict";function r(t,e){return t===e}function i(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return i(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}function a(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"===typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=0,l=r.pop(),u=a(r),c=t.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(n)),p=o(function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return c.apply(null,t)});return p.resultFunc=l,p.recomputations=function(){return s},p.resetRecomputations=function(){return s=0},p}}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!==typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map(function(e){return t[e]}),function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(t,e,r){return t[n[r]]=e,t},{})})}e.__esModule=!0,e.defaultMemoize=o,e.createSelectorCreator=s,e.createStructuredSelector=l;var u=e.createSelector=s(o)},function(t,e,n){function r(t,e){var n={};return e=a(e,3),o(t,function(t,r,o){i(n,r,e(t,r,o))}),n}var i=n(48),o=n(47),a=n(37);t.exports=r},function(t,e,n){n(207),t.exports=n(212)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(208).enable(),window.Promise=n(210)),n(211),Object.assign=n(32)},function(t,e,n){"use strict";function r(){u=!1,s._47=null,s._71=null}function i(t){function e(e){(t.allRejections||a(p[e].error,t.whitelist||l))&&(p[e].displayId=c++,t.onUnhandled?(p[e].logged=!0,t.onUnhandled(p[e].displayId,p[e].error)):(p[e].logged=!0,o(p[e].displayId,p[e].error)))}function n(e){p[e].logged&&(t.onHandled?t.onHandled(p[e].displayId,p[e].error):p[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+p[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+p[e].displayId+".")))}t=t||{},u&&r(),u=!0;var i=0,c=0,p={};s._47=function(t){2===t._83&&p[t._56]&&(p[t._56].logged?n(t._56):clearTimeout(p[t._56].timeout),delete p[t._56])},s._71=function(t,n){0===t._75&&(t._56=i++,p[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,l)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(102),l=[ReferenceError,TypeError,RangeError],u=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function r(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>u){for(var e=0,n=a.length-l;e<n;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,s=!1}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,l=0,u=1024,c="undefined"!==typeof e?e:self,p=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof p?function(t){var e=1,n=new p(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(e,n(7))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(102);t.exports=i;var o=r(!0),a=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return l;if(!0===t)return o;if(!1===t)return a;if(0===t)return u;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var l=s.then;if("function"===typeof l){return void new i(l.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},p.call(h.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];y.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=h,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new h(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(34),a=n.n(o),s=n(223),l=(n.n(s),n(224)),u=n(600);a.a.render(i.a.createElement(l.a,null),document.getElementById("root")),Object(u.a)()},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function i(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||O}function o(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||O}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||O}function l(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)z.call(e,r)&&!j.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:t,key:o,ref:a,props:i,_owner:A.current}}function u(t){return"object"===typeof t&&null!==t&&t.$$typeof===w}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function p(t,e,n,r){if(L.length){var i=L.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>L.length&&L.push(t)}function h(t,e,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case w:case k:case E:case S:a=!0}}if(a)return n(i,t,""===e?"."+d(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var l=e+d(o,s);a+=h(o,l,n,i)}else if(null===t||"undefined"===typeof t?l=null:(l=T&&t[T]||t["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=e+d(o,s++),a+=h(o,l,n,i);else"object"===o&&(n=""+t,r("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function d(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function m(t,e){t.func.call(t.context,e,t.count++)}function y(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?v(t,r,n,_.thatReturnsArgument):null!=t&&(u(t)&&(e=i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n,t={$$typeof:w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function v(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),e=p(e,o,r,i),null==t||h(t,"",y,e),f(e)}var g=n(32),b=n(59),_=n(33),x="function"===typeof Symbol&&Symbol.for,w=x?Symbol.for("react.element"):60103,k=x?Symbol.for("react.call"):60104,E=x?Symbol.for("react.return"):60105,S=x?Symbol.for("react.portal"):60106,C=x?Symbol.for("react.fragment"):60107,T="function"===typeof Symbol&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&r("85"),this.updater.enqueueSetState(this,t,e,"setState")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=i.prototype;var M=o.prototype=new a;M.constructor=o,g(M,i.prototype),M.isPureReactComponent=!0;var P=s.prototype=new a;P.constructor=s,g(P,i.prototype),P.unstable_isAsyncReactComponent=!0,P.render=function(){return this.props.children};var A={current:null},z=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,L=[],D={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return v(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=p(null,null,e,n),null==t||h(t,"",m,e),f(e)},count:function(t){return null==t?0:h(t,"",_.thatReturnsNull,null)},toArray:function(t){var e=[];return v(t,e,null,_.thatReturnsArgument),e},only:function(t){return u(t)||r("143"),t}},Component:i,PureComponent:o,unstable_AsyncComponent:s,Fragment:C,createElement:l,cloneElement:function(t,e,n){var r=g({},t.props),i=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=A.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)z.call(e,l)&&!j.hasOwnProperty(l)&&(r[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:w,type:t.type,key:i,ref:o,props:r,_owner:a}},createFactory:function(t){var e=l.bind(null,t);return e.type=t,e},isValidElement:u,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:g}},R=Object.freeze({default:D}),N=R&&D||R;t.exports=N.default?N.default:N},function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),e.name="Invariant Violation",e.framesToPop=1,e}function i(t,e){return(t&e)===e}function o(t,e){if(Mn.hasOwnProperty(t)||2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))return!1;if(null===e)return!0;switch(typeof e){case"boolean":return Mn.hasOwnProperty(t)?t=!0:(e=a(t))?t=e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:(t=t.toLowerCase().slice(0,5),t="data-"===t||"aria-"===t),t;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(t){return An.hasOwnProperty(t)?An[t]:null}function s(t){return t[1].toUpperCase()}function l(t,e,n,r,i,o,a,s,l){Wn._hasCaughtError=!1,Wn._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){Wn._caughtError=t,Wn._hasCaughtError=!0}}function u(){if(Wn._hasRethrowError){var t=Wn._rethrowError;throw Wn._rethrowError=null,Wn._hasRethrowError=!1,t}}function c(){if(qn)for(var t in Gn){var e=Gn[t],n=qn.indexOf(t);if(-1<n||r("96",t),!Zn[n]){e.extractEvents||r("97",t),Zn[n]=e,n=e.eventTypes;for(var i in n){var o=void 0,a=n[i],s=e,l=i;Xn.hasOwnProperty(l)&&r("99",l),Xn[l]=a;var u=a.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&p(u[o],s,l);o=!0}else a.registrationName?(p(a.registrationName,s,l),o=!0):o=!1;o||r("98",i,t)}}}}function p(t,e,n){Yn[t]&&r("100",t),Yn[t]=e,Kn[t]=e.eventTypes[n].dependencies}function f(t){qn&&r("101"),qn=Array.prototype.slice.call(t),c()}function h(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];Gn.hasOwnProperty(e)&&Gn[e]===i||(Gn[e]&&r("102",e),Gn[e]=i,n=!0)}n&&c()}function d(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=tr(r),Wn.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function m(t,e){return null==e&&r("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function y(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function v(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)d(t,e,n[i],r[i]);else n&&d(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function g(t){return v(t,!0)}function b(t){return v(t,!1)}function _(t,e){var n=t.stateNode;if(!n)return null;var i=Jn(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&r("231",e,typeof n),n)}function x(t,e,n,r){for(var i,o=0;o<Zn.length;o++){var a=Zn[o];a&&(a=a.extractEvents(t,e,n,r))&&(i=m(i,a))}return i}function w(t){t&&(er=m(er,t))}function k(t){var e=er;er=null,e&&(t?y(e,g):y(e,b),er&&r("95"),Wn.rethrowCaughtError())}function E(t){if(t[or])return t[or];for(var e=[];!t[or];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=void 0,r=t[or];if(5===r.tag||6===r.tag)return r;for(;t&&(r=t[or]);t=e.pop())n=r;return n}function S(t){if(5===t.tag||6===t.tag)return t.stateNode;r("33")}function C(t){return t[ar]||null}function T(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function O(t,e,n){for(var r=[];t;)r.push(t),t=T(t);for(t=r.length;0<t--;)e(r[t],"captured",n);for(t=0;t<r.length;t++)e(r[t],"bubbled",n)}function M(t,e,n){(e=_(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=m(n._dispatchListeners,e),n._dispatchInstances=m(n._dispatchInstances,t))}function P(t){t&&t.dispatchConfig.phasedRegistrationNames&&O(t._targetInst,M,t)}function A(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?T(e):null,O(e,M,t)}}function z(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=_(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,e),n._dispatchInstances=m(n._dispatchInstances,t))}function j(t){t&&t.dispatchConfig.registrationName&&z(t._targetInst,null,t)}function I(t){y(t,P)}function L(t,e,n,r){if(n&&r)t:{for(var i=n,o=r,a=0,s=i;s;s=T(s))a++;s=0;for(var l=o;l;l=T(l))s++;for(;0<a-s;)i=T(i),a--;for(;0<s-a;)o=T(o),s--;for(;a--;){if(i===o||i===o.alternate)break t;i=T(i),o=T(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=T(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=T(r);for(r=0;r<i.length;r++)z(i[r],"bubbled",t);for(t=n.length;0<t--;)z(n[t],"captured",e)}function D(){return!ur&&_n.canUseDOM&&(ur="textContent"in document.documentElement?"textContent":"innerText"),ur}function R(){if(cr._fallbackText)return cr._fallbackText;var t,e,n=cr._startText,r=n.length,i=N(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return cr._fallbackText=i.slice(t,1<e?1-e:void 0),cr._fallbackText}function N(){return"value"in cr._root?cr._root.value:cr._root[D()]}function B(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?wn.thatReturnsTrue:wn.thatReturnsFalse,this.isPropagationStopped=wn.thatReturnsFalse,this}function F(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function U(t){t instanceof this||r("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function V(t){t.eventPool=[],t.getPooled=F,t.release=U}function H(t,e,n,r){return B.call(this,t,e,n,r)}function W(t,e,n,r){return B.call(this,t,e,n,r)}function q(t,e){switch(t){case"topKeyUp":return-1!==hr.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function G(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function Z(t,e){switch(t){case"topCompositionEnd":return G(e);case"topKeyPress":return 32!==e.which?null:(kr=!0,xr);case"topTextInput":return t=e.data,t===xr&&kr?null:t;default:return null}}function X(t,e){if(Er)return"topCompositionEnd"===t||!dr&&q(t,e)?(t=R(),cr._root=null,cr._startText=null,cr._fallbackText=null,Er=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return _r?null:e.data;default:return null}}function Y(t){if(t=Qn(t)){Cr&&"function"===typeof Cr.restoreControlledState||r("194");var e=Jn(t.stateNode);Cr.restoreControlledState(t.stateNode,t.type,e)}}function K(t){Tr?Or?Or.push(t):Or=[t]:Tr=t}function $(){if(Tr){var t=Tr,e=Or;if(Or=Tr=null,Y(t),e)for(t=0;t<e.length;t++)Y(e[t])}}function J(t,e){return t(e)}function Q(t,e){if(Ar)return J(t,e);Ar=!0;try{return J(t,e)}finally{Ar=!1,$()}}function tt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zr[t.type]:"textarea"===e}function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function nt(t,e){if(!_n.canUseDOM||e&&!("addEventListener"in document))return!1;e="on"+t;var n=e in document;return n||(n=document.createElement("div"),n.setAttribute(e,"return;"),n="function"===typeof n[e]),!n&&gr&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function rt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function it(t){var e=rt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){r=""+t,n.set.call(this,t)}}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function ot(t){t._valueTracker||(t._valueTracker=it(t))}function at(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function st(t,e,n){return t=B.getPooled(jr.change,t,e,n),t.type="change",K(n),I(t),t}function lt(t){w(t),k(!1)}function ut(t){if(at(S(t)))return t}function ct(t,e){if("topChange"===t)return e}function pt(){Ir&&(Ir.detachEvent("onpropertychange",ft),Lr=Ir=null)}function ft(t){"value"===t.propertyName&&ut(Lr)&&(t=st(Lr,t,et(t)),Q(lt,t))}function ht(t,e,n){"topFocus"===t?(pt(),Ir=e,Lr=n,Ir.attachEvent("onpropertychange",ft)):"topBlur"===t&&pt()}function dt(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return ut(Lr)}function mt(t,e){if("topClick"===t)return ut(e)}function yt(t,e){if("topInput"===t||"topChange"===t)return ut(e)}function vt(t,e,n,r){return B.call(this,t,e,n,r)}function gt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Nr[t])&&!!e[t]}function bt(){return gt}function _t(t,e,n,r){return B.call(this,t,e,n,r)}function xt(t){return t=t.type,"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}function wt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function kt(t){return!!(t=t._reactInternalFiber)&&2===wt(t)}function Et(t){2!==wt(t)&&r("188")}function St(t){var e=t.alternate;if(!e)return e=wt(t),3===e&&r("188"),1===e?null:t;for(var n=t,i=e;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Et(o),t;if(s===i)return Et(o),e;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?t:e}function Ct(t){if(!(t=St(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Tt(t){if(!(t=St(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ot(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=E(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],Wr(t.topLevelType,e,t.nativeEvent,et(t.nativeEvent))}function Mt(t){Hr=!!t}function Pt(t,e,n){return n?kn.listen(n,e,zt.bind(null,t)):null}function At(t,e,n){return n?kn.capture(n,e,zt.bind(null,t)):null}function zt(t,e){if(Hr){var n=et(e);if(n=E(n),null===n||"number"!==typeof n.tag||2===wt(n)||(n=null),Vr.length){var r=Vr.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Q(Ot,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Vr.length&&Vr.push(t)}}}function jt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function It(t){if(Zr[t])return Zr[t];if(!Gr[t])return t;var e,n=Gr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Xr)return Zr[t]=n[e];return""}function Lt(t){return Object.prototype.hasOwnProperty.call(t,Jr)||(t[Jr]=$r++,Kr[t[Jr]]={}),Kr[t[Jr]]}function Dt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rt(t,e){var n=Dt(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Dt(n)}}function Nt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}function Bt(t,e){if(ii||null==ei||ei!==En())return null;var n=ei;return"selectionStart"in n&&Nt(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&Sn(ri,n)?null:(ri=n,t=B.getPooled(ti.select,ni,t,e),t.type="select",t.target=ei,I(t),t)}function Ft(t,e,n,r){return B.call(this,t,e,n,r)}function Ut(t,e,n,r){return B.call(this,t,e,n,r)}function Vt(t,e,n,r){return B.call(this,t,e,n,r)}function Ht(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function Wt(t,e,n,r){return B.call(this,t,e,n,r)}function qt(t,e,n,r){return B.call(this,t,e,n,r)}function Gt(t,e,n,r){return B.call(this,t,e,n,r)}function Zt(t,e,n,r){return B.call(this,t,e,n,r)}function Xt(t,e,n,r){return B.call(this,t,e,n,r)}function Yt(t){0>fi||(t.current=pi[fi],pi[fi]=null,fi--)}function Kt(t,e){fi++,pi[fi]=t.current,t.current=e}function $t(t){return Qt(t)?mi:hi.current}function Jt(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Qt(t){return 2===t.tag&&null!=t.type.childContextTypes}function te(t){Qt(t)&&(Yt(di,t),Yt(hi,t))}function ee(t,e,n){null!=hi.cursor&&r("168"),Kt(hi,e,t),Kt(di,n,t)}function ne(t,e){var n=t.stateNode,i=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var o in n)o in i||r("108",xt(t)||"Unknown",o);return xn({},e,n)}function re(t){if(!Qt(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||On,mi=hi.current,Kt(hi,e,t),Kt(di,di.current,t),!0}function ie(t,e){var n=t.stateNode;if(n||r("169"),e){var i=ne(t,mi);n.__reactInternalMemoizedMergedChildContext=i,Yt(di,t),Yt(hi,t),Kt(hi,i,t)}else Yt(di,t);Kt(di,e,t)}function oe(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ae(t,e,n){var r=t.alternate;return null===r?(r=new oe(t.tag,t.key,t.internalContextTag),r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=e,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function se(t,e,n){var i=void 0,o=t.type,a=t.key;return"function"===typeof o?(i=o.prototype&&o.prototype.isReactComponent?new oe(2,a,e):new oe(0,a,e),i.type=o,i.pendingProps=t.props):"string"===typeof o?(i=new oe(5,a,e),i.type=o,i.pendingProps=t.props):"object"===typeof o&&null!==o&&"number"===typeof o.tag?(i=o,i.pendingProps=t.props):r("130",null==o?o:typeof o,""),i.expirationTime=n,i}function le(t,e,n,r){return e=new oe(10,r,e),e.pendingProps=t,e.expirationTime=n,e}function ue(t,e,n){return e=new oe(6,null,e),e.pendingProps=t,e.expirationTime=n,e}function ce(t,e,n){return e=new oe(7,t.key,e),e.type=t.handler,e.pendingProps=t,e.expirationTime=n,e}function pe(t,e,n){return t=new oe(9,null,e),t.expirationTime=n,t}function fe(t,e,n){return e=new oe(4,t.key,e),e.pendingProps=t.children||[],e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function he(t){return function(e){try{return t(e)}catch(t){}}}function de(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);yi=he(function(t){return e.onCommitFiberRoot(n,t)}),vi=he(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function me(t){"function"===typeof yi&&yi(t)}function ye(t){"function"===typeof vi&&vi(t)}function ve(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ge(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}function be(t,e){var n=t.alternate,r=t.updateQueue;null===r&&(r=t.updateQueue=ve(null)),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=ve(null)):t=null,t=t!==r?t:null,null===t?ge(r,e):null===r.last||null===t.last?(ge(r,e),ge(t,e)):(ge(r,e),t.last=e)}function _e(t,e,n,r){return t=t.partialState,"function"===typeof t?t.call(e,n,r):t}function xe(t,e,n,r,i,o){null!==t&&t.updateQueue===n&&(n=e.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?t=n.baseState:(t=n.baseState=e.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,l=!1;null!==s;){var u=s.expirationTime;if(u>o){var c=n.expirationTime;(0===c||c>u)&&(n.expirationTime=u),l||(l=!0,n.baseState=t)}else l||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(t=_e(s,r,t,i),a=!0):(u=_e(s,r,t,i))&&(t=a?xn({},t,u):xn(t,u),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(s));s=s.next}return null!==n.callbackList?e.effectTag|=32:null!==n.first||n.hasForceUpdate||(e.updateQueue=null),l||(n.baseState=t),t}function we(t,e){var n=t.callbackList;if(null!==n)for(t.callbackList=null,t=0;t<n.length;t++){var i=n[t],o=i.callback;i.callback=null,"function"!==typeof o&&r("191",o),o.call(e)}}function ke(t,e,n,i){function o(t,e){e.updater=a,t.stateNode=e,e._reactInternalFiber=t}var a={isMounted:kt,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=e(n);be(n,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(n,o)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=e(n);be(n,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(n,o)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=e(n);be(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(t,e){var n=t.type,r=$t(t),i=2===t.tag&&null!=t.type.contextTypes,a=i?Jt(t,r):On;return e=new n(e,a),o(t,e),i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e},mountClassInstance:function(t,e){var n=t.alternate,i=t.stateNode,o=i.state||null,s=t.pendingProps;s||r("158");var l=$t(t);i.props=s,i.state=t.memoizedState=o,i.refs=On,i.context=Jt(t,l),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),"function"===typeof i.componentWillMount&&(o=i.state,i.componentWillMount(),o!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(i.state=xe(n,t,o,i,s,e))),"function"===typeof i.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,e,o){var s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var l=e.memoizedProps,u=e.pendingProps;u||null==(u=l)&&r("159");var c=s.context,p=$t(e);if(p=Jt(e,p),"function"!==typeof s.componentWillReceiveProps||l===u&&c===p||(c=s.state,s.componentWillReceiveProps(u,p),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=e.memoizedState,o=null!==e.updateQueue?xe(t,e,e.updateQueue,s,u,o):c,!(l!==u||c!==o||di.current||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),!1;var f=u;if(null===l||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)f=!0;else{var h=e.stateNode,d=e.type;f="function"===typeof h.shouldComponentUpdate?h.shouldComponentUpdate(f,o,p):!d.prototype||!d.prototype.isPureReactComponent||(!Sn(l,f)||!Sn(c,o))}return f?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(u,o,p),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4)):("function"!==typeof s.componentDidUpdate||l===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),n(e,u),i(e,o)),s.props=u,s.state=o,s.context=p,f}}}function Ee(t){return null===t||"undefined"===typeof t?null:(t=Ei&&t[Ei]||t["@@iterator"],"function"===typeof t?t:null)}function Se(t,e){var n=e.ref;if(null!==n&&"function"!==typeof n){if(e._owner){e=e._owner;var i=void 0;e&&(2!==e.tag&&r("110"),i=e.stateNode),i||r("147",n);var o=""+n;return null!==t&&null!==t.ref&&t.ref._stringRef===o?t.ref:(t=function(t){var e=i.refs===On?i.refs={}:i.refs;null===t?delete e[o]:e[o]=t},t._stringRef=o,t)}"string"!==typeof n&&r("148"),e._owner||r("149",n)}return n}function Ce(t,e){"textarea"!==t.type&&r("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Te(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=ae(t,e,n),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?(e=ue(n,t.internalContextTag,r),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function u(t,e,n,r){return null!==e&&e.type===n.type?(r=o(e,n.props,r),r.ref=Se(e,n),r.return=t,r):(r=se(n,t.internalContextTag,r),r.ref=Se(e,n),r.return=t,r)}function c(t,e,n,r){return null===e||7!==e.tag?(e=ce(n,t.internalContextTag,r),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function p(t,e,n,r){return null===e||9!==e.tag?(e=pe(n,t.internalContextTag,r),e.type=n.value,e.return=t,e):(e=o(e,null,r),e.type=n.value,e.return=t,e)}function f(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=fe(n,t.internalContextTag,r),e.return=t,e):(e=o(e,n.children||[],r),e.return=t,e)}function h(t,e,n,r,i){return null===e||10!==e.tag?(e=le(n,t.internalContextTag,r,i),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return e=ue(""+e,t.internalContextTag,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case bi:return e.type===ki?(e=le(e.props.children,t.internalContextTag,n,e.key),e.return=t,e):(n=se(e,t.internalContextTag,n),n.ref=Se(null,e),n.return=t,n);case _i:return e=ce(e,t.internalContextTag,n),e.return=t,e;case xi:return n=pe(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case wi:return e=fe(e,t.internalContextTag,n),e.return=t,e}if(Si(e)||Ee(e))return e=le(e,t.internalContextTag,n,null),e.return=t,e;Ce(t,e)}return null}function m(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===ki?h(t,e,n.props.children,r,i):u(t,e,n,r):null;case _i:return n.key===i?c(t,e,n,r):null;case xi:return null===i?p(t,e,n,r):null;case wi:return n.key===i?f(t,e,n,r):null}if(Si(n)||Ee(n))return null!==i?null:h(t,e,n,r,null);Ce(t,n)}return null}function y(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,l(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bi:return t=t.get(null===r.key?n:r.key)||null,r.type===ki?h(e,t,r.props.children,i,r.key):u(e,t,r,i);case _i:return t=t.get(null===r.key?n:r.key)||null,c(e,t,r,i);case xi:return t=t.get(n)||null,p(e,t,r,i);case wi:return t=t.get(null===r.key?n:r.key)||null,f(e,t,r,i)}if(Si(r)||Ee(r))return t=t.get(n)||null,h(e,t,r,i,null);Ce(e,r)}return null}function v(r,o,s,l){for(var u=null,c=null,p=o,f=o=0,h=null;null!==p&&f<s.length;f++){p.index>f?(h=p,p=null):h=p.sibling;var v=m(r,p,s[f],l);if(null===v){null===p&&(p=h);break}t&&p&&null===v.alternate&&e(r,p),o=a(v,o,f),null===c?u=v:c.sibling=v,c=v,p=h}if(f===s.length)return n(r,p),u;if(null===p){for(;f<s.length;f++)(p=d(r,s[f],l))&&(o=a(p,o,f),null===c?u=p:c.sibling=p,c=p);return u}for(p=i(r,p);f<s.length;f++)(h=y(p,r,f,s[f],l))&&(t&&null!==h.alternate&&p.delete(null===h.key?f:h.key),o=a(h,o,f),null===c?u=h:c.sibling=h,c=h);return t&&p.forEach(function(t){return e(r,t)}),u}function g(o,s,l,u){var c=Ee(l);"function"!==typeof c&&r("150"),null==(l=c.call(l))&&r("151");for(var p=c=null,f=s,h=s=0,v=null,g=l.next();null!==f&&!g.done;h++,g=l.next()){f.index>h?(v=f,f=null):v=f.sibling;var b=m(o,f,g.value,u);if(null===b){f||(f=v);break}t&&f&&null===b.alternate&&e(o,f),s=a(b,s,h),null===p?c=b:p.sibling=b,p=b,f=v}if(g.done)return n(o,f),c;if(null===f){for(;!g.done;h++,g=l.next())null!==(g=d(o,g.value,u))&&(s=a(g,s,h),null===p?c=g:p.sibling=g,p=g);return c}for(f=i(o,f);!g.done;h++,g=l.next())null!==(g=y(f,o,h,g.value,u))&&(t&&null!==g.alternate&&f.delete(null===g.key?h:g.key),s=a(g,s,h),null===p?c=g:p.sibling=g,p=g);return t&&f.forEach(function(t){return e(o,t)}),c}return function(t,i,a,l){"object"===typeof a&&null!==a&&a.type===ki&&null===a.key&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case bi:t:{var c=a.key;for(u=i;null!==u;){if(u.key===c){if(10===u.tag?a.type===ki:u.type===a.type){n(t,u.sibling),i=o(u,a.type===ki?a.props.children:a.props,l),i.ref=Se(u,a),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}a.type===ki?(i=le(a.props.children,t.internalContextTag,l,a.key),i.return=t,t=i):(l=se(a,t.internalContextTag,l),l.ref=Se(i,a),l.return=t,t=l)}return s(t);case _i:t:{for(u=a.key;null!==i;){if(i.key===u){if(7===i.tag){n(t,i.sibling),i=o(i,a,l),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=ce(a,t.internalContextTag,l),i.return=t,t=i}return s(t);case xi:t:{if(null!==i){if(9===i.tag){n(t,i.sibling),i=o(i,null,l),i.type=a.value,i.return=t,t=i;break t}n(t,i)}i=pe(a,t.internalContextTag,l),i.type=a.value,i.return=t,t=i}return s(t);case wi:t:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(t,i.sibling),i=o(i,a.children||[],l),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=fe(a,t.internalContextTag,l),i.return=t,t=i}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(t,i.sibling),i=o(i,a,l)):(n(t,i),i=ue(a,t.internalContextTag,l)),i.return=t,t=i,s(t);if(Si(a))return v(t,i,a,l);if(Ee(a))return g(t,i,a,l);if(u&&Ce(t,a),"undefined"===typeof a)switch(t.tag){case 2:case 1:l=t.type,r("152",l.displayName||l.name||"Component")}return n(t,i)}}function Oe(t,e,n,i,o){function a(t,e,n){var r=e.expirationTime;e.child=null===t?Ti(e,null,n,r):Ci(e,t.child,n,r)}function s(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=128)}function l(t,e,n,r){if(s(t,e),!n)return r&&ie(e,!1),c(t,e);n=e.stateNode,Ur.current=e;var i=n.render();return e.effectTag|=1,a(t,e,i),e.memoizedState=n.state,e.memoizedProps=n.props,r&&ie(e,!0),e.child}function u(t){var e=t.stateNode;e.pendingContext?ee(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ee(t,e.context,!1),y(t,e.containerInfo)}function c(t,e){if(null!==t&&e.child!==t.child&&r("153"),null!==e.child){t=e.child;var n=ae(t,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ae(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function p(t,e){switch(e.tag){case 3:u(e);break;case 2:re(e);break;case 4:y(e,e.stateNode.containerInfo)}return null}var f=t.shouldSetTextContent,h=t.useSyncScheduling,d=t.shouldDeprioritizeSubtree,m=e.pushHostContext,y=e.pushHostContainer,v=n.enterHydrationState,g=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;t=ke(i,o,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var _=t.adoptClassInstance,x=t.constructClassInstance,w=t.mountClassInstance,k=t.updateClassInstance;return{beginWork:function(t,e,n){if(0===e.expirationTime||e.expirationTime>n)return p(t,e);switch(e.tag){case 0:null!==t&&r("155");var i=e.type,o=e.pendingProps,E=$t(e);return E=Jt(e,E),i=i(o,E),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render?(e.tag=2,o=re(e),_(e,i),w(e,n),e=l(t,e,!0,o)):(e.tag=1,a(t,e,i),e.memoizedProps=o,e=e.child),e;case 1:t:{if(o=e.type,n=e.pendingProps,i=e.memoizedProps,di.current)null===n&&(n=i);else if(null===n||i===n){e=c(t,e);break t}i=$t(e),i=Jt(e,i),o=o(n,i),e.effectTag|=1,a(t,e,o),e.memoizedProps=n,e=e.child}return e;case 2:return o=re(e),i=void 0,null===t?e.stateNode?r("153"):(x(e,e.pendingProps),w(e,n),i=!0):i=k(t,e,n),l(t,e,i,o);case 3:return u(e),o=e.updateQueue,null!==o?(i=e.memoizedState,o=xe(t,e,o,null,null,n),i===o?(g(),e=c(t,e)):(i=o.element,E=e.stateNode,(null===t||null===t.child)&&E.hydrate&&v(e)?(e.effectTag|=2,e.child=Ti(e,null,i,n)):(g(),a(t,e,i)),e.memoizedState=o,e=e.child)):(g(),e=c(t,e)),e;case 5:m(e),null===t&&b(e),o=e.type;var S=e.memoizedProps;return i=e.pendingProps,null===i&&null===(i=S)&&r("154"),E=null!==t?t.memoizedProps:null,di.current||null!==i&&S!==i?(S=i.children,f(o,i)?S=null:E&&f(o,E)&&(e.effectTag|=16),s(t,e),2147483647!==n&&!h&&d(o,i)?(e.expirationTime=2147483647,e=null):(a(t,e,S),e.memoizedProps=i,e=e.child)):e=c(t,e),e;case 6:return null===t&&b(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case 8:e.tag=7;case 7:return o=e.pendingProps,di.current?null===o&&null===(o=t&&t.memoizedProps)&&r("154"):null!==o&&e.memoizedProps!==o||(o=e.memoizedProps),i=o.children,e.stateNode=null===t?Ti(e,e.stateNode,i,n):Ci(e,e.stateNode,i,n),e.memoizedProps=o,e.stateNode;case 9:return null;case 4:t:{if(y(e,e.stateNode.containerInfo),o=e.pendingProps,di.current)null===o&&null==(o=t&&t.memoizedProps)&&r("154");else if(null===o||e.memoizedProps===o){e=c(t,e);break t}null===t?e.child=Ci(e,null,o,n):a(t,e,o),e.memoizedProps=o,e=e.child}return e;case 10:t:{if(n=e.pendingProps,di.current)null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=c(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:r("156")}},beginFailedWork:function(t,e,n){switch(e.tag){case 2:re(e);break;case 3:u(e);break;default:r("157")}return e.effectTag|=64,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),0===e.expirationTime||e.expirationTime>n?p(t,e):(e.firstEffect=null,e.lastEffect=null,e.child=null===t?Ti(e,null,null,n):Ci(e,t.child,null,n),2===e.tag&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function Me(t,e,n){function i(t){t.effectTag|=4}var o=t.createInstance,a=t.createTextInstance,s=t.appendInitialChild,l=t.finalizeInitialChildren,u=t.prepareUpdate,c=t.persistence,p=e.getRootHostContainer,f=e.popHostContext,h=e.getHostContext,d=e.popHostContainer,m=n.prepareToHydrateHostInstance,y=n.prepareToHydrateHostTextInstance,v=n.popHydrationState,g=void 0,b=void 0,_=void 0;return t.mutation?(g=function(){},b=function(t,e,n){(e.updateQueue=n)&&i(e)},_=function(t,e,n,r){n!==r&&i(e)}):r(c?"235":"236"),{completeWork:function(t,e,n){var c=e.pendingProps;switch(null===c?c=e.memoizedProps:2147483647===e.expirationTime&&2147483647!==n||(e.pendingProps=null),e.tag){case 1:return null;case 2:return te(e),null;case 3:return d(e),Yt(di,e),Yt(hi,e),c=e.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==t&&null!==t.child||(v(e),e.effectTag&=-3),g(e),null;case 5:f(e),n=p();var x=e.type;if(null!==t&&null!=e.stateNode){var w=t.memoizedProps,k=e.stateNode,E=h();k=u(k,x,w,c,n,E),b(t,e,k,x,w,c,n),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!c)return null===e.stateNode&&r("166"),null;if(t=h(),v(e))m(e,n,t)&&i(e);else{t=o(x,c,n,t,e);t:for(w=e.child;null!==w;){if(5===w.tag||6===w.tag)s(t,w.stateNode);else if(4!==w.tag&&null!==w.child){w.child.return=w,w=w.child;continue}if(w===e)break;for(;null===w.sibling;){if(null===w.return||w.return===e)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}l(t,x,c,n)&&i(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)_(t,e,t.memoizedProps,c);else{if("string"!==typeof c)return null===e.stateNode&&r("166"),null;t=p(),n=h(),v(e)?y(e)&&i(e):e.stateNode=a(c,t,n,e)}return null;case 7:(c=e.memoizedProps)||r("165"),e.tag=8,x=[];t:for((w=e.stateNode)&&(w.return=e);null!==w;){if(5===w.tag||6===w.tag||4===w.tag)r("247");else if(9===w.tag)x.push(w.type);else if(null!==w.child){w.child.return=w,w=w.child;continue}for(;null===w.sibling;){if(null===w.return||w.return===e)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}return w=c.handler,c=w(c.props,x),e.child=Ci(e,null!==t?t.child:null,c,n),e.child;case 8:return e.tag=7,null;case 9:case 10:return null;case 4:return d(e),g(e),null;case 0:r("167");default:r("156")}}}}function Pe(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function i(t){switch("function"===typeof ye&&ye(t),t.tag){case 2:n(t);var r=t.stateNode;if("function"===typeof r.componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(n){e(t,n)}break;case 5:n(t);break;case 7:o(t.stateNode);break;case 4:u&&s(t)}}function o(t){for(var e=t;;)if(i(e),null===e.child||u&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function a(t){return 5===t.tag||3===t.tag||4===t.tag}function s(t){for(var e=t,n=!1,a=void 0,s=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,s=!1;break t;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag)o(e),s?b(a,e.stateNode):g(a,e.stateNode);else if(4===e.tag?a=e.stateNode.containerInfo:i(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}var l=t.getPublicInstance,u=t.mutation;t=t.persistence,u||r(t?"235":"236");var c=u.commitMount,p=u.commitUpdate,f=u.resetTextContent,h=u.commitTextUpdate,d=u.appendChild,m=u.appendChildToContainer,y=u.insertBefore,v=u.insertInContainerBefore,g=u.removeChild,b=u.removeChildFromContainer;return{commitResetTextContent:function(t){f(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(a(e)){var n=e;break t}e=e.return}r("160"),n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode,i=!1;break;case 3:case 4:e=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(f(e),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)n?i?v(e,o.stateNode,n):y(e,o.stateNode,n):i?m(e,o.stateNode):d(e,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(t){s(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var o=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&p(n,a,o,t,i,e)}break;case 6:null===e.stateNode&&r("162"),n=e.memoizedProps,h(e.stateNode,null!==t?t.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(t,e){switch(e.tag){case 2:var n=e.stateNode;if(4&e.effectTag)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var i=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(i,t)}e=e.updateQueue,null!==e&&we(e,n);break;case 3:n=e.updateQueue,null!==n&&we(n,null!==e.child?e.child.stateNode:null);break;case 5:n=e.stateNode,null===t&&4&e.effectTag&&c(n,e.type,e.memoizedProps,e);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case 5:e(l(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function Ae(t){function e(t){return t===Oi&&r("174"),t}var n=t.getChildHostContext,i=t.getRootHostContext,o={current:Oi},a={current:Oi},s={current:Oi};return{getHostContext:function(){return e(o.current)},getRootHostContainer:function(){return e(s.current)},popHostContainer:function(t){Yt(o,t),Yt(a,t),Yt(s,t)},popHostContext:function(t){a.current===t&&(Yt(o,t),Yt(a,t))},pushHostContainer:function(t,e){Kt(s,e,t),e=i(e),Kt(a,t,t),Kt(o,e,t)},pushHostContext:function(t){var r=e(s.current),i=e(o.current);r=n(i,t.type,r),i!==r&&(Kt(a,t,t),Kt(o,r,t))},resetHostContainer:function(){o.current=Oi,s.current=Oi}}}function ze(t){function e(t,e){var n=new oe(5,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case 5:return null!==(e=a(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=s(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function i(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;f=t}var o=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=t.canHydrateInstance,s=t.canHydrateTextInstance,l=t.getNextHydratableSibling,u=t.getFirstHydratableChild,c=t.hydrateInstance,p=t.hydrateTextInstance,f=null,h=null,d=!1;return{enterHydrationState:function(t){return h=u(t.stateNode.containerInfo),f=t,d=!0},resetHydrationState:function(){h=f=null,d=!1},tryToClaimNextHydratableInstance:function(t){if(d){var r=h;if(r){if(!n(t,r)){if(!(r=l(r))||!n(t,r))return t.effectTag|=2,d=!1,void(f=t);e(f,h)}f=t,h=u(r)}else t.effectTag|=2,d=!1,f=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return p(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==f)return!1;if(!d)return i(t),d=!0,!1;var n=t.type;if(5!==t.tag||"head"!==n&&"body"!==n&&!o(n,t.memoizedProps))for(n=h;n;)e(t,n),n=l(n);return i(t),h=f?l(t.stateNode):null,!0}}}function je(t){function e(t){ot=Y=!0;var e=t.stateNode;if(e.current===t&&r("177"),e.isReadyForCommit=!1,Ur.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var n=t.firstEffect}else n=t;else n=t.firstEffect;for(W(),Q=n;null!==Q;){var i=!1,o=void 0;try{for(;null!==Q;){var a=Q.effectTag;if(16&a&&j(Q),128&a){var s=Q.alternate;null!==s&&B(s)}switch(-242&a){case 2:I(Q),Q.effectTag&=-3;break;case 6:I(Q),Q.effectTag&=-3,D(Q.alternate,Q);break;case 4:D(Q.alternate,Q);break;case 8:at=!0,L(Q),at=!1}Q=Q.nextEffect}}catch(t){i=!0,o=t}i&&(null===Q&&r("178"),l(Q,o),null!==Q&&(Q=Q.nextEffect))}for(q(),e.current=t,Q=n;null!==Q;){n=!1,i=void 0;try{for(;null!==Q;){var u=Q.effectTag;if(36&u&&R(Q.alternate,Q),128&u&&N(Q),64&u)switch(o=Q,a=void 0,null!==tt&&(a=tt.get(o),tt.delete(o),null==a&&null!==o.alternate&&(o=o.alternate,a=tt.get(o),tt.delete(o))),null==a&&r("184"),o.tag){case 2:o.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===rt&&(rt=a.error);break;default:r("157")}var c=Q.nextEffect;Q.nextEffect=null,Q=c}}catch(t){n=!0,i=t}n&&(null===Q&&r("178"),l(Q,i),null!==Q&&(Q=Q.nextEffect))}return Y=ot=!1,"function"===typeof me&&me(t.stateNode),nt&&(nt.forEach(m),nt=null),null!==rt&&(t=rt,rt=null,k(t)),e=e.current.expirationTime,0===e&&(et=tt=null),e}function n(t){for(;;){var e=z(t.alternate,t,J),n=t.return,r=t.sibling,i=t;if(2147483647===J||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var o=0;else o=i.updateQueue,o=null===o?0:o.expirationTime;for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==r)return r;if(null===n){t.stateNode.isReadyForCommit=!0;break}t=n}return null}function i(t){var e=P(t.alternate,t,J);return null===e&&(e=n(t)),Ur.current=null,e}function o(t){var e=A(t.alternate,t,J);return null===e&&(e=n(t)),Ur.current=null,e}function a(t){if(null!==tt){if(!(0===J||J>t))if(J<=Z)for(;null!==K;)K=u(K)?o(K):i(K);else for(;null!==K&&!w();)K=u(K)?o(K):i(K)}else if(!(0===J||J>t))if(J<=Z)for(;null!==K;)K=i(K);else for(;null!==K&&!w();)K=i(K)}function s(t,e){if(Y&&r("243"),Y=!0,t.isReadyForCommit=!1,t!==$||e!==J||null===K){for(;-1<fi;)pi[fi]=null,fi--;mi=On,hi.current=On,di.current=!1,O(),$=t,J=e,K=ae($.current,null,e)}var n=!1,i=null;try{a(e)}catch(t){n=!0,i=t}for(;n;){if(it){rt=i;break}var s=K;if(null===s)it=!0;else{var u=l(s,i);if(null===u&&r("183"),!it){try{for(n=u,i=e,u=n;null!==s;){switch(s.tag){case 2:te(s);break;case 5:T(s);break;case 3:C(s);break;case 4:C(s)}if(s===u||s.alternate===u)break;s=s.return}K=o(n),a(i)}catch(t){n=!0,i=t;continue}break}}}return e=rt,it=Y=!1,rt=null,null!==e&&k(e),t.isReadyForCommit?t.current.alternate:null}function l(t,e){var n=Ur.current=null,r=!1,i=!1,o=null;if(3===t.tag)n=t,c(t)&&(it=!0);else for(var a=t.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(r=!0,o=xt(a),n=a,i=!0):3===a.tag&&(n=a),c(a)){if(at||null!==nt&&(nt.has(a)||null!==a.alternate&&nt.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===et&&(et=new Set),et.add(n);var s="";a=t;do{t:switch(a.tag){case 0:case 1:case 2:case 5:var l=a._debugOwner,u=a._debugSource,p=xt(a),f=null;l&&(f=xt(l)),l=u,p="\n    in "+(p||"Unknown")+(l?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":f?" (created by "+f+")":"");break t;default:p=""}s+=p,a=a.return}while(a);a=s,t=xt(t),null===tt&&(tt=new Map),e={componentName:t,componentStack:a,error:e,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},tt.set(n,e);try{var h=e.error;h&&h.suppressReactErrorLogging||console.error(h)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}return ot?(null===nt&&(nt=new Set),nt.add(n)):m(n),n}return null===rt&&(rt=e),null}function u(t){return null!==tt&&(tt.has(t)||null!==t.alternate&&tt.has(t.alternate))}function c(t){return null!==et&&(et.has(t)||null!==t.alternate&&et.has(t.alternate))}function p(){return 20*(1+((y()+100)/20|0))}function f(t){return 0!==X?X:Y?ot?1:J:!H||1&t.internalContextTag?p():1}function h(t,e){return d(t,e,!1)}function d(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!Y&&n===$&&e<J&&(K=$=null,J=0);var i=n,o=e;if(wt>_t&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=o,null===lt?(st=lt=i,i.nextScheduledRoot=i):(lt=lt.nextScheduledRoot=i,lt.nextScheduledRoot=st);else{var a=i.remainingExpirationTime;(0===a||o<a)&&(i.remainingExpirationTime=o)}pt||(gt?bt&&(ft=i,ht=1,x(ft,ht)):1===o?_(1,null):v(o)),!Y&&n===$&&e<J&&(K=$=null,J=0)}t=t.return}}function m(t){d(t,1,!0)}function y(){return Z=2+((F()-G)/10|0)}function v(t){if(0!==ut){if(t>ut)return;V(ct)}var e=F()-G;ut=t,ct=U(b,{timeout:10*(t-2)-e})}function g(){var t=0,e=null;if(null!==lt)for(var n=lt,i=st;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===lt)&&r("244"),i===i.nextScheduledRoot){st=lt=i.nextScheduledRoot=null;break}if(i===st)st=o=i.nextScheduledRoot,lt.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===lt){lt=n,lt.nextScheduledRoot=st,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=i),i===lt)break;n=i,i=i.nextScheduledRoot}}n=ft,null!==n&&n===e?wt++:wt=0,ft=e,ht=t}function b(t){_(0,t)}function _(t,e){for(vt=e,g();null!==ft&&0!==ht&&(0===t||ht<=t)&&!dt;)x(ft,ht),g();if(null!==vt&&(ut=0,ct=-1),0!==ht&&v(ht),vt=null,dt=!1,wt=0,mt)throw t=yt,yt=null,mt=!1,t}function x(t,n){if(pt&&r("245"),pt=!0,n<=y()){var i=t.finishedWork;null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=s(t,n))&&(t.remainingExpirationTime=e(i)))}else i=t.finishedWork,null!==i?(t.finishedWork=null,t.remainingExpirationTime=e(i)):(t.finishedWork=null,null!==(i=s(t,n))&&(w()?t.finishedWork=i:t.remainingExpirationTime=e(i)));pt=!1}function w(){return!(null===vt||vt.timeRemaining()>kt)&&(dt=!0)}function k(t){null===ft&&r("246"),ft.remainingExpirationTime=0,mt||(mt=!0,yt=t)}var E=Ae(t),S=ze(t),C=E.popHostContainer,T=E.popHostContext,O=E.resetHostContainer,M=Oe(t,E,S,h,f),P=M.beginWork,A=M.beginFailedWork,z=Me(t,E,S).completeWork;E=Pe(t,l);var j=E.commitResetTextContent,I=E.commitPlacement,L=E.commitDeletion,D=E.commitWork,R=E.commitLifeCycles,N=E.commitAttachRef,B=E.commitDetachRef,F=t.now,U=t.scheduleDeferredCallback,V=t.cancelDeferredCallback,H=t.useSyncScheduling,W=t.prepareForCommit,q=t.resetAfterCommit,G=F(),Z=2,X=0,Y=!1,K=null,$=null,J=0,Q=null,tt=null,et=null,nt=null,rt=null,it=!1,ot=!1,at=!1,st=null,lt=null,ut=0,ct=-1,pt=!1,ft=null,ht=0,dt=!1,mt=!1,yt=null,vt=null,gt=!1,bt=!1,_t=1e3,wt=0,kt=1;return{computeAsyncExpiration:p,computeExpirationForFiber:f,scheduleWork:h,batchedUpdates:function(t,e){var n=gt;gt=!0;try{return t(e)}finally{(gt=n)||pt||_(1,null)}},unbatchedUpdates:function(t){if(gt&&!bt){bt=!0;try{return t()}finally{bt=!1}}return t()},flushSync:function(t){var e=gt;gt=!0;try{t:{var n=X;X=1;try{var i=t();break t}finally{X=n}i=void 0}return i}finally{gt=e,pt&&r("187"),_(1,null)}},deferredUpdates:function(t){var e=X;X=p();try{return t()}finally{X=e}}}}function Ie(t){function e(t){return t=Ct(t),null===t?null:t.stateNode}var n=t.getPublicInstance;t=je(t);var i=t.computeAsyncExpiration,o=t.computeExpirationForFiber,a=t.scheduleWork;return{createContainer:function(t,e){var n=new oe(3,null,0);return t={current:n,containerInfo:t,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:e,nextScheduledRoot:null},n.stateNode=t},updateContainer:function(t,e,n,s){var l=e.current;if(n){n=n._reactInternalFiber;var u;t:{for(2===wt(n)&&2===n.tag||r("170"),u=n;3!==u.tag;){if(Qt(u)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}(u=u.return)||r("171")}u=u.stateNode.context}n=Qt(n)?ne(n,u):u}else n=On;null===e.context?e.context=n:e.pendingContext=n,e=s,e=void 0===e?null:e,s=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?i():o(l),be(l,{expirationTime:s,partialState:{element:t},callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(l,s)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return n(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:e,findHostInstanceWithNoPortals:function(t){return t=Tt(t),null===t?null:t.stateNode},injectIntoDevTools:function(t){var n=t.findFiberByHostInstance;return de(xn({},t,{findHostInstanceByFiber:function(t){return e(t)},findFiberByHostInstance:function(t){return n?n(t):null}}))}}}function Le(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wi,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function De(t){return!!Xi.hasOwnProperty(t)||!Zi.hasOwnProperty(t)&&(Gi.test(t)?Xi[t]=!0:(Zi[t]=!0,!1))}function Re(t,e,n){var r=a(e);if(r&&o(e,n)){var i=r.mutationMethod;i?i(t,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?Be(t,e):r.mustUseProperty?t[r.propertyName]=n:(e=r.attributeName,(i=r.attributeNamespace)?t.setAttributeNS(i,e,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,""):t.setAttribute(e,""+n))}else Ne(t,e,o(e,n)?n:null)}function Ne(t,e,n){De(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))}function Be(t,e){var n=a(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&"":t.removeAttribute(n.attributeName):t.removeAttribute(e)}function Fe(t,e){var n=e.value,r=e.checked;return xn({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked})}function Ue(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ve(t,e){null!=(e=e.checked)&&Re(t,"checked",e)}function He(t,e){Ve(t,e);var n=e.value;null!=n?0===n&&""===t.value?t.value="0":"number"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=""+n)):t.value!==""+n&&(t.value=""+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==""+e.defaultValue&&(t.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))}function We(t,e){switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,""!==e&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function qe(t){var e="";return bn.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}function Ge(t,e){return t=xn({children:void 0},e),(e=qe(e.children))&&(t.children=e),t}function Ze(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Xe(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Ye(t,e){return null!=e.dangerouslySetInnerHTML&&r("91"),xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ke(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&r("92"),Array.isArray(e)&&(1>=e.length||r("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function $e(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Je(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function Qe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Qe(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function en(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function nn(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Ji.hasOwnProperty(i)&&Ji[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function rn(t,e,n){e&&(to[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||r("61")),null!=e.style&&"object"!==typeof e.style&&r("62",n()))}function on(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Lt(t);e=Kn[e];for(var r=0;r<e.length;r++){var i=e[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?At("topScroll","scroll",t):"topFocus"===i||"topBlur"===i?(At("topFocus","focus",t),At("topBlur","blur",t),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(nt("cancel",!0)&&At("topCancel","cancel",t),n.topCancel=!0):"topClose"===i?(nt("close",!0)&&At("topClose","close",t),n.topClose=!0):Yr.hasOwnProperty(i)&&Pt(i,Yr[i],t),n[i]=!0)}}function sn(t,e,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===eo&&(r=Qe(t)),r===eo?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(r,t),t}function ln(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function un(t,e,n,r){var i=on(e,n);switch(e){case"iframe":case"object":Pt("topLoad","load",t);var o=n;break;case"video":case"audio":for(o in ro)ro.hasOwnProperty(o)&&Pt(o,ro[o],t);o=n;break;case"source":Pt("topError","error",t),o=n;break;case"img":case"image":Pt("topError","error",t),Pt("topLoad","load",t),o=n;break;case"form":Pt("topReset","reset",t),Pt("topSubmit","submit",t),o=n;break;case"details":Pt("topToggle","toggle",t),o=n;break;case"input":Ue(t,n),o=Fe(t,n),Pt("topInvalid","invalid",t),an(r,"onChange");break;case"option":o=Ge(t,n);break;case"select":Xe(t,n),o=xn({},n,{value:void 0}),Pt("topInvalid","invalid",t),an(r,"onChange");break;case"textarea":Ke(t,n),o=Ye(t,n),Pt("topInvalid","invalid",t),an(r,"onChange");break;default:o=n}rn(e,o,no);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?nn(t,l,no):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&$i(t,l):"children"===a?"string"===typeof l?("textarea"!==e||""!==l)&&en(t,l):"number"===typeof l&&en(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yn.hasOwnProperty(a)?null!=l&&an(r,a):i?Ne(t,a,l):null!=l&&Re(t,a,l))}switch(e){case"input":ot(t),We(t,n);break;case"textarea":ot(t),Je(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,e=n.value,null!=e?Ze(t,!!n.multiple,e,!1):null!=n.defaultValue&&Ze(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=wn)}}function cn(t,e,n,r,i){var o=null;switch(e){case"input":n=Fe(t,n),r=Fe(t,r),o=[];break;case"option":n=Ge(t,n),r=Ge(t,r),o=[];break;case"select":n=xn({},n,{value:void 0}),r=xn({},r,{value:void 0}),o=[];break;case"textarea":n=Ye(t,n),r=Ye(t,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(t.onclick=wn)}rn(e,r,no);var a,s;t=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in e=n[a])e.hasOwnProperty(s)&&(t||(t={}),t[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Yn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var l=r[a];if(e=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&l!==e&&(null!=l||null!=e))if("style"===a)if(e){for(s in e)!e.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&e[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(a,t)),t=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,e=e?e.__html:void 0,null!=l&&e!==l&&(o=o||[]).push(a,""+l)):"children"===a?e===l||"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Yn.hasOwnProperty(a)?(null!=l&&an(i,a),o||e===l||(o=[])):(o=o||[]).push(a,l))}return t&&(o=o||[]).push("style",t),o}function pn(t,e,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Ve(t,i),on(n,r),r=on(n,i);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];"style"===a?nn(t,s,no):"dangerouslySetInnerHTML"===a?$i(t,s):"children"===a?en(t,s):r?null!=s?Ne(t,a,s):t.removeAttribute(a):null!=s?Re(t,a,s):Be(t,a)}switch(n){case"input":He(t,i);break;case"textarea":$e(t,i);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Ze(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?Ze(t,!!i.multiple,i.defaultValue,!0):Ze(t,!!i.multiple,i.multiple?[]:"",!1))}}function fn(t,e,n,r,i){switch(e){case"iframe":case"object":Pt("topLoad","load",t);break;case"video":case"audio":for(var o in ro)ro.hasOwnProperty(o)&&Pt(o,ro[o],t);break;case"source":Pt("topError","error",t);break;case"img":case"image":Pt("topError","error",t),Pt("topLoad","load",t);break;case"form":Pt("topReset","reset",t),Pt("topSubmit","submit",t);break;case"details":Pt("topToggle","toggle",t);break;case"input":Ue(t,n),Pt("topInvalid","invalid",t),an(i,"onChange");break;case"select":Xe(t,n),Pt("topInvalid","invalid",t),an(i,"onChange");break;case"textarea":Ke(t,n),Pt("topInvalid","invalid",t),an(i,"onChange")}rn(e,n,no),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?t.textContent!==o&&(r=["children",o]):"number"===typeof o&&t.textContent!==""+o&&(r=["children",""+o]):Yn.hasOwnProperty(a)&&null!=o&&an(i,a));switch(e){case"input":ot(t),We(t,n);break;case"textarea":ot(t),Je(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=wn)}return r}function hn(t,e){return t.nodeValue!==e}function dn(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function mn(t){return!(!(t=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))}function yn(t,e,n,i,o){dn(n)||r("200");var a=n._reactRootContainer;if(a)so.updateContainer(e,a,t,o);else{if(!(i=i||mn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=so.createContainer(n,i);a=n._reactRootContainer=s,so.unbatchedUpdates(function(){so.updateContainer(e,s,t,o)})}return so.getPublicRootInstance(a)}function vn(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return dn(e)||r("200"),Le(t,e,null,n)}function gn(t,e){this._reactRootContainer=so.createContainer(t,e)}var bn=n(0),_n=n(215),xn=n(32),wn=n(33),kn=n(216),En=n(217),Sn=n(218),Cn=n(219),Tn=n(222),On=n(59);bn||r("227");var Mn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Pn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=Pn,n=t.Properties||{},o=t.DOMAttributeNamespaces||{},a=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var s in n){An.hasOwnProperty(s)&&r("48",s);var l=s.toLowerCase(),u=n[s];l={attributeName:l,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(u,e.MUST_USE_PROPERTY),hasBooleanValue:i(u,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(u,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(u,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(u,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(u,e.HAS_STRING_BOOLEAN_VALUE)},1>=l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue||r("50",s),a.hasOwnProperty(s)&&(l.attributeName=a[s]),o.hasOwnProperty(s)&&(l.attributeNamespace=o[s]),t.hasOwnProperty(s)&&(l.mutationMethod=t[s]),An[s]=l}}},An={},zn=Pn,jn=zn.MUST_USE_PROPERTY,In=zn.HAS_BOOLEAN_VALUE,Ln=zn.HAS_NUMERIC_VALUE,Dn=zn.HAS_POSITIVE_NUMERIC_VALUE,Rn=zn.HAS_OVERLOADED_BOOLEAN_VALUE,Nn=zn.HAS_STRING_BOOLEAN_VALUE,Bn={Properties:{allowFullScreen:In,async:In,autoFocus:In,autoPlay:In,capture:Rn,checked:jn|In,cols:Dn,contentEditable:Nn,controls:In,default:In,defer:In,disabled:In,download:Rn,draggable:Nn,formNoValidate:In,hidden:In,loop:In,multiple:jn|In,muted:jn|In,noValidate:In,open:In,playsInline:In,readOnly:In,required:In,reversed:In,rows:Dn,rowSpan:Ln,scoped:In,seamless:In,selected:jn|In,size:Dn,start:Ln,span:Dn,spellCheck:Nn,style:0,tabIndex:0,itemScope:In,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Nn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute("value");"number"!==t.type||!1===t.hasAttribute("value")?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e)}}},Fn=zn.HAS_STRING_BOOLEAN_VALUE,Un={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Vn={Properties:{autoReverse:Fn,externalResourcesRequired:Fn,preserveAlpha:Fn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Un.xlink,xlinkArcrole:Un.xlink,xlinkHref:Un.xlink,xlinkRole:Un.xlink,xlinkShow:Un.xlink,xlinkTitle:Un.xlink,xlinkType:Un.xlink,xmlBase:Un.xml,xmlLang:Un.xml,xmlSpace:Un.xml}},Hn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(t){var e=t.replace(Hn,s);Vn.Properties[e]=0,Vn.DOMAttributeNames[e]=t}),zn.injectDOMPropertyConfig(Bn),zn.injectDOMPropertyConfig(Vn);var Wn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){"function"!==typeof t.invokeGuardedCallback&&r("197"),l=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,r,i,o,a,s,u){l.apply(Wn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,r,i,o,a,s,l){if(Wn.invokeGuardedCallback.apply(this,arguments),Wn.hasCaughtError()){var u=Wn.clearCaughtError();Wn._hasRethrowError||(Wn._hasRethrowError=!0,Wn._rethrowError=u)}},rethrowCaughtError:function(){return u.apply(Wn,arguments)},hasCaughtError:function(){return Wn._hasCaughtError},clearCaughtError:function(){if(Wn._hasCaughtError){var t=Wn._caughtError;return Wn._caughtError=null,Wn._hasCaughtError=!1,t}r("198")}},qn=null,Gn={},Zn=[],Xn={},Yn={},Kn={},$n=Object.freeze({plugins:Zn,eventNameDispatchConfigs:Xn,registrationNameModules:Yn,registrationNameDependencies:Kn,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:h}),Jn=null,Qn=null,tr=null,er=null,nr={injectEventPluginOrder:f,injectEventPluginsByName:h},rr=Object.freeze({injection:nr,getListener:_,extractEvents:x,enqueueEvents:w,processEventQueue:k}),ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(t,e){e[or]=t},getClosestInstanceFromNode:E,getInstanceFromNode:function(t){return t=t[or],!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:S,getFiberCurrentPropsFromNode:C,updateFiberProps:function(t,e){t[ar]=e}}),lr=Object.freeze({accumulateTwoPhaseDispatches:I,accumulateTwoPhaseDispatchesSkipTarget:function(t){y(t,A)},accumulateEnterLeaveDispatches:L,accumulateDirectDispatches:function(t){y(t,j)}}),ur=null,cr={_root:null,_startText:null,_fallbackText:null},pr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),fr={type:null,target:null,currentTarget:wn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};xn(B.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=wn.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=wn.thatReturnsTrue)},persist:function(){this.isPersistent=wn.thatReturnsTrue},isPersistent:wn.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<pr.length;e++)this[pr[e]]=null}}),B.Interface=fr,B.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var r=new n;xn(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=xn({},this.Interface,e),t.augmentClass=this.augmentClass,V(t)},V(B),B.augmentClass(H,{data:null}),B.augmentClass(W,{data:null});var hr=[9,13,27,32],dr=_n.canUseDOM&&"CompositionEvent"in window,mr=null;_n.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var yr;if(yr=_n.canUseDOM&&"TextEvent"in window&&!mr){var vr=window.opera;yr=!("object"===typeof vr&&"function"===typeof vr.version&&12>=parseInt(vr.version(),10))}var gr,br=yr,_r=_n.canUseDOM&&(!dr||mr&&8<mr&&11>=mr),xr=String.fromCharCode(32),wr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},kr=!1,Er=!1,Sr={eventTypes:wr,extractEvents:function(t,e,n,r){var i;if(dr)t:{switch(t){case"topCompositionStart":var o=wr.compositionStart;break t;case"topCompositionEnd":o=wr.compositionEnd;break t;case"topCompositionUpdate":o=wr.compositionUpdate;break t}o=void 0}else Er?q(t,n)&&(o=wr.compositionEnd):"topKeyDown"===t&&229===n.keyCode&&(o=wr.compositionStart);return o?(_r&&(Er||o!==wr.compositionStart?o===wr.compositionEnd&&Er&&(i=R()):(cr._root=r,cr._startText=N(),Er=!0)),o=H.getPooled(o,e,n,r),i?o.data=i:null!==(i=G(n))&&(o.data=i),I(o),i=o):i=null,(t=br?Z(t,n):X(t,n))?(e=W.getPooled(wr.beforeInput,e,n,r),e.data=t,I(e)):e=null,[i,e]}},Cr=null,Tr=null,Or=null,Mr={injectFiberControlledHostComponent:function(t){Cr=t}},Pr=Object.freeze({injection:Mr,enqueueStateRestore:K,restoreStateIfNeeded:$}),Ar=!1,zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(gr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var jr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ir=null,Lr=null,Dr=!1;_n.canUseDOM&&(Dr=nt("input")&&(!document.documentMode||9<document.documentMode));var Rr={eventTypes:jr,_isInputEventSupported:Dr,extractEvents:function(t,e,n,r){var i=e?S(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=ct;else if(tt(i))if(Dr)a=yt;else{a=dt;var s=ht}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=mt);if(a&&(a=a(t,e)))return st(a,n,r);s&&s(t,i,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||i._wrapperState)&&t.controlled&&"number"===i.type&&(t=""+i.value,i.getAttribute("value")!==t&&i.setAttribute("value",t))}};B.augmentClass(vt,{view:null,detail:null});var Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};vt.augmentClass(_t,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:bt,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Fr={eventTypes:Br,extractEvents:function(t,e,n,r){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?E(e):null):t=null,t===e)return null;var o=null==t?i:S(t);i=null==e?i:S(e);var a=_t.getPooled(Br.mouseLeave,t,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=_t.getPooled(Br.mouseEnter,e,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,L(a,n,t,e),[a,n]}},Ur=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vr=[],Hr=!0,Wr=void 0,qr=Object.freeze({get _enabled(){return Hr},get _handleTopLevel(){return Wr},setHandleTopLevel:function(t){Wr=t},setEnabled:Mt,isEnabled:function(){return Hr},trapBubbledEvent:Pt,trapCapturedEvent:At,dispatchEvent:zt}),Gr={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},Zr={},Xr={};_n.canUseDOM&&(Xr=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);var Yr={topAbort:"abort",topAnimationEnd:It("animationend")||"animationend",topAnimationIteration:It("animationiteration")||"animationiteration",topAnimationStart:It("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:It("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Kr={},$r=0,Jr="_reactListenersID"+(""+Math.random()).slice(2),Qr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ti={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ei=null,ni=null,ri=null,ii=!1,oi={eventTypes:ti,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Lt(o),i=Kn.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?S(e):window,t){case"topFocus":(tt(o)||"true"===o.contentEditable)&&(ei=o,ni=e,ri=null);break;case"topBlur":ri=ni=ei=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,Bt(n,r);case"topSelectionChange":if(Qr)break;case"topKeyDown":case"topKeyUp":return Bt(n,r)}return null}};B.augmentClass(Ft,{animationName:null,elapsedTime:null,pseudoElement:null}),B.augmentClass(Ut,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vt.augmentClass(Vt,{relatedTarget:null});var ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};vt.augmentClass(Wt,{key:function(t){if(t.key){var e=ai[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Ht(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?si[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:bt,charCode:function(t){return"keypress"===t.type?Ht(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ht(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),_t.augmentClass(qt,{dataTransfer:null}),vt.augmentClass(Gt,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:bt}),B.augmentClass(Zt,{propertyName:null,elapsedTime:null,pseudoElement:null}),_t.augmentClass(Xt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var li={},ui={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e;e="top"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[e]},li[t]=n,ui[e]=n});var ci={eventTypes:li,extractEvents:function(t,e,n,r){var i=ui[t];if(!i)return null;switch(t){case"topKeyPress":if(0===Ht(n))return null;case"topKeyDown":case"topKeyUp":t=Wt;break;case"topBlur":case"topFocus":t=Vt;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=_t;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=qt;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=Gt;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Ft;break;case"topTransitionEnd":t=Zt;break;case"topScroll":t=vt;break;case"topWheel":t=Xt;break;case"topCopy":case"topCut":case"topPaste":t=Ut;break;default:t=B}return e=t.getPooled(i,e,n,r),I(e),e}};Wr=function(t,e,n,r){t=x(t,e,n,r),w(t),k(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Jn=sr.getFiberCurrentPropsFromNode,Qn=sr.getInstanceFromNode,tr=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Rr,SelectEventPlugin:oi,BeforeInputEventPlugin:Sr});var pi=[],fi=-1;new Set;var hi={current:On},di={current:!1},mi=On,yi=null,vi=null,gi="function"===typeof Symbol&&Symbol.for,bi=gi?Symbol.for("react.element"):60103,_i=gi?Symbol.for("react.call"):60104,xi=gi?Symbol.for("react.return"):60105,wi=gi?Symbol.for("react.portal"):60106,ki=gi?Symbol.for("react.fragment"):60107,Ei="function"===typeof Symbol&&Symbol.iterator,Si=Array.isArray,Ci=Te(!0),Ti=Te(!1),Oi={},Mi=Object.freeze({default:Ie}),Pi=Mi&&Ie||Mi,Ai=Pi.default?Pi.default:Pi,zi="object"===typeof performance&&"function"===typeof performance.now,ji=void 0;ji=zi?function(){return performance.now()}:function(){return Date.now()};var Ii=void 0,Li=void 0;if(_n.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Di,Ri=null,Ni=!1,Bi=-1,Fi=!1,Ui=0,Vi=33,Hi=33;Di=zi?{didTimeout:!1,timeRemaining:function(){var t=Ui-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=Ui-Date.now();return 0<t?t:0}};var Wi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Wi){if(Ni=!1,t=ji(),0>=Ui-t){if(!(-1!==Bi&&Bi<=t))return void(Fi||(Fi=!0,requestAnimationFrame(qi)));Di.didTimeout=!0}else Di.didTimeout=!1;Bi=-1,t=Ri,Ri=null,null!==t&&t(Di)}},!1);var qi=function(t){Fi=!1;var e=t-Ui+Hi;e<Hi&&Vi<Hi?(8>e&&(e=8),Hi=e<Vi?Vi:e):Vi=e,Ui=t+Hi,Ni||(Ni=!0,window.postMessage(Wi,"*"))};Ii=function(t,e){return Ri=t,null!=e&&"number"===typeof e.timeout&&(Bi=ji()+e.timeout),Fi||(Fi=!0,requestAnimationFrame(qi)),0},Li=function(){Ri=null,Ni=!1,Bi=-1}}else Ii=window.requestIdleCallback,Li=window.cancelIdleCallback;else Ii=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})})},Li=function(t){clearTimeout(t)};var Gi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zi={},Xi={},Yi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Ki=void 0,$i=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Yi.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+e+"</svg>",e=Ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Ji={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(t){Qi.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ji[e]=Ji[t]})});var to=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),eo=Yi.html,no=wn.thatReturns(""),ro={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},io=Object.freeze({createElement:sn,createTextNode:ln,setInitialProperties:un,diffProperties:cn,updateProperties:pn,diffHydratedProperties:fn,diffHydratedText:hn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(He(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=C(i);o||r("90"),at(i),He(i,o)}}}break;case"textarea":$e(t,n);break;case"select":null!=(e=n.value)&&Ze(t,!!n.multiple,e,!1)}}});Mr.injectFiberControlledHostComponent(io);var oo=null,ao=null,so=Ai({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tn(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tn(t,e)}return t},getChildHostContext:function(t,e){return tn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){oo=Hr;var t=En();if(Nt(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch(t){e=null;break t}var o=0,a=-1,s=-1,l=0,u=0,c=t,p=null;e:for(;;){for(var f;c!==e||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(f=c.firstChild);)p=c,c=f;for(;;){if(c===t)break e;if(p===e&&++l===r&&(a=o),p===i&&++u===n&&(s=o),null!==(f=c.nextSibling))break;c=p,p=c.parentNode}c=f}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;ao={focusedElem:t,selectionRange:e},Mt(!1)},resetAfterCommit:function(){var t=ao,e=En(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&Cn(document.documentElement,n)){if(Nt(n))if(e=r.start,t=r.end,void 0===t&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(window.getSelection){e=window.getSelection();var i=n[D()].length;t=Math.min(r.start,i),r=void 0===r.end?t:Math.min(r.end,i),!e.extend&&t>r&&(i=r,r=t,t=i),i=Rt(n,t);var o=Rt(n,r);if(i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),e.removeAllRanges(),t>r?(e.addRange(a),e.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),e.addRange(a))}}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Tn(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}ao=null,Mt(oo),oo=null},createInstance:function(t,e,n,r,i){return t=sn(t,e,n,r),t[or]=i,t[ar]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,r){un(t,e,n,r);t:{switch(e){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,r,i){return cn(t,e,n,r,i)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,r){return t=ln(t,e),t[or]=r,t},now:ji,mutation:{commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,r,i){t[ar]=i,pn(t,e,n,r,i)},resetTextContent:function(t){t.textContent=""},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,r,i,o){return t[or]=o,t[ar]=n,fn(t,e,n,i,r)},hydrateTextInstance:function(t,e,n){return t[or]=n,hn(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ii,cancelDeferredCallback:Li,useSyncScheduling:!0});J=so.batchedUpdates,gn.prototype.render=function(t,e){so.updateContainer(t,this._reactRootContainer,null,e)},gn.prototype.unmount=function(t){so.updateContainer(null,this._reactRootContainer,null,t)};var lo={createPortal:vn,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(e)return so.findHostInstance(e);"function"===typeof t.render?r("188"):r("213",Object.keys(t))},hydrate:function(t,e,n){return yn(null,t,e,!0,n)},render:function(t,e,n){return yn(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return(null==t||void 0===t._reactInternalFiber)&&r("38"),yn(t,e,n,!1,i)},unmountComponentAtNode:function(t){return dn(t)||r("40"),!!t._reactRootContainer&&(so.unbatchedUpdates(function(){yn(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:vn,unstable_batchedUpdates:Q,unstable_deferredUpdates:so.deferredUpdates,flushSync:so.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:$n,EventPropagators:lr,ReactControlledComponent:Pr,ReactDOMComponentTree:sr,ReactDOMEventListener:qr}};so.injectIntoDevTools({findFiberByHostInstance:E,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var uo=Object.freeze({default:lo}),co=uo&&lo||uo;t.exports=co.default?co.default:co},function(t,e,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},function(t,e,n){"use strict";var r=n(33),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},function(t,e,n){"use strict";function r(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=r},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=i},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=n(220);t.exports=r},function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=n(221);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"===typeof n.Node?t instanceof n.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}t.exports=r},function(t,e,n){"use strict";function r(t){try{t.focus()}catch(t){}}t.exports=r},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(23),u=n(250),c=(n.n(u),n(18)),p=n(262),f=n(479),h=n(580),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),d(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(l.a,{store:h.a},s.a.createElement("div",null,s.a.createElement(c.j,{color:"faded"},s.a.createElement(c.k,null,"Mapbox GeoJSON")),s.a.createElement(c.c,{fluid:!0},s.a.createElement(c.l,{noGutters:!0},s.a.createElement(c.b,{sm:"8"},s.a.createElement(f.a,null)),s.a.createElement(c.b,{sm:"4"},s.a.createElement("div",{className:"panel-right",style:{paddingLeft:"15px",height:"calc(100vh - 56px)",overflowY:"auto"}},s.a.createElement(p.a,null))))))))}}]),e}(a.Component);e.a=m},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(104);n(60);e.a=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],s=n||e+"Subscription",c=function(t){function n(o,a){r(this,n);var s=i(this,t.call(this,o,a));return s[e]=o.store,s}return o(n,t),n.prototype.getChildContext=function(){var t;return t={},t[e]=this[e],t[s]=null,t},n.prototype.render=function(){return a.Children.only(this.props.children)},n}(a.Component);return c.propTypes={store:u.a.isRequired,children:l.a.element.isRequired},c.childContextTypes=(t={},t[e]=u.a.isRequired,t[s]=u.b,t),c}()},function(t,e,n){"use strict";var r=n(33),i=n(103),o=n(227);t.exports=function(){function t(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=[],e=[];return{clear:function(){e=o,t=o},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==o&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}n.d(e,"a",function(){return s});var o=null,a={notify:function(){}},s=function(){function t(e,n,i){r(this,t),this.store=e,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=i())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},t}()},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(t,e){return t===e}var a=n(105),s=n(230),l=n(231),u=n(246),c=n(247),p=n(248),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?a.a:e,h=t.mapStateToPropsFactories,d=void 0===h?u.a:h,m=t.mapDispatchToPropsFactories,y=void 0===m?l.a:m,v=t.mergePropsFactories,g=void 0===v?c.a:v,b=t.selectorFactory,_=void 0===b?p.a:b;return function(t,e,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l.pure,c=void 0===u||u,p=l.areStatesEqual,h=void 0===p?o:p,m=l.areOwnPropsEqual,v=void 0===m?s.a:m,b=l.areStatePropsEqual,x=void 0===b?s.a:b,w=l.areMergedPropsEqual,k=void 0===w?s.a:w,E=r(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=i(t,d,"mapStateToProps"),C=i(e,y,"mapDispatchToProps"),T=i(a,g,"mergeProps");return n(_,f({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:C,initMergeProps:T,pure:c,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:k},E))}}()},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}e.a=i;var o=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(s.b)(t,"mapDispatchToProps"):void 0}function i(t){return t?void 0:Object(s.a)(function(t){return{dispatch:t}})}function o(t){return t&&"object"===typeof t?Object(s.a)(function(e){return Object(a.b)(t,e)}):void 0}var a=n(61),s=n(111);e.a=[r,i,o]},function(t,e,n){"use strict";function r(t){return null==t?void 0===t?l:s:u&&u in Object(t)?Object(o.a)(t):Object(a.a)(t)}var i=n(108),o=n(235),a=n(236),s="[object Null]",l="[object Undefined]",u=i.a?i.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";var r=n(234),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(7))},function(t,e,n){"use strict";function r(t){var e=a.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[l]=n:delete t[l]),i}var i=n(108),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i.a?i.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";function r(t){return o.call(t)}var i=Object.prototype,o=i.toString;e.a=r},function(t,e,n){"use strict";var r=n(238),i=Object(r.a)(Object.getPrototypeOf,Object);e.a=i},function(t,e,n){"use strict";function r(t,e){return function(n){return t(e(n))}}e.a=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.a=r},function(t,e,n){"use strict";(function(t,r){var i,o=n(242);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(e,n(7),n(241)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},function(t,e,n){"use strict";function r(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(t){for(var e=Object.keys(t),n={},o=0;o<e.length;o++){var a=e[o];"function"===typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),l=void 0;try{i(n)}catch(t){l=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(l)throw l;for(var i=!1,o={},a=0;a<s.length;a++){var u=s[a],c=n[u],p=t[u],f=c(p,e);if("undefined"===typeof f){var h=r(u,e);throw new Error(h)}o[u]=f,i=i||f!==p}return i?o:t}}e.a=o;var a=n(107);n(62),n(109)},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"===typeof t)return r(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"===typeof s&&(i[a]=r(s,e))}return i}e.a=i},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,a){var s=t(n,r,a),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(t){return l(t)}};return u=e.map(function(t){return t(c)}),l=i.a.apply(void 0,u)(s.dispatch),o({},s,{dispatch:l})}}}e.a=r;var i=n(110),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(o.b)(t,"mapStateToProps"):void 0}function i(t){return t?void 0:Object(o.a)(function(){return{}})}var o=n(111);e.a=[r,i]},function(t,e,n){"use strict";function r(t,e,n){return s({},n,t,e)}function i(t){return function(e,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(e,n,s){var l=t(e,n,s);return o?r&&i(l,a)||(a=l):(o=!0,a=l),a}}}function o(t){return"function"===typeof t?i(t):void 0}function a(t){return t?void 0:function(){return r}}var s=(n(112),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t});e.a=[o,a]},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function o(t,e,n,r,i){function o(i,o){return d=i,m=o,y=t(d,m),v=e(r,m),g=n(y,v,m),h=!0,g}function a(){return y=t(d,m),e.dependsOnOwnProps&&(v=e(r,m)),g=n(y,v,m)}function s(){return t.dependsOnOwnProps&&(y=t(d,m)),e.dependsOnOwnProps&&(v=e(r,m)),g=n(y,v,m)}function l(){var e=t(d,m),r=!f(e,y);return y=e,r&&(g=n(y,v,m)),g}function u(t,e){var n=!p(e,m),r=!c(t,d);return d=t,m=e,n&&r?a():n?s():r?l():g}var c=i.areStatesEqual,p=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1,d=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(t,e){return h?u(t,e):o(t,e)}}function a(t,e){var n=e.initMapStateToProps,a=e.initMapDispatchToProps,s=e.initMergeProps,l=r(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(t,l),c=a(t,l),p=s(t,l);return(l.pure?o:i)(u,c,p,t,l)}e.a=a;n(249)},function(t,e,n){"use strict";n(60)},function(t,e){},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){(function(e){function n(t){return null==t?void 0===t?f:c:_&&_ in Object(t)?r(t):i(t)}function r(t){var e=v.call(t,_),n=t[_];try{t[_]=void 0;var r=!0}catch(t){}var i=g.call(t);return r&&(e?t[_]=n:delete t[_]),i}function i(t){return g.call(t)}function o(t){if(!a(t))return!1;var e=n(t);return e==l||e==u||e==s||e==p}function a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var s="[object AsyncFunction]",l="[object Function]",u="[object GeneratorFunction]",c="[object Null]",p="[object Proxy]",f="[object Undefined]",h="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,m=h||d||Function("return this")(),y=Object.prototype,v=y.hasOwnProperty,g=y.toString,b=m.Symbol,_=b?b.toStringTag:void 0;t.exports=o}).call(e,n(7))},function(t,e,n){var r,r;!function(e){t.exports=e()}(function(){return function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return o(n||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i.default.Utils,a=o.getBounds,s=o.updateClasses,l=o.defer;i.default.modules.push({position:function(t){var e=this,n=t.top,r=t.left,i=this.cache("element-bounds",function(){return a(e.element)}),o=i.height,u=i.width,c=this.getTargetBounds(),p=n+o,f=r+u,h=[];n<=c.bottom&&p>=c.top&&["left","right"].forEach(function(t){var e=c[t];e!==r&&e!==f||h.push(t)}),r<=c.right&&f>=c.left&&["top","bottom"].forEach(function(t){var e=c[t];e!==n&&e!==p||h.push(t)});var d=[],m=[],y=["left","top","right","bottom"];return d.push(this.getClass("abutted")),y.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),h.length&&m.push(this.getClass("abutted")),h.forEach(function(t){m.push(e.getClass("abutted")+"-"+t)}),l(function(){!1!==e.options.addTargetClasses&&s(e.target,m,d),s(e.element,m,d)}),!0}})},{"./utils":5}],2:[function(t,e,n){"use strict";function r(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!==typeof e.nodeType&&function(){var t=e,n=l(e),r=n,i=getComputedStyle(e);if(e=[r.left,r.top,n.width+r.left,n.height+r.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}f.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(i["border"+t+"Width"]):e[n]-=parseFloat(i["border"+t+"Width"])})}(),e}var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t("./utils"),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=a.default.Utils,l=s.getBounds,u=s.extend,c=s.updateClasses,p=s.defer,f=["left","top","right","bottom"];a.default.modules.push({position:function(t){var e=this,n=t.top,o=t.left,a=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return l(e.element)}),f=s.height,h=s.width;if(0===h&&0===f&&"undefined"!==typeof this.lastSize){var d=this.lastSize;h=d.width,f=d.height}var m=this.cache("target-bounds",function(){return e.getTargetBounds()}),y=m.height,v=m.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&g.push(e),n&&g.push(n)}),g.forEach(function(t){["left","top","right","bottom"].forEach(function(e){g.push(t+"-"+e)})});var b=[],_=u({},a),x=u({},this.attachment);return this.options.constraints.forEach(function(t){var s=t.to,l=t.attachment,u=t.pin;"undefined"===typeof l&&(l="");var c=void 0,p=void 0;if(l.indexOf(" ")>=0){var d=l.split(" "),m=i(d,2);p=m[0],c=m[1]}else c=p=l;var g=r(e,s);"target"!==p&&"both"!==p||(n<g[1]&&"top"===_.top&&(n+=y,_.top="bottom"),n+f>g[3]&&"bottom"===_.top&&(n-=y,_.top="top")),"together"===p&&("top"===_.top&&("bottom"===x.top&&n<g[1]?(n+=y,_.top="bottom",n+=f,x.top="top"):"top"===x.top&&n+f>g[3]&&n-(f-y)>=g[1]&&(n-=f-y,_.top="bottom",x.top="bottom")),"bottom"===_.top&&("top"===x.top&&n+f>g[3]?(n-=y,_.top="top",n-=f,x.top="bottom"):"bottom"===x.top&&n<g[1]&&n+(2*f-y)<=g[3]&&(n+=f-y,_.top="top",x.top="top")),"middle"===_.top&&(n+f>g[3]&&"top"===x.top?(n-=f,x.top="bottom"):n<g[1]&&"bottom"===x.top&&(n+=f,x.top="top"))),"target"!==c&&"both"!==c||(o<g[0]&&"left"===_.left&&(o+=v,_.left="right"),o+h>g[2]&&"right"===_.left&&(o-=v,_.left="left")),"together"===c&&(o<g[0]&&"left"===_.left?"right"===x.left?(o+=v,_.left="right",o+=h,x.left="left"):"left"===x.left&&(o+=v,_.left="right",o-=h,x.left="right"):o+h>g[2]&&"right"===_.left?"left"===x.left?(o-=v,_.left="left",o-=h,x.left="right"):"right"===x.left&&(o-=v,_.left="left",o+=h,x.left="left"):"center"===_.left&&(o+h>g[2]&&"left"===x.left?(o-=h,x.left="right"):o<g[0]&&"right"===x.left&&(o+=h,x.left="left"))),"element"!==p&&"both"!==p||(n<g[1]&&"bottom"===x.top&&(n+=f,x.top="top"),n+f>g[3]&&"top"===x.top&&(n-=f,x.top="bottom")),"element"!==c&&"both"!==c||(o<g[0]&&("right"===x.left?(o+=h,x.left="left"):"center"===x.left&&(o+=h/2,x.left="left")),o+h>g[2]&&("left"===x.left?(o-=h,x.left="right"):"center"===x.left&&(o-=h/2,x.left="right"))),"string"===typeof u?u=u.split(",").map(function(t){return t.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var w=[],k=[];n<g[1]&&(u.indexOf("top")>=0?(n=g[1],w.push("top")):k.push("top")),n+f>g[3]&&(u.indexOf("bottom")>=0?(n=g[3]-f,w.push("bottom")):k.push("bottom")),o<g[0]&&(u.indexOf("left")>=0?(o=g[0],w.push("left")):k.push("left")),o+h>g[2]&&(u.indexOf("right")>=0?(o=g[2]-h,w.push("right")):k.push("right")),w.length&&function(){var t=void 0;t="undefined"!==typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),b.push(t),w.forEach(function(e){b.push(t+"-"+e)})}(),k.length&&function(){var t=void 0;t="undefined"!==typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),b.push(t),k.forEach(function(e){b.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(x.left=_.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(x.top=_.top=!1),_.top===a.top&&_.left===a.left&&x.top===e.attachment.top&&x.left===e.attachment.left||(e.updateAttachClasses(x,_),e.trigger("update",{attachment:x,targetAttachment:_}))}),p(function(){!1!==e.options.addTargetClasses&&c(e.target,b,g),c(e.element,b,g)}),{top:n,left:o}}})},{"./utils":5}],3:[function(t,e,n){"use strict";var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=t("./utils");(function(t){return t&&t.__esModule?t:{default:t}})(i).default.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"===typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var o=void 0,a=void 0;if("string"===typeof i){i=i.split(" "),i[1]=i[1]||i[0];var s=i,l=r(s,2);o=l[0],a=l[1],o=parseFloat(o,10),a=parseFloat(a,10)}else o=i.top,a=i.left;return e+=o,n+=a,{top:e,left:n}}}})},{"./utils":5}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function a(){return"undefined"!==typeof performance&&"undefined"!==typeof performance.now?performance.now():+new Date}function s(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){var n=e.top,r=e.left;"string"===typeof n&&(n=parseFloat(n,10)),"string"===typeof r&&(r=parseFloat(r,10)),t.top+=n,t.left+=r}),t}function l(t,e){return"string"===typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"===typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;t=u,e=o,n=a,r=!0,s=u=void 0}},f=t("./utils"),h=function(t){return t&&t.__esModule?t:{default:t}}(f);t("./constraint"),t("./abutment"),t("./shift");var d=h.default.Utils,m=d.getScrollParents,y=d.getBounds,v=d.getOffsetParent,g=d.extend,b=d.addClass,_=d.removeClass,x=d.updateClasses,w=d.defer,k=d.flush,E=d.getScrollBarSize,S=d.removeUtilElements,C=d.Evented,T=function(){if("undefined"===typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var r=e[n];if(void 0!==t.style[r])return r}}(),O=[],M=function(){O.forEach(function(t){t.position(!1)}),k()};!function(){var t=null,e=null,n=null,r=function r(){if("undefined"!==typeof e&&e>16)return e=Math.min(e-16,250),void(n=setTimeout(r,250));"undefined"!==typeof t&&a()-t<10||(null!=n&&(clearTimeout(n),n=null),t=a(),M(),e=a()-t)};"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,r)})}();var P={center:"center",left:"right",right:"left"},A={middle:"middle",top:"bottom",bottom:"top"},z={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},j=function(t,e){var n=t.left,r=t.top;return"auto"===n&&(n=P[e.left]),"auto"===r&&(r=A[e.top]),{left:n,top:r}},I=function(t){var e=t.left,n=t.top;return"undefined"!==typeof z[t.left]&&(e=z[t.left]),"undefined"!==typeof z[t.top]&&(n=z[t.top]),{left:e,top:n}},L=function(t){var e=t.split(" "),n=u(e,2);return{top:n[0],left:n[1]}},D=L,R=function(t){function e(t){var n=this;r(this,e),p(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),O.push(this),this.history=[],this.setOptions(t,!1),h.default.modules.forEach(function(t){"undefined"!==typeof t.initialize&&t.initialize.call(n)}),this.position()}return i(e,t),c(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!==typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=g(r,t);var i=this.options,o=i.element,a=i.target,s=i.targetModifier;if(this.element=o,this.target=a,this.targetModifier=s,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"===typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!==typeof e[t].jquery?e[t]=e[t][0]:"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))}),b(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&b(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=D(this.options.targetAttachment),this.attachment=D(this.options.attachment),this.offset=L(this.options.offset),this.targetOffset=L(this.options.targetOffset),"undefined"!==typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=m(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"===typeof this.targetModifier)return y(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=y(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=y(n);var r=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;i&&(o=15);var a=t.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-o,e={width:15,height:.975*a*(a/n.scrollHeight),left:t.left+t.width-parseFloat(r.borderLeftWidth)-15},s=0;a<408&&this.target===document.body&&(s=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var l=this.target.scrollTop/(n.scrollHeight-a);return e.top=l*(a-e.height-s)+t.top+parseFloat(r.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"===typeof this._cache&&(this._cache={}),"undefined"===typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&b(this.target,this.getClass("enabled")),b(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;_(this.target,this.getClass("enabled")),_(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!==typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),O.forEach(function(e,n){e===t&&O.splice(n,1)}),0===O.length&&S()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!==typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"===typeof this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var o=[];r.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),w(function(){"undefined"!==typeof n._addAttachClasses&&(x(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&x(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=j(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var r=this.cache("element-bounds",function(){return y(t.element)}),i=r.width,o=r.height;if(0===i&&0===o&&"undefined"!==typeof this.lastSize){var a=this.lastSize;i=a.width,o=a.height}else this.lastSize={width:i,height:o};var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),c=u,p=l(I(this.attachment),{width:i,height:o}),f=l(I(n),c),d=l(this.offset,{width:i,height:o}),m=l(this.targetOffset,c);p=s(p,d),f=s(f,m);for(var g=u.left+f.left-p.left,b=u.top+f.top-p.top,_=0;_<h.default.modules.length;++_){var x=h.default.modules[_],w=x.position.call(this,{left:g,top:b,targetAttachment:n,targetPos:u,elementPos:r,offset:p,targetOffset:f,manualOffset:d,manualTargetOffset:m,scrollbarSize:O,attachment:this.attachment});if(!1===w)return!1;"undefined"!==typeof w&&"object"===typeof w&&(b=w.top,g=w.left)}var S={page:{top:b,left:g},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-o+innerHeight,left:g-pageXOffset,right:pageXOffset-g-i+innerWidth}},C=this.target.ownerDocument,T=C.defaultView,O=void 0;return C.body.scrollWidth>T.innerWidth&&(O=this.cache("scrollbar-size",E),S.viewport.bottom-=O.height),C.body.scrollHeight>T.innerHeight&&(O=this.cache("scrollbar-size",E),S.viewport.right-=O.width),-1!==["","static"].indexOf(C.body.style.position)&&-1!==["","static"].indexOf(C.body.parentElement.style.position)||(S.page.bottom=C.body.scrollHeight-b-o,S.page.right=C.body.scrollWidth-g-i),"undefined"!==typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&"undefined"===typeof this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return v(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return y(e)}),r=getComputedStyle(e),i=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(r["border"+t+"Width"])}),n.right=C.body.scrollWidth-n.left-i.width+o.right,n.bottom=C.body.scrollHeight-n.top-i.height+o.bottom,S.page.top>=n.top+o.top&&S.page.bottom>=n.bottom&&S.page.left>=n.left+o.left&&S.page.right>=n.right){var a=e.scrollTop,s=e.scrollLeft;S.offset={top:S.page.top-n.top+a-o.top,left:S.page.left-n.left+s-o.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),e&&k(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!==typeof this.element.parentNode){var n={};for(var r in t){n[r]={};for(var i in t[r]){for(var a=!1,s=0;s<this.history.length;++s){var l=this.history[s];if("undefined"!==typeof l[r]&&!o(l[r][i],t[r][i])){a=!0;break}}a||(n[r][i]=!0)}}var u={top:"",left:"",right:"",bottom:""},c=function(t,n){if(!1!==("undefined"!==typeof e.options.optimizations?e.options.optimizations.gpu:null)){var r=void 0,i=void 0;t.top?(u.top=0,r=n.top):(u.bottom=0,r=-n.bottom),t.left?(u.left=0,i=n.left):(u.right=0,i=-n.right),u[T]="translateX("+Math.round(i)+"px) translateY("+Math.round(r)+"px)","msTransform"!==T&&(u[T]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",c(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",c(n.viewport,t.viewport)):"undefined"!==typeof n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var r=e.cache("target-offsetparent",function(){return v(e.target)});v(e.element)!==r&&w(function(){e.element.parentNode.removeChild(e.element),r.appendChild(e.element)}),c(n.offset,t.offset),p=!0}():(u.position="absolute",c({top:!0,left:!0},t.page)),!p){for(var f=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){f=!1;break}h=h.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var d={},m=!1;for(var i in u){var y=u[i];this.element.style[i]!==y&&(m=!0,d[i]=y)}m&&w(function(){g(e.element.style,d),e.trigger("repositioned")})}}}]),e}(C);R.modules=[],h.default.position=M;var N=g(R,h.default);n.default=N,e.exports=n.default},{"./abutment":1,"./constraint":2,"./shift":3,"./utils":5}],5:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getBoundingClientRect(),n={};for(var r in e)n[r]=e[r];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var a=i(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(t){var e=getComputedStyle(t)||{},n=e.position,r=[];if("fixed"===n)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var o=void 0;try{o=getComputedStyle(i)}catch(t){}if("undefined"===typeof o||null===o)return r.push(i),r;var a=o,s=a.overflow,l=a.overflowX;/(auto|scroll)/.test(s+a.overflowY+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&r.push(i)}return r.push(t.ownerDocument.body),t.ownerDocument!==document&&r.push(t.ownerDocument.defaultView),r}function a(){b&&document.body.removeChild(b),b=null}function s(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,r=i(t),o=w();return r.top-=o.top,r.left-=o.left,"undefined"===typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"===typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=e.body.clientWidth-r.width-r.left,r.bottom=e.body.clientHeight-r.height-r.top,r}function l(t){return t.offsetParent||document.documentElement}function u(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;n===r&&(r=e.clientWidth),document.body.removeChild(e);var i=n-r;return{width:i,height:i}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function p(t,e){if("undefined"!==typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),r=d(t).replace(n," ");m(t,r)}}function f(t,e){if("undefined"!==typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{p(t,e);var n=d(t)+" "+e;m(t,n)}}function h(t,e){if("undefined"!==typeof t.classList)return t.classList.contains(e);var n=d(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function d(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function m(t,e){t.setAttribute("class",e)}function y(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&h(t,n)&&p(t,n)}),e.forEach(function(e){h(t,e)||f(t,e)})}Object.defineProperty(n,"__esModule",{value:!0});var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g={modules:[]},b=null,_=function(){var t=0;return function(){return++t}}(),x={},w=function(){var t=b;t||(t=document.createElement("div"),t.setAttribute("data-tether-id",_()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),b=t);var e=t.getAttribute("data-tether-id");return"undefined"===typeof x[e]&&(x[e]=i(t),E(function(){delete x[e]})),x[e]},k=[],E=function(t){k.push(t)},S=function(){for(var t=void 0;t=k.pop();)t()},C=function(){function t(){r(this,t)}return v(t,[{key:"on",value:function(t,e,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"===typeof this.bindings&&(this.bindings={}),"undefined"===typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:r})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!==typeof this.bindings&&"undefined"!==typeof this.bindings[t])if("undefined"===typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!==typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,l=o.once,u=s;"undefined"===typeof u&&(u=this),a.apply(u,r),l?this.bindings[t].splice(e,1):++e}}}}]),t}();g.Utils={getActualBoundingClientRect:i,getScrollParents:o,getBounds:s,getOffsetParent:l,extend:c,addClass:f,removeClass:p,hasClass:h,updateClasses:y,defer:E,flush:S,uniqueId:_,Evented:C,getScrollBarSize:u,removeUtilElements:a},n.default=g,e.exports=n.default},{}]},{},[4])(4)})},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&d.call(t)==s}function o(t){if("number"==typeof t)return t;if(i(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=c.test(t);return r||p.test(t)?f(t.slice(2),r?2:8):u.test(t)?a:+t}var a=NaN,s="[object Symbol]",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,h=Object.prototype,d=h.toString;t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(256),o=r(i),a=n(260),s=r(a),l=n(114),u=r(l);t.exports={Transition:u.default,TransitionGroup:s.default,CSSTransition:o.default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(2),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(257),p=r(c),f=n(259),h=r(f),d=n(0),m=r(d),y=n(114),v=r(y),g=n(115),b=function(t,e){return e&&e.split(" ").forEach(function(e){return(0,p.default)(t,e)})},_=function(t,e){return e&&e.split(" ").forEach(function(e){return(0,h.default)(t,e)})},x=(s({},v.default.propTypes,{classNames:g.classNamesShape,onEnter:u.func,onEntering:u.func,onEntered:u.func,onExit:u.func,onExiting:u.func,onExited:u.func}),function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),r.onEnter=function(t,e){var n=r.getClassNames(e?"appear":"enter"),i=n.className;r.removeClasses(t,"exit"),b(t,i),r.props.onEnter&&r.props.onEnter(t)},r.onEntering=function(t,e){var n=r.getClassNames(e?"appear":"enter"),i=n.activeClassName;r.reflowAndAddClass(t,i),r.props.onEntering&&r.props.onEntering(t)},r.onEntered=function(t,e){r.removeClasses(t,e?"appear":"enter"),r.props.onEntered&&r.props.onEntered(t)},r.onExit=function(t){var e=r.getClassNames("exit"),n=e.className;r.removeClasses(t,"appear"),r.removeClasses(t,"enter"),b(t,n),r.props.onExit&&r.props.onExit(t)},r.onExiting=function(t){var e=r.getClassNames("exit"),n=e.activeClassName;r.reflowAndAddClass(t,n),r.props.onExiting&&r.props.onExiting(t)},r.onExited=function(t){r.removeClasses(t,"exit"),r.props.onExited&&r.props.onExited(t)},r.getClassNames=function(t){var e=r.props.classNames,n="string"!==typeof e?e[t]:e+"-"+t;return{className:n,activeClassName:"string"!==typeof e?e[t+"Active"]:n+"-active"}},a=n,o(r,a)}return a(e,t),e.prototype.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,i=n.activeClassName;r&&_(t,r),i&&_(t,i)},e.prototype.reflowAndAddClass=function(t,e){t.scrollTop,b(t,e)},e.prototype.render=function(){var t=s({},this.props);return delete t.classNames,m.default.createElement(v.default,s({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(m.default.Component));x.propTypes={},e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){t.classList?t.classList.add(e):(0,o.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(258),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(2),c=r(u),p=n(0),f=r(p),h=n(261),d=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},m=(c.default.any,c.default.node,c.default.bool,c.default.bool,c.default.bool,c.default.func,{component:"div",childFactory:function(t){return t}}),y=function(t){function e(n,r){o(this,e);var i=a(this,t.call(this,n,r));return i.handleExited=function(t,e,n){var r=(0,h.getChildMapping)(i.props.children);t in r||(n&&n(e),i.setState(function(e){var n=l({},e.children);return delete n[t],{children:n}}))},i.state={children:(0,h.getChildMapping)(n.children,function(t){var e=function(e){i.handleExited(t.key,e,t.props.onExited)};return(0,p.cloneElement)(t,{onExited:e,in:!0,appear:i.getProp(t,"appear"),enter:i.getProp(t,"enter"),exit:i.getProp(t,"exit")})})},i}return s(e,t),e.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},e.prototype.getProp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[e]?n[e]:t.props[e]},e.prototype.componentDidMount=function(){this.appeared=!0},e.prototype.componentWillReceiveProps=function(t){var e=this,n=this.state.children,r=(0,h.getChildMapping)(t.children),i=(0,h.mergeChildMappings)(n,r);Object.keys(i).forEach(function(o){var a=i[o];if((0,p.isValidElement)(a)){var s=function(t){e.handleExited(a.key,t,a.props.onExited)},l=o in n,u=o in r,c=n[o],f=(0,p.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,p.isValidElement)(c)&&(i[o]=(0,p.cloneElement)(a,{onExited:s,in:c.props.in,exit:e.getProp(a,"exit",t),enter:e.getProp(a,"enter",t)})):i[o]=(0,p.cloneElement)(a,{in:!1}):i[o]=(0,p.cloneElement)(a,{onExited:s,in:!0,exit:e.getProp(a,"exit",t),enter:e.getProp(a,"enter",t)})}}),this.setState({children:i})},e.prototype.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=i(t,["component","childFactory"]),o=this.state.children;return delete r.appear,delete r.enter,delete r.exit,f.default.createElement(e,r,d(o).map(n))},e}(f.default.Component);y.childContextTypes={transitionGroup:c.default.object.isRequired},y.propTypes={},y.defaultProps=m,e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=function(t){return e&&(0,o.isValidElement)(t)?e(t):t},r=Object.create(null);return t&&o.Children.map(t,function(t){return t}).forEach(function(t){r[t.key]=n(t)}),r}function i(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in e){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}e.__esModule=!0,e.getChildMapping=r,e.mergeChildMappings=i;var o=n(0)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(35),a=n(288),s=n(364),l=function(){return i.a.createElement(o.b,null,i.a.createElement("div",null,i.a.createElement(o.c,{exact:!0,path:"/",component:a.a}),i.a.createElement(o.c,{path:"/DataSources/:id",component:s.a})))};e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n.n(a),l=n(0),u=n.n(l),c=n(2),p=n.n(c),f=n(264),h=n.n(f),d=n(65),m=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,t.call.apply(t,[this].concat(l))),o.history=h()(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return u.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(u.a.Component);m.propTypes={basename:p.a.string,forceRefresh:p.a.bool,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(4),s=r(a),l=n(8),u=r(l),c=n(63),p=n(24),f=n(64),h=r(f),d=n(118),m=function(){try{return window.history.state||{}}catch(t){return{}}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(d.canUseDOM,"Browser history needs a DOM");var e=window.history,n=(0,d.supportsHistory)(),r=!(0,d.supportsPopStateOnHashChange)(),a=t.forceRefresh,l=void 0!==a&&a,f=t.getUserConfirmation,y=void 0===f?d.getConfirmation:f,v=t.keyLength,g=void 0===v?6:v,b=t.basename?(0,p.stripTrailingSlash)((0,p.addLeadingSlash)(t.basename)):"",_=function(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname,a=i.search,l=i.hash,u=o+a+l;return(0,s.default)(!b||(0,p.hasBasename)(u,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+u+'" to begin with "'+b+'".'),b&&(u=(0,p.stripBasename)(u,b)),(0,c.createLocation)(u,r,n)},x=function(){return Math.random().toString(36).substr(2,g)},w=(0,h.default)(),k=function(t){o(V,t),V.length=e.length,w.notifyListeners(V.location,V.action)},E=function(t){(0,d.isExtraneousPopstateEvent)(t)||T(_(t.state))},S=function(){T(_(m()))},C=!1,T=function(t){if(C)C=!1,k();else{w.confirmTransitionTo(t,"POP",y,function(e){e?k({action:"POP",location:t}):O(t)})}},O=function(t){var e=V.location,n=P.indexOf(e.key);-1===n&&(n=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(C=!0,I(i))},M=_(m()),P=[M.key],A=function(t){return b+(0,p.createPath)(t)},z=function(t,r){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":i(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,c.createLocation)(t,r,x(),V.location);w.confirmTransitionTo(o,"PUSH",y,function(t){if(t){var r=A(o),i=o.key,a=o.state;if(n)if(e.pushState({key:i,state:a},null,r),l)window.location.href=r;else{var u=P.indexOf(V.location.key),c=P.slice(0,-1===u?0:u+1);c.push(o.key),P=c,k({action:"PUSH",location:o})}else(0,s.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},j=function(t,r){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":i(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,c.createLocation)(t,r,x(),V.location);w.confirmTransitionTo(o,"REPLACE",y,function(t){if(t){var r=A(o),i=o.key,a=o.state;if(n)if(e.replaceState({key:i,state:a},null,r),l)window.location.replace(r);else{var u=P.indexOf(V.location.key);-1!==u&&(P[u]=o.key),k({action:"REPLACE",location:o})}else(0,s.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},I=function(t){e.go(t)},L=function(){return I(-1)},D=function(){return I(1)},R=0,N=function(t){R+=t,1===R?((0,d.addEventListener)(window,"popstate",E),r&&(0,d.addEventListener)(window,"hashchange",S)):0===R&&((0,d.removeEventListener)(window,"popstate",E),r&&(0,d.removeEventListener)(window,"hashchange",S))},B=!1,F=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=w.setPrompt(t);return B||(N(1),B=!0),function(){return B&&(B=!1,N(-1)),e()}},U=function(t){var e=w.appendListener(t);return N(1),function(){N(-1),e()}},V={length:e.length,action:"POP",location:M,createHref:A,push:z,replace:j,go:I,goBack:L,goForward:D,block:F,listen:U};return V};e.default=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n.n(a),l=n(0),u=n.n(l),c=n(2),p=n.n(c),f=n(266),h=n.n(f),d=n(65),m=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,t.call.apply(t,[this].concat(l))),o.history=h()(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return u.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(u.a.Component);m.propTypes={basename:p.a.string,getUserConfirmation:p.a.func,hashType:p.a.oneOf(["hashbang","noslash","slash"]),children:p.a.node}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),a=r(o),s=n(8),l=r(s),u=n(63),c=n(24),p=n(64),f=r(p),h=n(118),d={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,c.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:c.stripLeadingSlash,decodePath:c.addLeadingSlash},slash:{encodePath:c.addLeadingSlash,decodePath:c.addLeadingSlash}},m=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},y=function(t){return window.location.hash=t},v=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(h.canUseDOM,"Hash history needs a DOM");var e=window.history,n=(0,h.supportsGoWithoutReloadUsingHash)(),r=t.getUserConfirmation,o=void 0===r?h.getConfirmation:r,s=t.hashType,p=void 0===s?"slash":s,g=t.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(t.basename)):"",b=d[p],_=b.encodePath,x=b.decodePath,w=function(){var t=x(m());return(0,a.default)(!g||(0,c.hasBasename)(t,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+g+'".'),g&&(t=(0,c.stripBasename)(t,g)),(0,u.createLocation)(t)},k=(0,f.default)(),E=function(t){i(q,t),q.length=e.length,k.notifyListeners(q.location,q.action)},S=!1,C=null,T=function(){var t=m(),e=_(t);if(t!==e)v(e);else{var n=w(),r=q.location;if(!S&&(0,u.locationsAreEqual)(r,n))return;if(C===(0,c.createPath)(n))return;C=null,O(n)}},O=function(t){if(S)S=!1,E();else{k.confirmTransitionTo(t,"POP",o,function(e){e?E({action:"POP",location:t}):M(t)})}},M=function(t){var e=q.location,n=j.lastIndexOf((0,c.createPath)(e));-1===n&&(n=0);var r=j.lastIndexOf((0,c.createPath)(t));-1===r&&(r=0);var i=n-r;i&&(S=!0,R(i))},P=m(),A=_(P);P!==A&&v(A);var z=w(),j=[(0,c.createPath)(z)],I=function(t){return"#"+_(g+(0,c.createPath)(t))},L=function(t,e){(0,a.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,u.createLocation)(t,void 0,void 0,q.location);k.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=(0,c.createPath)(n),r=_(g+e);if(m()!==r){C=e,y(r);var i=j.lastIndexOf((0,c.createPath)(q.location)),o=j.slice(0,-1===i?0:i+1);o.push(e),j=o,E({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),E()}})},D=function(t,e){(0,a.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,u.createLocation)(t,void 0,void 0,q.location);k.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=(0,c.createPath)(n),r=_(g+e);m()!==r&&(C=e,v(r));var i=j.indexOf((0,c.createPath)(q.location));-1!==i&&(j[i]=e),E({action:"REPLACE",location:n})}})},R=function(t){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},N=function(){return R(-1)},B=function(){return R(1)},F=0,U=function(t){F+=t,1===F?(0,h.addEventListener)(window,"hashchange",T):0===F&&(0,h.removeEventListener)(window,"hashchange",T)},V=!1,H=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=k.setPrompt(t);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),e()}},W=function(t){var e=k.appendListener(t);return U(1),function(){U(-1),e()}},q={length:e.length,action:"POP",location:z,createHref:I,push:L,replace:D,go:R,goBack:N,goForward:B,block:H,listen:W};return q};e.default=g},function(t,e,n){"use strict";var r=n(268);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(4),s=n.n(a),l=n(0),u=n.n(l),c=n(2),p=n.n(c),f=n(269),h=n.n(f),d=n(66),m=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,t.call.apply(t,[this].concat(l))),o.history=h()(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return u.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(u.a.Component);m.propTypes={initialEntries:p.a.array,initialIndex:p.a.number,getUserConfirmation:p.a.func,keyLength:p.a.number,children:p.a.node},e.a=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(4),s=r(a),l=n(24),u=n(63),c=n(64),p=r(c),f=function(t,e,n){return Math.min(Math.max(t,e),n)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,n=t.initialEntries,r=void 0===n?["/"]:n,a=t.initialIndex,c=void 0===a?0:a,h=t.keyLength,d=void 0===h?6:h,m=(0,p.default)(),y=function(t){o(M,t),M.length=M.entries.length,m.notifyListeners(M.location,M.action)},v=function(){return Math.random().toString(36).substr(2,d)},g=f(c,0,r.length-1),b=r.map(function(t){return"string"===typeof t?(0,u.createLocation)(t,void 0,v()):(0,u.createLocation)(t,void 0,t.key||v())}),_=l.createPath,x=function(t,n){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":i(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(t,n,v(),M.location);m.confirmTransitionTo(r,"PUSH",e,function(t){if(t){var e=M.index,n=e+1,i=M.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),y({action:"PUSH",location:r,index:n,entries:i})}})},w=function(t,n){(0,s.default)(!("object"===("undefined"===typeof t?"undefined":i(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=(0,u.createLocation)(t,n,v(),M.location);m.confirmTransitionTo(r,"REPLACE",e,function(t){t&&(M.entries[M.index]=r,y({action:"REPLACE",location:r}))})},k=function(t){var n=f(M.index+t,0,M.entries.length-1),r=M.entries[n];m.confirmTransitionTo(r,"POP",e,function(t){t?y({action:"POP",location:r,index:n}):y()})},E=function(){return k(-1)},S=function(){return k(1)},C=function(t){var e=M.index+t;return e>=0&&e<M.entries.length},T=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(t)},O=function(t){return m.appendListener(t)},M={length:b.length,action:"POP",location:b[g],index:g,entries:b,createHref:_,push:x,replace:w,go:k,goBack:E,goForward:S,canGo:C,block:T,listen:O};return M};e.default=h},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(0),o=n.n(i),a=n(2),s=n.n(a),l=n(120),u=n(119),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(t){var e=t.to,n=t.exact,i=t.strict,a=t.location,s=t.activeClassName,f=t.className,h=t.activeStyle,d=t.style,m=t.isActive,y=t.ariaCurrent,v=r(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return o.a.createElement(l.a,{path:"object"===("undefined"===typeof e?"undefined":p(e))?e.pathname:e,exact:n,strict:i,location:a,children:function(t){var n=t.location,r=t.match,i=!!(m?m(r,n):r);return o.a.createElement(u.a,c({to:e,className:i?[f,s].filter(function(t){return t}).join(" "):f,style:i?c({},d,h):d,"aria-current":i&&y},v))}})};f.propTypes={to:u.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,ariaCurrent:s.a.oneOf(["page","step","location","true"])},f.defaultProps={activeClassName:"active",ariaCurrent:"true"}},function(t,e,n){function r(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=g.exec(t));){var c=n[0],p=n[1],f=n.index;if(a+=t.slice(o,f),o=f+c.length,p)a+=p[1];else{var h=t[o],d=n[2],m=n[3],y=n[4],v=n[5],b=n[6],_=n[7];a&&(r.push(a),a="");var x=null!=d&&null!=h&&h!==d,w="+"===b||"*"===b,k="?"===b||"*"===b,E=n[2]||s,S=y||v;r.push({name:m||i++,prefix:d||"",delimiter:E,optional:k,repeat:w,partial:x,asterisk:!!_,pattern:S?u(S):_?".*":"[^"+l(E)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function i(t,e){return s(r(t,e))}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},l=r||{},u=l.pretty?o:encodeURIComponent,c=0;c<t.length;c++){var p=t[c];if("string"!==typeof p){var f,h=s[p.name];if(null==h){if(p.optional){p.partial&&(i+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(v(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!e[c].test(f))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===d?p.prefix:p.delimiter)+f}}else{if(f=p.asterisk?a(h):u(h),!e[c].test(f))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+f+'"');i+=p.prefix+f}}else i+=p}return i}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function p(t){return t.sensitive?"":"i"}function f(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}function h(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(y(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",p(n)),e)}function d(t,e,n){return m(r(t,n),e,n)}function m(t,e,n){v(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=l(s);else{var u=l(s.prefix),f="(?:"+s.pattern+")";e.push(s),s.repeat&&(f+="(?:"+u+f+")*"),f=s.optional?s.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")",o+=f}}var h=l(n.delimiter||"/"),d=o.slice(-h.length)===h;return r||(o=(d?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+h+"|$)",c(new RegExp("^"+o,p(n)),e)}function y(t,e,n){return v(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?f(t,e):v(t)?h(t,e,n):d(t,e,n)}var v=n(272);t.exports=y,t.exports.parse=r,t.exports.compile=i,t.exports.tokensToFunction=s,t.exports.tokensToRegExp=m;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=n(274);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(2),u=n.n(l),c=n(8),p=n.n(c),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(s.a.Component);f.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired},e.a=f},function(t,e,n){"use strict";var r=n(276);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(2),u=n.n(l),c=n(4),p=n.n(c),f=n(8),h=n.n(f),d=n(277),m=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(d.a)(t.to),n=Object(d.a)(this.props.to);if(Object(d.b)(e,n))return void p()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},e.prototype.perform=function(){var t=this.context.router.history,e=this.props,n=e.push,r=e.to;n?t.push(r):t.replace(r)},e.prototype.render=function(){return null},e}(s.a.Component);m.propTypes={push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired},m.defaultProps={push:!1},m.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired},e.a=m},function(t,e,n){"use strict";var r=(n(278),n(279),n(280),n(36));n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b});n(25)},function(t,e,n){"use strict";var r=n(4),i=(n.n(r),n(8));n.n(i),n(36),n(25),n(68),n(122),"function"===typeof Symbol&&Symbol.iterator,Object.assign},function(t,e,n){"use strict";var r=n(4),i=(n.n(r),n(8)),o=(n.n(i),n(36),n(25));n(68),n(122),Object.assign,o.f,o.a,o.a,o.a},function(t,e,n){"use strict";var r=n(4);n.n(r),n(25),n(36),n(68),"function"===typeof Symbol&&Symbol.iterator,Object.assign},function(t,e,n){"use strict";var r=n(282);r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(4),l=n.n(s),u=n(8),c=n.n(u),p=n(0),f=n.n(p),h=n(2),d=n.n(h),m=n(24),y=(n.n(m),n(66)),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return{pathname:n,search:"?"===i?"":i,hash:"#"===a?"":a}},b=function(t,e){return t?v({},e,{pathname:Object(m.addLeadingSlash)(t)+e.pathname}):e},_=function(t,e){if(!t)return e;var n=Object(m.addLeadingSlash)(t);return 0!==e.pathname.indexOf(n)?e:v({},e,{pathname:e.pathname.substr(n.length)})},x=function(t){return"string"===typeof t?Object(m.parsePath)(t):g(t)},w=function(t){return"string"===typeof t?t:Object(m.createPath)(t)},k=function(t){return function(){c()(!1,"You cannot %s with <StaticRouter>",t)}},E=function(){},S=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(l))),r.createHref=function(t){return Object(m.addLeadingSlash)(r.props.basename+w(t))},r.handlePush=function(t){var e=r.props,n=e.basename,i=e.context;i.action="PUSH",i.location=b(n,x(t)),i.url=w(i.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,i=e.context;i.action="REPLACE",i.location=b(n,x(t)),i.url=w(i.location)},r.handleListen=function(){return E},r.handleBlock=function(){return E},a=n,o(r,a)}return a(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){l()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),i=r(t,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:_(e,x(n)),push:this.handlePush,replace:this.handleReplace,go:k("go"),goBack:k("goBack"),goForward:k("goForward"),listen:this.handleListen,block:this.handleBlock};return f.a.createElement(y.a,v({},i,{history:o}))},e}(f.a.Component);S.propTypes={basename:d.a.string,context:d.a.object.isRequired,location:d.a.oneOfType([d.a.string,d.a.object])},S.defaultProps={basename:"",location:"/"},S.childContextTypes={router:d.a.object.isRequired},e.a=S},function(t,e,n){"use strict";var r=n(284);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(2),u=n.n(l),c=n(4),p=n.n(c),f=n(8),h=n.n(f),d=n(67),m=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){p()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),p()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,i=void 0;return s.a.Children.forEach(e,function(e){if(s.a.isValidElement(e)){var o=e.props,a=o.path,l=o.exact,u=o.strict,c=o.sensitive,p=o.from,f=a||p;null==r&&(i=e,r=f?Object(d.a)(n.pathname,{path:f,exact:l,strict:u,sensitive:c}):t.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},e}(s.a.Component);m.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},m.propTypes={children:u.a.node,location:u.a.object},e.a=m},function(t,e,n){"use strict";var r=n(67);r.a},function(t,e,n){"use strict";var r=n(287);e.a=r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(0),o=n.n(i),a=n(2),s=n.n(a),l=n(106),u=n.n(l),c=n(121),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(t){var e=function(e){var n=e.wrappedComponentRef,i=r(e,["wrappedComponentRef"]);return o.a.createElement(c.a,{render:function(e){return o.a.createElement(t,p({},i,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:s.a.func},u()(e,t)};e.a=f},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(18),a=n(35),s=n(289),l=function(t){return i.a.createElement("div",null,i.a.createElement("h3",null,"Data Sources"),i.a.createElement(s.a,null),i.a.createElement("div",{style:{paddingTop:"5px"}},i.a.createElement(a.a,{to:"/DataSources/New"},i.a.createElement(o.a,{outline:!0,color:"primary"},"Add"))))};e.a=l},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(23),a=n(18),s=n(12),l=n.n(s),u=n(356),c=n.n(u),p=n(35),f=Object(p.d)(function(t){var e=t.history,n=t.label,r=t.id;return i.a.createElement(a.i,{onClick:function(){return e.push("/DataSources/"+r)},style:{cursor:"pointer"}},n)}),h=function(t){return i.a.createElement(a.h,null,l()(t.dataSources,function(t){return i.a.createElement(f,Object.assign({key:t.id},t))}))},d=function(t){return c()(t,"dataSources")};e.a=Object(o.b)(d)(h)},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(291),o=n(340),a=n(137);t.exports=r},function(t,e,n){function r(t,e,n,r){var l=n.length,u=l,c=!r;if(null==t)return!u;for(t=Object(t);l--;){var p=n[l];if(c&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++l<u;){p=n[l];var f=p[0],h=t[f],d=p[1];if(c&&p[2]){if(void 0===h&&!(f in t))return!1}else{var m=new i;if(r)var y=r(h,d,f,t,e,m);if(!(void 0===y?o(d,h,a|s,r,m):y))return!1}}return!0}var i=n(70),o=n(126),a=1,s=2;t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var i=n(39),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(39);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(39);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(39);t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(38);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(38),o=n(72),a=n(73),s=200;t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?d:u).test(s(t))}var i=n(123),o=n(305),a=n(9),s=n(125),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,p=Object.prototype,f=c.toString,h=p.hasOwnProperty,d=RegExp("^"+f.call(h).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){var e=a.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[l]=n:delete t[l]),i}var i=n(19),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(306),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(5),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(309),o=n(38),a=n(72);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(310),o=n(311),a=n(312),s=n(313),l=n(314);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(40);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(40),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(40),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(40),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(41);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(41);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(41);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(41);t.exports=r},function(t,e,n){function r(t,e,n,r,y,g){var b=u(t),_=u(e),x=b?d:l(t),w=_?d:l(e);x=x==h?m:x,w=w==h?m:w;var k=x==m,E=w==m,S=x==w;if(S&&c(t)){if(!c(e))return!1;b=!0,k=!1}if(S&&!k)return g||(g=new i),b||p(t)?o(t,e,n,r,y,g):a(t,e,x,n,r,y,g);if(!(n&f)){var C=k&&v.call(t,"__wrapped__"),T=E&&v.call(e,"__wrapped__");if(C||T){var O=C?t.value():t,M=T?e.value():e;return g||(g=new i),y(O,M,n,r,g)}}return!!S&&(g||(g=new i),s(t,e,n,r,y,g))}var i=n(70),o=n(127),a=n(326),s=n(329),l=n(45),u=n(6),c=n(77),p=n(133),f=1,h="[object Arguments]",d="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(73),o=n(322),a=n(323);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,i,k,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case f:case h:case y:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case m:var C=l;case g:var T=r&c;if(C||(C=u),t.size!=e.size&&!T)return!1;var O=S.get(t);if(O)return O==e;r|=p,S.set(t,e);var M=s(C(t),C(e),r,i,k,S);return S.delete(t),M;case _:if(E)return E.call(t)==E.call(e)}return!1}var i=n(19),o=n(128),a=n(71),s=n(127),l=n(327),u=n(328),c=1,p=2,f="[object Boolean]",h="[object Date]",d="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",k=i?i.prototype:void 0,E=k?k.valueOf:void 0;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,l){var u=n&o,c=i(t),p=c.length;if(p!=i(e).length&&!u)return!1;for(var f=p;f--;){var h=c[f];if(!(u?h in e:s.call(e,h)))return!1}var d=l.get(t);if(d&&l.get(e))return d==e;var m=!0;l.set(t,e),l.set(e,t);for(var y=u;++f<p;){h=c[f];var v=t[h],g=e[h];if(r)var b=u?r(g,v,h,e,t,l):r(v,g,h,t,e,l);if(!(void 0===b?v===g||a(v,g,n,r,l):b)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(t),l.delete(e),m}var i=n(129),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(16),o=n(13),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(16),o=n(78),a=n(13),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(81),o=n(336),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(134),i=r(Object.keys,Object);t.exports=i},function(t,e,n){var r=n(15),i=n(5),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(15),i=n(5),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(15),i=n(5),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(136),o=n(20);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&l(e)?u(c(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,p|f)}}var i=n(126),o=n(138),a=n(139),s=n(82),l=n(136),u=n(137),c=n(22),p=1,f=2;t.exports=r},function(t,e,n){var r=n(343),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(344),o=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(73),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(346);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}var i=n(19),o=n(69),a=n(6),s=n(26),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,c=e.length,p=!1;++r<c;){var f=u(e[r]);if(!(p=null!=t&&n(t,f)))break;t=t[f]}return p||++r!=c?p:!!(c=null==t?0:t.length)&&l(c)&&s(f,c)&&(a(t)||o(t))}var i=n(21),o=n(76),a=n(6),s=n(43),l=n(78),u=n(22);t.exports=r},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(350),o=n(351),a=n(82),s=n(22);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(46);t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(140),o=n(44);t.exports=r},function(t,e,n){var r=n(354),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(44);t.exports=r},function(t,e,n){var r=n(357),i=n(142),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){function r(t,e){return i(t,e,function(e,n){return o(t,n)})}var i=n(358),o=n(139);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,s=e.length,l={};++r<s;){var u=e[r],c=i(t,u);n(c,u)&&o(l,a(u,t),c)}return l}var i=n(46),o=n(359),a=n(21);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!s(t))return t;e=o(e,t);for(var u=-1,c=e.length,p=c-1,f=t;null!=f&&++u<c;){var h=l(e[u]),d=n;if(u!=p){var m=f[h];d=r?r(m,h,f):void 0,void 0===d&&(d=s(m)?m:a(e[u+1])?[]:{})}i(f,h,d),f=f[h]}return t}var i=n(83),o=n(21),a=n(43),s=n(9),l=n(22);t.exports=r},function(t,e,n){function r(t,e,n,a,s){var l=-1,u=t.length;for(n||(n=o),s||(s=[]);++l<u;){var c=t[l];e>0&&n(c)?e>1?r(c,e-1,n,a,s):i(s,c):a||(s[s.length]=c)}return s}var i=n(74),o=n(361);t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(19),o=n(76),a=n(6),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){var r=n(363),i=n(141),o=n(27),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),l=n.n(s),u=n(23),c=n(35),p=n(18),f=n(146),h=n(170),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=[{prop:"label",label:"Label",type:"string"},{prop:"color",label:"Color",type:"color"},{prop:"geoJson",label:"Data",type:"geoJson"}],y=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onChange=function(t,e){n.setState(r({},t,e))},n.onSave=function(){var t=n.props,e=t.id,r=t.addDataSource,i=t.updateDataSource,o=t.history,a=n.getRecord();"New"===e?r(a):i(a),o.push("/")},n.state={},n}return a(e,t),d(e,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Data Source"),l.a.createElement(p.a,{outline:!0,color:"primary",onClick:this.onSave},"Save"),l.a.createElement(f.a,{fields:m,record:this.getRecord(),onChange:this.onChange}))}},{key:"getRecord",value:function(){var t=this.props.record;return Object.assign({},t,this.state)}}]),e}(s.Component),v=function(t,e){var n=e.match.params.id;if("New"===n)return{record:{label:"New Layer",geoJson:"{}"},id:n};var r=t.dataSources[n];return{record:Object.assign({},r,{geoJson:JSON.stringify(r.geoJson,null,2)})}};e.a=Object(u.b)(v,{addDataSource:h.d,updateDataSource:h.e})(Object(c.d)(y))},function(t,e,n){var r=n(366),i=n(367),o=n(90),a=n(51),s=r(function(t,e){var n=a(e,o(s));return i(t,32,void 0,e,n)});s.placeholder={},t.exports=s},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(27),o=n(144),a=n(85);t.exports=r},function(t,e,n){function r(t,e,n,r,w,k,E,S){var C=e&y;if(!C&&"function"!=typeof t)throw new TypeError(d);var T=r?r.length:0;if(T||(e&=~(b|_),r=w=void 0),E=void 0===E?E:x(h(E),0),S=void 0===S?S:h(S),T-=w?w.length:0,e&_){var O=r,M=w;r=w=void 0}var P=C?void 0:u(t),A=[t,e,n,r,w,O,M,k,E,S];if(P&&c(A,P),t=A[0],e=A[1],n=A[2],r=A[3],w=A[4],S=A[9]=void 0===A[9]?C?0:t.length:x(A[9]-T,0),!S&&e&(v|g)&&(e&=~(v|g)),e&&e!=m)z=e==v||e==g?a(t,e,S):e!=b&&e!=(m|b)||w.length?s.apply(void 0,A):l(t,e,n,r);else var z=o(t,e,n);return f((P?i:p)(z,A),t,e)}var i=n(147),o=n(368),a=n(369),s=n(149),l=n(386),u=n(153),c=n(387),p=n(155),f=n(156),h=n(388),d="Expected a function",m=1,y=2,v=8,g=16,b=32,_=64,x=Math.max;t.exports=r},function(t,e,n){function r(t,e,n){function r(){return(this&&this!==o&&this instanceof r?l:t).apply(s?n:this,arguments)}var s=e&a,l=i(t);return r}var i=n(49),o=n(5),a=1;t.exports=r},function(t,e,n){function r(t,e,n){function r(){for(var o=arguments.length,f=Array(o),h=o,d=l(r);h--;)f[h]=arguments[h];var m=o<3&&f[0]!==d&&f[o-1]!==d?[]:u(f,d);return(o-=m.length)<n?s(t,e,a,r.placeholder,void 0,f,m,void 0,void 0,n-o):i(this&&this!==c&&this instanceof r?p:t,this,f)}var p=o(t);return r}var i=n(84),o=n(49),a=n(149),s=n(152),l=n(90),u=n(51),c=n(5);t.exports=r},function(t,e){function n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}t.exports=n},function(t,e,n){function r(t){var e=a(t),n=s[e];if("function"!=typeof n||!(e in i.prototype))return!1;if(t===n)return!0;var r=o(n);return!!r&&t===r[0]}var i=n(86),o=n(153),a=n(373),s=n(375);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t){for(var e=t.name+"",n=i[e],r=a.call(i,e)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==t)return o.name}return e}var i=n(374),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e){var n={};t.exports=n},function(t,e,n){function r(t){if(l(t)&&!s(t)&&!(t instanceof i)){if(t instanceof o)return t;if(p.call(t,"__wrapped__"))return u(t)}return new o(t)}var i=n(86),o=n(154),a=n(87),s=n(6),l=n(13),u=n(376),c=Object.prototype,p=c.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){if(t instanceof i)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var i=n(86),o=n(154),a=n(88);t.exports=r},function(t,e){function n(t){var e=t.match(r);return e?e[1].split(i):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(r,"{\n/* [wrapped with "+e+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function r(t,e){return i(a,function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)}),t.sort()}var i=n(89),o=n(380),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=r},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&i(t,e,0)>-1}var i=n(381);t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(382),o=n(383),a=n(384);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){function r(t,e){for(var n=t.length,r=a(e.length,n),s=i(t);r--;){var l=e[r];t[r]=o(l,n)?s[l]:void 0}return t}var i=n(88),o=n(43),a=Math.min;t.exports=r},function(t,e,n){function r(t,e,n,r){function l(){for(var e=-1,o=arguments.length,s=-1,p=r.length,f=Array(p+o),h=this&&this!==a&&this instanceof l?c:t;++s<p;)f[s]=r[s];for(;o--;)f[s++]=arguments[++e];return i(h,u?n:this,f)}var u=e&s,c=o(t);return l}var i=n(84),o=n(49),a=n(5),s=1;t.exports=r},function(t,e,n){function r(t,e){var n=t[1],r=e[1],m=n|r,y=m<(l|u|f),v=r==f&&n==p||r==f&&n==h&&t[7].length<=e[8]||r==(f|h)&&e[7].length<=e[8]&&n==p;if(!y&&!v)return t;r&l&&(t[2]=e[2],m|=n&l?0:c);var g=e[3];if(g){var b=t[3];t[3]=b?i(b,g,e[4]):g,t[4]=b?a(t[3],s):e[4]}return g=e[5],g&&(b=t[5],t[5]=b?o(b,g,e[6]):g,t[6]=b?a(t[5],s):e[6]),g=e[7],g&&(t[7]=g),r&f&&(t[8]=null==t[8]?e[8]:d(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=m,t}var i=n(150),o=n(151),a=n(51),s="__lodash_placeholder__",l=1,u=2,c=4,p=8,f=128,h=256,d=Math.min;t.exports=r},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(389);t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(157),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=function(t){var e=t.onChange,n=t.value,r=t.id,o=t.placeholder;return i.a.createElement("input",{onChange:function(t){return e(t.target.value)},value:n||"",id:r,placeholder:o,className:"form-control"})};e.a=o},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(392),a=n.n(o),s=n(397),l=(n.n(s),n(398)),u=(n.n(l),{lineNumbers:!0,mode:"application/json",smartIndent:!0});e.a=function(t){var e=t.value,n=t.onChange;return i.a.createElement(a.a,{value:e,onChange:n,options:u})}},function(t,e,n){"use strict";function r(t){return t?t.replace(/\r\n|\r/g,"\n"):t}var i=n(0),o=(n(34),n(2)),a=n(113),s=n(393),l=n(394),u=n(395),c=u({propTypes:{autoFocus:o.bool,className:o.any,codeMirrorInstance:o.func,defaultValue:o.string,name:o.string,onChange:o.func,onCursorActivity:o.func,onFocusChange:o.func,onScroll:o.func,options:o.object,path:o.string,value:o.string,preserveScrollPosition:o.bool},getDefaultProps:function(){return{preserveScrollPosition:!1}},getCodeMirrorInstance:function(){return this.props.codeMirrorInstance||n(158)},getInitialState:function(){return{isFocused:!1}},componentWillMount:function(){this.componentWillReceiveProps=s(this.componentWillReceiveProps,0),this.props.path&&console.error("Warning: react-codemirror: the `path` prop has been changed to `name`")},componentDidMount:function(){var t=this.getCodeMirrorInstance();this.codeMirror=t.fromTextArea(this.textareaNode,this.props.options),this.codeMirror.on("change",this.codemirrorValueChanged),this.codeMirror.on("cursorActivity",this.cursorActivity),this.codeMirror.on("focus",this.focusChanged.bind(this,!0)),this.codeMirror.on("blur",this.focusChanged.bind(this,!1)),this.codeMirror.on("scroll",this.scrollChanged),this.codeMirror.setValue(this.props.defaultValue||this.props.value||"")},componentWillUnmount:function(){this.codeMirror&&this.codeMirror.toTextArea()},componentWillReceiveProps:function(t){if(this.codeMirror&&void 0!==t.value&&t.value!==this.props.value&&r(this.codeMirror.getValue())!==r(t.value))if(this.props.preserveScrollPosition){var e=this.codeMirror.getScrollInfo();this.codeMirror.setValue(t.value),this.codeMirror.scrollTo(e.left,e.top)}else this.codeMirror.setValue(t.value);if("object"===typeof t.options)for(var n in t.options)t.options.hasOwnProperty(n)&&this.setOptionIfChanged(n,t.options[n])},setOptionIfChanged:function(t,e){var n=this.codeMirror.getOption(t);l(n,e)||this.codeMirror.setOption(t,e)},getCodeMirror:function(){return this.codeMirror},focus:function(){this.codeMirror&&this.codeMirror.focus()},focusChanged:function(t){this.setState({isFocused:t}),this.props.onFocusChange&&this.props.onFocusChange(t)},cursorActivity:function(t){this.props.onCursorActivity&&this.props.onCursorActivity(t)},scrollChanged:function(t){this.props.onScroll&&this.props.onScroll(t.getScrollInfo())},codemirrorValueChanged:function(t,e){this.props.onChange&&"setValue"!==e.origin&&this.props.onChange(t.getValue(),e)},render:function(){var t=this,e=a("ReactCodeMirror",this.state.isFocused?"ReactCodeMirror--focused":null,this.props.className);return i.createElement("div",{className:e},i.createElement("textarea",{ref:function(e){return t.textareaNode=e},name:this.props.name||this.props.path,defaultValue:this.props.value,autoComplete:"off",autoFocus:this.props.autoFocus}))}});t.exports=c},function(t,e,n){(function(e){function n(t,e,n){function i(e){var n=m,r=y;return m=y=void 0,E=e,g=t.apply(r,n)}function o(t){return E=t,b=setTimeout(c,e),S?i(t):g}function l(t){var n=t-k,r=t-E,i=e-n;return C?x(i,v-r):i}function u(t){var n=t-k,r=t-E;return void 0===k||n>=e||n<0||C&&r>=v}function c(){var t=w();if(u(t))return p(t);b=setTimeout(c,l(t))}function p(t){return b=void 0,T&&m?i(t):(m=y=void 0,g)}function f(){void 0!==b&&clearTimeout(b),E=0,m=k=y=b=void 0}function h(){return void 0===b?g:p(w())}function d(){var t=w(),n=u(t);if(m=arguments,y=this,k=t,n){if(void 0===b)return o(k);if(C)return b=setTimeout(c,e),i(k)}return void 0===b&&(b=setTimeout(c,e)),g}var m,y,v,g,b,k,E=0,S=!1,C=!1,T=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,r(n)&&(S=!!n.leading,C="maxWait"in n,v=C?_(a(n.maxWait)||0,e):v,T="trailing"in n?!!n.trailing:T),d.cancel=f,d.flush=h,d}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||i(t)&&b.call(t)==u}function a(t){if("number"==typeof t)return t;if(o(t))return l;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=f.test(t);return n||h.test(t)?d(t.slice(2),n?2:8):p.test(t)?l:+t}var s="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=Object.prototype,b=g.toString,_=Math.max,x=Math.min,w=function(){return v.Date.now()};t.exports=n}).call(e,n(7))},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function i(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function o(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t,e){return t.has(e)}function l(t,e){return null==t?void 0:t[e]}function u(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function p(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(){this.__data__=Ee?Ee(null):{},this.size=0}function h(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function d(t){var e=this.__data__;if(Ee){var n=e[t];return n===gt?void 0:n}return ae.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Ee?void 0!==e[t]:ae.call(e,t)}function y(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ee&&void 0===e?gt:e,this}function v(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function g(){this.__data__=[],this.size=0}function b(t){var e=this.__data__,n=B(e,t);return!(n<0)&&(n==e.length-1?e.pop():de.call(e,n,1),--this.size,!0)}function _(t){var e=this.__data__,n=B(e,t);return n<0?void 0:e[n][1]}function x(t){return B(this.__data__,t)>-1}function w(t,e){var n=this.__data__,r=B(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function k(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(){this.size=0,this.__data__={hash:new p,map:new(_e||v),string:new p}}function S(t){var e=J(this,t).delete(t);return this.size-=e?1:0,e}function C(t){return J(this,t).get(t)}function T(t){return J(this,t).has(t)}function O(t,e){var n=J(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function M(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new k;++e<n;)this.add(t[e])}function P(t){return this.__data__.set(t,gt),this}function A(t){return this.__data__.has(t)}function z(t){var e=this.__data__=new v(t);this.size=e.size}function j(){this.__data__=new v,this.size=0}function I(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function L(t){return this.__data__.get(t)}function D(t){return this.__data__.has(t)}function R(t,e){var n=this.__data__;if(n instanceof v){var r=n.__data__;if(!_e||r.length<vt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new k(r)}return n.set(t,e),this.size=n.size,this}function N(t,e){var n=Le(t),r=!n&&Ie(t),i=!n&&!r&&De(t),o=!n&&!r&&!i&&Re(t),s=n||r||i||o,l=s?a(t.length,String):[],u=l.length;for(var c in t)!e&&!ae.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||et(c,u))||l.push(c);return l}function B(t,e){for(var n=t.length;n--;)if(st(t[n][0],e))return n;return-1}function F(t,e,n){var r=e(t);return Le(t)?r:i(r,n(t))}function U(t){return null==t?void 0===t?Bt:zt:me&&me in Object(t)?tt(t):ot(t)}function V(t){return ht(t)&&U(t)==wt}function H(t,e,n,r,i){return t===e||(null==t||null==e||!ht(t)&&!ht(e)?t!==t&&e!==e:W(t,e,n,r,H,i))}function W(t,e,n,r,i,o){var a=Le(t),s=Le(e),l=a?kt:je(t),u=s?kt:je(e);l=l==wt?jt:l,u=u==wt?jt:u;var c=l==jt,p=u==jt,f=l==u;if(f&&De(t)){if(!De(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new z),a||Re(t)?X(t,e,n,r,i,o):Y(t,e,l,n,r,i,o);if(!(n&bt)){var h=c&&ae.call(t,"__wrapped__"),d=p&&ae.call(e,"__wrapped__");if(h||d){var m=h?t.value():t,y=d?e.value():e;return o||(o=new z),i(m,y,n,r,o)}}return!!f&&(o||(o=new z),K(t,e,n,r,i,o))}function q(t){return!(!ft(t)||rt(t))&&(ct(t)?ue:Ht).test(at(t))}function G(t){return ht(t)&&pt(t.length)&&!!qt[U(t)]}function Z(t){if(!it(t))return ge(t);var e=[];for(var n in Object(t))ae.call(t,n)&&"constructor"!=n&&e.push(n);return e}function X(t,e,n,r,i,a){var l=n&bt,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var p=a.get(t);if(p&&a.get(e))return p==e;var f=-1,h=!0,d=n&_t?new M:void 0;for(a.set(t,e),a.set(e,t);++f<u;){var m=t[f],y=e[f];if(r)var v=l?r(y,m,f,e,t,a):r(m,y,f,t,e,a);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!o(e,function(t,e){if(!s(d,e)&&(m===t||i(m,t,n,r,a)))return d.push(e)})){h=!1;break}}else if(m!==y&&!i(m,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Y(t,e,n,r,i,o,a){switch(n){case Ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ft:return!(t.byteLength!=e.byteLength||!o(new fe(t),new fe(e)));case St:case Ct:case At:return st(+t,+e);case Tt:return t.name==e.name&&t.message==e.message;case Lt:case Rt:return t==e+"";case Pt:var s=u;case Dt:var l=r&bt;if(s||(s=c),t.size!=e.size&&!l)return!1;var p=a.get(t);if(p)return p==e;r|=_t,a.set(t,e);var f=X(s(t),s(e),r,i,o,a);return a.delete(t),f;case Nt:if(Ae)return Ae.call(t)==Ae.call(e)}return!1}function K(t,e,n,r,i,o){var a=n&bt,s=$(t),l=s.length;if(l!=$(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:ae.call(e,c)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var h=a;++u<l;){c=s[u];var d=t[c],m=e[c];if(r)var y=a?r(m,d,c,e,t,o):r(d,m,c,t,e,o);if(!(void 0===y?d===m||i(d,m,n,r,o):y)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var v=t.constructor,g=e.constructor;v!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(f=!1)}return o.delete(t),o.delete(e),f}function $(t){return F(t,dt,ze)}function J(t,e){var n=t.__data__;return nt(e)?n["string"==typeof e?"string":"hash"]:n.map}function Q(t,e){var n=l(t,e);return q(n)?n:void 0}function tt(t){var e=ae.call(t,me),n=t[me];try{t[me]=void 0;var r=!0}catch(t){}var i=le.call(t);return r&&(e?t[me]=n:delete t[me]),i}function et(t,e){return!!(e=null==e?xt:e)&&("number"==typeof t||Wt.test(t))&&t>-1&&t%1==0&&t<e}function nt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function rt(t){return!!se&&se in t}function it(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||re)}function ot(t){return le.call(t)}function at(t){if(null!=t){try{return oe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function st(t,e){return t===e||t!==t&&e!==e}function lt(t){return null!=t&&pt(t.length)&&!ct(t)}function ut(t,e){return H(t,e)}function ct(t){if(!ft(t))return!1;var e=U(t);return e==Ot||e==Mt||e==Et||e==It}function pt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=xt}function ft(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ht(t){return null!=t&&"object"==typeof t}function dt(t){return lt(t)?N(t):Z(t)}function mt(){return[]}function yt(){return!1}var vt=200,gt="__lodash_hash_undefined__",bt=1,_t=2,xt=9007199254740991,wt="[object Arguments]",kt="[object Array]",Et="[object AsyncFunction]",St="[object Boolean]",Ct="[object Date]",Tt="[object Error]",Ot="[object Function]",Mt="[object GeneratorFunction]",Pt="[object Map]",At="[object Number]",zt="[object Null]",jt="[object Object]",It="[object Proxy]",Lt="[object RegExp]",Dt="[object Set]",Rt="[object String]",Nt="[object Symbol]",Bt="[object Undefined]",Ft="[object ArrayBuffer]",Ut="[object DataView]",Vt=/[\\^$.*+?()[\]{}|]/g,Ht=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt[wt]=qt[kt]=qt[Ft]=qt[St]=qt[Ut]=qt[Ct]=qt[Tt]=qt[Ot]=qt[Pt]=qt[At]=qt[jt]=qt[Lt]=qt[Dt]=qt[Rt]=qt["[object WeakMap]"]=!1;var Gt="object"==typeof t&&t&&t.Object===Object&&t,Zt="object"==typeof self&&self&&self.Object===Object&&self,Xt=Gt||Zt||Function("return this")(),Yt="object"==typeof e&&e&&!e.nodeType&&e,Kt=Yt&&"object"==typeof n&&n&&!n.nodeType&&n,$t=Kt&&Kt.exports===Yt,Jt=$t&&Gt.process,Qt=function(){try{return Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),te=Qt&&Qt.isTypedArray,ee=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=Xt["__core-js_shared__"],oe=ne.toString,ae=re.hasOwnProperty,se=function(){var t=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),le=re.toString,ue=RegExp("^"+oe.call(ae).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=$t?Xt.Buffer:void 0,pe=Xt.Symbol,fe=Xt.Uint8Array,he=re.propertyIsEnumerable,de=ee.splice,me=pe?pe.toStringTag:void 0,ye=Object.getOwnPropertySymbols,ve=ce?ce.isBuffer:void 0,ge=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),be=Q(Xt,"DataView"),_e=Q(Xt,"Map"),xe=Q(Xt,"Promise"),we=Q(Xt,"Set"),ke=Q(Xt,"WeakMap"),Ee=Q(Object,"create"),Se=at(be),Ce=at(_e),Te=at(xe),Oe=at(we),Me=at(ke),Pe=pe?pe.prototype:void 0,Ae=Pe?Pe.valueOf:void 0;p.prototype.clear=f,p.prototype.delete=h,p.prototype.get=d,p.prototype.has=m,p.prototype.set=y,v.prototype.clear=g,v.prototype.delete=b,v.prototype.get=_,v.prototype.has=x,v.prototype.set=w,k.prototype.clear=E,k.prototype.delete=S,k.prototype.get=C,k.prototype.has=T,k.prototype.set=O,M.prototype.add=M.prototype.push=P,M.prototype.has=A,z.prototype.clear=j,z.prototype.delete=I,z.prototype.get=L,z.prototype.has=D,z.prototype.set=R;var ze=ye?function(t){return null==t?[]:(t=Object(t),r(ye(t),function(e){return he.call(t,e)}))}:mt,je=U;(be&&je(new be(new ArrayBuffer(1)))!=Ut||_e&&je(new _e)!=Pt||xe&&"[object Promise]"!=je(xe.resolve())||we&&je(new we)!=Dt||ke&&"[object WeakMap]"!=je(new ke))&&(je=function(t){var e=U(t),n=e==jt?t.constructor:void 0,r=n?at(n):"";if(r)switch(r){case Se:return Ut;case Ce:return Pt;case Te:return"[object Promise]";case Oe:return Dt;case Me:return"[object WeakMap]"}return e});var Ie=V(function(){return arguments}())?V:function(t){return ht(t)&&ae.call(t,"callee")&&!he.call(t,"callee")},Le=Array.isArray,De=ve||yt,Re=te?function(t){return function(e){return t(e)}}(te):G;n.exports=ut}).call(e,n(7),n(42)(t))},function(t,e,n){"use strict";var r=n(0),i=n(396);if("undefined"===typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=i(r.Component,r.isValidElement,o)},function(t,e,n){"use strict";function r(t){return t}function i(t,e,n){function i(t,e){var n=g.hasOwnProperty(e)?g[e]:null;k.hasOwnProperty(e)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function u(t,n){if(n){s("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(l)&&_.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==l){var u=n[a],c=r.hasOwnProperty(a);if(i(c,a),_.hasOwnProperty(a))_[a](t,u);else{var p=g.hasOwnProperty(a),d="function"===typeof u,m=d&&!p&&!c&&!1!==n.autobind;if(m)o.push(a,u),r[a]=u;else if(c){var y=g[a];s(p&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,a),"DEFINE_MANY_MERGED"===y?r[a]=f(r[a],u):"DEFINE_MANY"===y&&(r[a]=h(r[a],u))}else r[a]=u}}}else;}function c(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in _;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in t;if(o){var a=b.hasOwnProperty(n)?b[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=f(t[n],r))}t[n]=r}}}function p(t,e){s(t&&e&&"object"===typeof t&&"object"===typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(s(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function h(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function d(t,e){var n=e.bind(t);return n}function m(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=d(t,i)}}function y(t){var e=r(function(t,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=t,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"===typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=o});e.prototype=new E,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],v.forEach(u.bind(null,e)),u(e,x),u(e,t),u(e,w),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in g)e.prototype[i]||(e.prototype[i]=null);return e}var v=[],g={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},_={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)u(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=o({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=o({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=o({},t.propTypes,e)},statics:function(t,e){c(t,e)},autobind:function(){}},x={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},k={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},E=function(){};return o(E.prototype,t.prototype,k),y}var o=n(32),a=n(59),s=n(103),l="mixins";t.exports=i},function(t,e){},function(t,e,n){!function(t){t(n(158))}(function(t){"use strict";t.defineMode("javascript",function(e,n){function r(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}function i(t,e,n){return zt=t,jt=n,e}function o(t,e){var n=t.next();if('"'==n||"'"==n)return e.tokenize=a(n),e.tokenize(t,e);if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&t.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&t.eat(">"))return i("=>","operator");if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&t.eat(/b/i))return t.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return t.eat("*")?(e.tokenize=s,s(t,e)):t.eat("/")?(t.skipToEnd(),i("comment","comment")):At(t,e,1)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(t.eat("="),i("operator","operator",t.current()));if("`"==n)return e.tokenize=l,l(t,e);if("#"==n)return t.skipToEnd(),i("error","error");if(Ut.test(n))return">"==n&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=n&&"="!=n||t.eat("="):/[<>*+\-]/.test(n)&&(t.eat(n),">"==n&&t.eat(n))),i("operator","operator",t.current());if(Bt.test(n)){t.eatWhile(Bt);var o=t.current();if("."!=e.lastType){if(Ft.propertyIsEnumerable(o)){var u=Ft[o];return i(u.type,u.style,o)}if("async"==o&&t.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(t){return function(e,n){var r,a=!1;if(Dt&&"@"==e.peek()&&e.match(Vt))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=t||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(Nt){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l=Ht.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(Bt.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(e.fatArrowAt=a)}}function c(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function p(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}function f(t,e,n,r,i){var o=t.cc;for(qt.state=t,qt.stream=i,qt.marked=null,qt.cc=o,qt.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){if((o.length?o.pop():Rt?k:w)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return qt.marked?qt.marked:"variable"==n&&p(t,r)?"variable-2":e}}}function h(){for(var t=arguments.length-1;t>=0;t--)qt.cc.push(arguments[t])}function d(){return h.apply(null,arguments),!0}function m(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var r=qt.state;if(qt.marked="def",r.context){if(e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;n.globalVars&&(r.globalVars={name:t,next:r.globalVars})}}function y(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function v(){qt.state.context={prev:qt.state.context,vars:qt.state.localVars},qt.state.localVars=Gt}function g(){qt.state.localVars=qt.state.context.vars,qt.state.context=qt.state.context.prev}function b(t,e){var n=function(){var n=qt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,qt.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function _(){var t=qt.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function x(t){function e(n){return n==t?d():";"==t?h():d(e)}return e}function w(t,e){return"var"==t?d(b("vardef",e.length),nt,x(";"),_):"keyword a"==t?d(b("form"),S,w,_):"keyword b"==t?d(b("form"),w,_):"keyword d"==t?qt.stream.match(/^\s*$/,!1)?d():d(b("stat"),T,x(";"),_):"debugger"==t?d(x(";")):"{"==t?d(b("}"),W,_):";"==t?d():"if"==t?("else"==qt.state.lexical.info&&qt.state.cc[qt.state.cc.length-1]==_&&qt.state.cc.pop()(),d(b("form"),S,w,_,st)):"function"==t?d(ht):"for"==t?d(b("form"),lt,w,_):"class"==t||Nt&&"interface"==e?(qt.marked="keyword",d(b("form"),yt,_)):"variable"==t?Nt&&"declare"==e?(qt.marked="keyword",d(w)):Nt&&("module"==e||"enum"==e||"type"==e)&&qt.stream.match(/^\s*\w/,!1)?(qt.marked="keyword","enum"==e?d(Ot):"type"==e?d(X,x("operator"),X,x(";")):d(b("form"),rt,x("{"),b("}"),W,_,_)):Nt&&"namespace"==e?(qt.marked="keyword",d(b("form"),k,W,_)):d(b("stat"),R):"switch"==t?d(b("form"),S,x("{"),b("}","switch"),W,_,_):"case"==t?d(k,x(":")):"default"==t?d(x(":")):"catch"==t?d(b("form"),v,x("("),dt,x(")"),w,_,g):"export"==t?d(b("stat"),_t,_):"import"==t?d(b("stat"),wt,_):"async"==t?d(w):"@"==e?d(k,w):h(b("stat"),k,x(";"),_)}function k(t,e){return C(t,e,!1)}function E(t,e){return C(t,e,!0)}function S(t){return"("!=t?h():d(b(")"),k,x(")"),_)}function C(t,e,n){if(qt.state.fatArrowAt==qt.stream.start){var r=n?j:z;if("("==t)return d(v,b(")"),V(dt,")"),_,x("=>"),r,g);if("variable"==t)return h(v,rt,x("=>"),r,g)}var i=n?M:O;return Wt.hasOwnProperty(t)?d(i):"function"==t?d(ht,i):"class"==t||Nt&&"interface"==e?(qt.marked="keyword",d(b("form"),mt,_)):"keyword c"==t||"async"==t?d(n?E:k):"("==t?d(b(")"),T,x(")"),_,i):"operator"==t||"spread"==t?d(n?E:k):"["==t?d(b("]"),Tt,_,i):"{"==t?H(B,"}",null,i):"quasi"==t?h(P,i):"new"==t?d(I(n)):"import"==t?d(k):d()}function T(t){return t.match(/[;\}\)\],]/)?h():h(k)}function O(t,e){return","==t?d(k):M(t,e,!1)}function M(t,e,n){var r=0==n?O:M,i=0==n?k:E;return"=>"==t?d(v,n?j:z,g):"operator"==t?/\+\+|--/.test(e)||Nt&&"!"==e?d(r):Nt&&"<"==e&&qt.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?d(b(">"),V(X,">"),_,r):"?"==e?d(k,x(":"),i):d(i):"quasi"==t?h(P,r):";"!=t?"("==t?H(E,")","call",r):"."==t?d(N,r):"["==t?d(b("]"),T,x("]"),_,r):Nt&&"as"==e?(qt.marked="keyword",d(X,r)):"regexp"==t?(qt.state.lastType=qt.marked="operator",qt.stream.backUp(qt.stream.pos-qt.stream.start-1),d(i)):void 0:void 0}function P(t,e){return"quasi"!=t?h():"${"!=e.slice(e.length-2)?d(P):d(k,A)}function A(t){if("}"==t)return qt.marked="string-2",qt.state.tokenize=l,d(P)}function z(t){return u(qt.stream,qt.state),h("{"==t?w:k)}function j(t){return u(qt.stream,qt.state),h("{"==t?w:E)}function I(t){return function(e){return"."==e?d(t?D:L):"variable"==e&&Nt?d(Q,t?M:O):h(t?E:k)}}function L(t,e){if("target"==e)return qt.marked="keyword",d(O)}function D(t,e){if("target"==e)return qt.marked="keyword",d(M)}function R(t){return":"==t?d(_,w):h(O,x(";"),_)}function N(t){if("variable"==t)return qt.marked="property",d()}function B(t,e){if("async"==t)return qt.marked="property",d(B);if("variable"==t||"keyword"==qt.style){if(qt.marked="property","get"==e||"set"==e)return d(F);var n;return Nt&&qt.state.fatArrowAt==qt.stream.start&&(n=qt.stream.match(/^\s*:\s*/,!1))&&(qt.state.fatArrowAt=qt.stream.pos+n[0].length),d(U)}return"number"==t||"string"==t?(qt.marked=Dt?"property":qt.style+" property",d(U)):"jsonld-keyword"==t?d(U):Nt&&y(e)?(qt.marked="keyword",d(B)):"["==t?d(k,q,x("]"),U):"spread"==t?d(E,U):"*"==e?(qt.marked="keyword",d(B)):":"==t?h(U):void 0}function F(t){return"variable"!=t?h(U):(qt.marked="property",d(ht))}function U(t){return":"==t?d(E):"("==t?h(ht):void 0}function V(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=qt.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),d(function(n,r){return n==e||r==e?h():h(t)},r)}return i==e||o==e?d():d(x(e))}return function(n,i){return n==e||i==e?d():h(t,r)}}function H(t,e,n){for(var r=3;r<arguments.length;r++)qt.cc.push(arguments[r]);return d(b(e,n),V(t,e),_)}function W(t){return"}"==t?d():h(w,W)}function q(t,e){if(Nt){if(":"==t)return d(X);if("?"==e)return d(q)}}function G(t){if(Nt&&":"==t)return qt.stream.match(/^\s*\w+\s+is\b/,!1)?d(k,Z,X):d(X)}function Z(t,e){if("is"==e)return qt.marked="keyword",d()}function X(t,e){return"variable"==t||"void"==e?"keyof"==e?(qt.marked="keyword",d(X)):(qt.marked="type",d(J)):"string"==t||"number"==t||"atom"==t?d(J):"["==t?d(b("]"),V(X,"]",","),_,J):"{"==t?d(b("}"),V(K,"}",",;"),_,J):"("==t?d(V($,")"),Y):void 0}function Y(t){if("=>"==t)return d(X)}function K(t,e){return"variable"==t||"keyword"==qt.style?(qt.marked="property",d(K)):"?"==e?d(K):":"==t?d(X):"["==t?d(k,q,x("]"),K):void 0}function $(t){return"variable"==t?d($):":"==t?d(X):void 0}function J(t,e){return"<"==e?d(b(">"),V(X,">"),_,J):"|"==e||"."==t||"&"==e?d(X):"["==t?d(x("]"),J):"extends"==e||"implements"==e?(qt.marked="keyword",d(X)):void 0}function Q(t,e){if("<"==e)return d(b(">"),V(X,">"),_,J)}function tt(){return h(X,et)}function et(t,e){if("="==e)return d(X)}function nt(t,e){return"enum"==e?(qt.marked="keyword",d(Ot)):h(rt,q,ot,at)}function rt(t,e){return Nt&&y(e)?(qt.marked="keyword",d(rt)):"variable"==t?(m(e),d()):"spread"==t?d(rt):"["==t?H(rt,"]"):"{"==t?H(it,"}"):void 0}function it(t,e){return"variable"!=t||qt.stream.match(/^\s*:/,!1)?("variable"==t&&(qt.marked="property"),"spread"==t?d(rt):"}"==t?h():d(x(":"),rt,ot)):(m(e),d(ot))}function ot(t,e){if("="==e)return d(E)}function at(t){if(","==t)return d(nt)}function st(t,e){if("keyword b"==t&&"else"==e)return d(b("form","else"),w,_)}function lt(t,e){return"await"==e?d(lt):"("==t?d(b(")"),ut,x(")"),_):void 0}function ut(t){return"var"==t?d(nt,x(";"),pt):";"==t?d(pt):"variable"==t?d(ct):h(k,x(";"),pt)}function ct(t,e){return"in"==e||"of"==e?(qt.marked="keyword",d(k)):d(O,pt)}function pt(t,e){return";"==t?d(ft):"in"==e||"of"==e?(qt.marked="keyword",d(k)):h(k,x(";"),ft)}function ft(t){")"!=t&&d(k)}function ht(t,e){return"*"==e?(qt.marked="keyword",d(ht)):"variable"==t?(m(e),d(ht)):"("==t?d(v,b(")"),V(dt,")"),_,G,w,g):Nt&&"<"==e?d(b(">"),V(tt,">"),_,ht):void 0}function dt(t,e){return"@"==e&&d(k,dt),"spread"==t?d(dt):Nt&&y(e)?(qt.marked="keyword",d(dt)):h(rt,q,ot)}function mt(t,e){return"variable"==t?yt(t,e):vt(t,e)}function yt(t,e){if("variable"==t)return m(e),d(vt)}function vt(t,e){return"<"==e?d(b(">"),V(tt,">"),_,vt):"extends"==e||"implements"==e||Nt&&","==t?("implements"==e&&(qt.marked="keyword"),d(Nt?X:k,vt)):"{"==t?d(b("}"),gt,_):void 0}function gt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||Nt&&y(e))&&qt.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(qt.marked="keyword",d(gt)):"variable"==t||"keyword"==qt.style?(qt.marked="property",d(Nt?bt:ht,gt)):"["==t?d(k,q,x("]"),Nt?bt:ht,gt):"*"==e?(qt.marked="keyword",d(gt)):";"==t?d(gt):"}"==t?d():"@"==e?d(k,gt):void 0}function bt(t,e){return"?"==e?d(bt):":"==t?d(X,ot):"="==e?d(E):h(ht)}function _t(t,e){return"*"==e?(qt.marked="keyword",d(Ct,x(";"))):"default"==e?(qt.marked="keyword",d(k,x(";"))):"{"==t?d(V(xt,"}"),Ct,x(";")):h(w)}function xt(t,e){return"as"==e?(qt.marked="keyword",d(x("variable"))):"variable"==t?h(E,xt):void 0}function wt(t){return"string"==t?d():"("==t?h(k):h(kt,Et,Ct)}function kt(t,e){return"{"==t?H(kt,"}"):("variable"==t&&m(e),"*"==e&&(qt.marked="keyword"),d(St))}function Et(t){if(","==t)return d(kt,Et)}function St(t,e){if("as"==e)return qt.marked="keyword",d(kt)}function Ct(t,e){if("from"==e)return qt.marked="keyword",d(k)}function Tt(t){return"]"==t?d():h(V(E,"]"))}function Ot(){return h(b("form"),rt,x("{"),b("}"),V(Mt,"}"),_,_)}function Mt(){return h(rt,ot)}function Pt(t,e){return"operator"==t.lastType||","==t.lastType||Ut.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}function At(t,e,n){return e.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}var zt,jt,It=e.indentUnit,Lt=n.statementIndent,Dt=n.jsonld,Rt=n.json||Dt,Nt=n.typescript,Bt=n.wordCharacters||/[\w$\xa1-\uffff]/,Ft=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),Ut=/[+\-*&%=<>!?|~^@]/,Vt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ht="([{}])",Wt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},qt={state:null,column:null,marked:null,cc:null},Gt={name:"this",next:{name:"arguments"}};return _.lex=!0,{startState:function(t){var e={tokenize:o,lastType:"sof",cc:[],lexical:new c((t||0)-It,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=s&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==zt?n:(e.lastType="operator"!=zt||"++"!=jt&&"--"!=jt?zt:"incdec",f(e,n,zt,jt,t))},indent:function(e,r){if(e.tokenize==s)return t.Pass;if(e.tokenize!=o)return 0;var i,a=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==_)l=l.prev;else if(c!=st)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(i=e.cc[e.cc.length-1])&&(i==O||i==M)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;Lt&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var p=l.type,f=a==p;return"vardef"==p?l.indented+("operator"==e.lastType||","==e.lastType?l.info+1:0):"form"==p&&"{"==a?l.indented:"form"==p?l.indented+It:"stat"==p?l.indented+(Pt(e,r)?Lt||It:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:It):l.indented+(/^(?:case|default)\b/.test(r)?It:2*It)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Rt?null:"/*",blockCommentEnd:Rt?null:"*/",blockCommentContinue:Rt?null:" * ",lineComment:Rt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Rt?"json":"javascript",jsonldMode:Dt,jsonMode:Rt,expressionAllowed:At,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=k&&e!=E||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(400),u=(n.n(l),n(169)),c=n.n(u),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"render",value:function(){var t=this.props,e=t.value,n=t.onChange,r=t.componentWidth;return s.a.createElement(l.CirclePicker,{color:e,onChangeComplete:function(t){return n(t.hex)},width:""+r,circleSpacing:5,circleSize:18})}}]),e}(a.Component);e.a=c()()(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPicker=e.TwitterPicker=e.SwatchesPicker=e.SliderPicker=e.SketchPicker=e.PhotoshopPicker=e.MaterialPicker=e.HuePicker=e.GithubPicker=e.CompactPicker=e.ChromePicker=e.default=e.CirclePicker=e.BlockPicker=e.AlphaPicker=void 0;var i=n(401);Object.defineProperty(e,"AlphaPicker",{enumerable:!0,get:function(){return r(i).default}});var o=n(445);Object.defineProperty(e,"BlockPicker",{enumerable:!0,get:function(){return r(o).default}});var a=n(447);Object.defineProperty(e,"CirclePicker",{enumerable:!0,get:function(){return r(a).default}});var s=n(449);Object.defineProperty(e,"ChromePicker",{enumerable:!0,get:function(){return r(s).default}});var l=n(453);Object.defineProperty(e,"CompactPicker",{enumerable:!0,get:function(){return r(l).default}});var u=n(456);Object.defineProperty(e,"GithubPicker",{enumerable:!0,get:function(){return r(u).default}});var c=n(458);Object.defineProperty(e,"HuePicker",{enumerable:!0,get:function(){return r(c).default}});var p=n(460);Object.defineProperty(e,"MaterialPicker",{enumerable:!0,get:function(){return r(p).default}});var f=n(461);Object.defineProperty(e,"PhotoshopPicker",{enumerable:!0,get:function(){return r(f).default}});var h=n(467);Object.defineProperty(e,"SketchPicker",{enumerable:!0,get:function(){return r(h).default}});var d=n(470);Object.defineProperty(e,"SliderPicker",{enumerable:!0,get:function(){return r(d).default}});var m=n(474);Object.defineProperty(e,"SwatchesPicker",{enumerable:!0,get:function(){return r(m).default}});var y=n(477);Object.defineProperty(e,"TwitterPicker",{enumerable:!0,get:function(){return r(y).default}});var v=n(167);Object.defineProperty(e,"CustomPicker",{enumerable:!0,get:function(){return r(v).default}});var g=r(s);e.default=g.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPicker=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(3),c=n(444),p=r(c),f=e.AlphaPicker=function(t){var e=t.rgb,n=t.hsl,r=t.width,o=t.height,s=t.onChange,c=t.direction,p=t.style,f=t.renderers,h=t.pointer,d=t.className,m=void 0===d?"":d,y=(0,l.default)({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:p}}});return a.default.createElement("div",{style:y.picker,className:"alpha-picker "+m},a.default.createElement(u.Alpha,i({},y.alpha,{rgb:e,hsl:n,pointer:h,renderers:f,onChange:s,direction:c})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:p.default},e.default=(0,u.ColorWrap)(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.flattenNames=void 0;var i=n(403),o=r(i),a=n(91),s=r(a),l=n(160),u=r(l),c=n(12),p=r(c),f=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,p.default)(e,function(e){Array.isArray(e)?t(e).map(function(t){return n.push(t)}):(0,u.default)(e)?(0,s.default)(e,function(t,e){!0===t&&n.push(e),n.push(e+"-"+t)}):(0,o.default)(e)&&n.push(e)}),n};e.default=f},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==s}var i=n(16),o=n(6),a=n(13),s="[object String]";t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeClasses=void 0;var i=n(91),o=r(i),a=n(405),s=r(a),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.default&&(0,s.default)(t.default)||{};return e.map(function(e){var r=t[e];return r&&(0,o.default)(r,function(t,e){n[e]||(n[e]={}),n[e]=l({},n[e],r[e])}),e}),n};e.default=u},function(t,e,n){function r(t){return i(t,o|a)}var i=n(161),o=1,a=4;t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(28),o=n(20);t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(28),o=n(162);t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&l.call(t,r))&&n.push(r);return n}var i=n(9),o=n(81),a=n(409),s=Object.prototype,l=s.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}var i=n(5),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,l=s?i.Buffer:void 0,u=l?l.allocUnsafe:void 0;t.exports=r}).call(e,n(42)(t))},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(28),o=n(75);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(28),o=n(163);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case v:return i(t);case u:case c:return new r(+t);case g:return o(t,n);case b:case _:case x:case w:case k:case E:case S:case C:case T:return l(t,n);case p:return new r;case f:case m:return new r(t);case h:return a(t);case d:return new r;case y:return s(t)}}var i=n(93),o=n(415),a=n(416),s=n(417),l=n(418),u="[object Boolean]",c="[object Date]",p="[object Map]",f="[object Number]",h="[object RegExp]",d="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(93);t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(19),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(93);t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(50),o=n(92),a=n(81);t.exports=r},function(t,e,n){var r=n(421),i=n(79),o=n(80),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(45),o=n(13),a="[object Map]";t.exports=r},function(t,e,n){var r=n(423),i=n(79),o=n(80),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(45),o=n(13),a="[object Set]";t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autoprefix=void 0;var r=n(91),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ");return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){var n=e[t];return n||{extend:t}}},s=e.autoprefix=function(t){var e={};return(0,i.default)(t,function(t,n){var r={};(0,i.default)(t,function(t,e){var n=a[e];n?r=o({},r,n(t)):r[e]=t}),e[n]=r}),e};e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.hover=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(0),l=function(t){return t&&t.__esModule?t:{default:t}}(s),u=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,u,c;r(this,s);for(var p=arguments.length,f=Array(p),h=0;h<p;h++)f[h]=arguments[h];return o=u=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(f))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return l.default.createElement(e,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},l.default.createElement(t,a({},u.props,u.state)))},c=o,i(u,c)}return o(s,n),s}(l.default.Component)};e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.active=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(0),l=function(t){return t&&t.__esModule?t:{default:t}}(s),u=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var n,o,u,c;r(this,s);for(var p=arguments.length,f=Array(p),h=0;h<p;h++)f[h]=arguments[h];return o=u=i(this,(n=s.__proto__||Object.getPrototypeOf(s)).call.apply(n,[this].concat(f))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return l.default.createElement(e,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},l.default.createElement(t,a({},u.props,u.state)))},c=o,i(u,c)}return o(s,n),s}(l.default.Component)};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n={},r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[t]=e};return 0===t&&r("first-child"),t===e-1&&r("last-child"),(0===t||t%2===0)&&r("even"),1===Math.abs(t%2)&&r("odd"),r("nth-child",t),n};e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Alpha=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),p=n(1),f=r(p),h=n(429),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),m=n(165),y=r(m),v=e.Alpha=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleChange=function(t,e){var n=d.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},a=n,o(r,a)}return a(e,t),l(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=this.props.rgb,n=(0,f.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:s({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return c.default.createElement("div",{style:n.alpha},c.default.createElement("div",{style:n.checkboard},c.default.createElement(y.default,{renderers:this.props.renderers})),c.default.createElement("div",{style:n.gradient}),c.default.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:n.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:n.slider}))))}}]),e}(u.PureComponent||u.Component);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var p=void 0;if(p=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==p)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:p,source:"rgb"}}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},i=e.render=function(t,e,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=e,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};e.get=function(t,e,n,o){var a=t+"-"+e+"-"+n+(o?"-server":""),s=i(t,e,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EditableInput=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),p=n(1),f=r(p),h=e.EditableInput=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(t){n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,t.target.value),t):n.props.onChange&&n.props.onChange(t.target.value,t),n.setState({value:t.target.value})},n.handleKeyDown=function(t){var e=String(t.target.value),r=e.indexOf("%")>-1,o=Number(e.replace(/%/g,""));if(!isNaN(o)){var a=n.props.arrowOffset||1;38===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o+a),t):n.props.onChange&&n.props.onChange(o+a,t),r?n.setState({value:o+a+"%"}):n.setState({value:o+a})),40===t.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(i({},n.props.label,o-a),t):n.props.onChange&&n.props.onChange(o-a,t),r?n.setState({value:o-a+"%"}):n.setState({value:o-a}))}},n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX);e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(i({},n.props.label,e),t)}},n.handleMouseDown=function(t){n.props.dragLabel&&(t.preventDefault(),n.handleDrag(t),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()},n}return s(e,t),l(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.input;t.value!==this.state.value&&(e===document.activeElement?this.setState({blurValue:String(t.value).toUpperCase()}):this.setState({value:String(t.value).toUpperCase(),blurValue:!this.state.blurValue&&String(t.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,e=(0,f.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return c.default.createElement("div",{style:e.wrap},c.default.createElement("input",{style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?c.default.createElement("span",{style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(u.PureComponent||u.Component);e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Hue=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=r(l),c=n(1),p=r(c),f=n(433),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),d=e.Hue=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.handleChange=function(t,e){var n=h.calculateChange(t,e,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,t)},r.handleMouseDown=function(t){r.handleChange(t,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},a=n,o(r,a)}return a(e,t),s(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.direction,n=void 0===e?"horizontal":e,r=(0,p.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return u.default.createElement("div",{style:r.hue},u.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),u.default.createElement("div",{style:r.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:r.slider}))))}}]),e}(l.PureComponent||l.Component);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,s="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(u<0)c=359;else if(u>o)c=0;else{var p=-100*u/o+100;c=360*p/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var f=void 0;if(l<0)f=0;else if(l>i)f=359;else{var h=100*l/i;f=360*h/100}if(n.hsl.h!==f)return{h:f,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Raised=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=e.Raised=function(t){var e=t.zDepth,n=t.radius,r=t.background,i=t.children,a=(0,u.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===e});return o.default.createElement("div",{style:a.wrap},o.default.createElement("div",{style:a.bg}),o.default.createElement("div",{style:a.content},i))};c.propTypes={background:s.default.string,zDepth:s.default.oneOf([0,1,2,3,4,5]),radius:s.default.number},c.defaultProps={background:"#fff",zDepth:1,radius:2},e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Saturation=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=r(l),c=n(1),p=r(c),f=n(436),h=r(f),d=n(438),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),y=e.Saturation=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=function(t,e){n.props.onChange&&n.throttle(n.props.onChange,m.calculateChange(t,e,n.props,n.container),t)},n.handleMouseDown=function(t){n.handleChange(t,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,h.default)(function(t,e,n){t(e,n)},50),n}return a(e,t),s(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,e=this.props.style||{},n=e.color,r=e.white,i=e.black,o=e.pointer,a=e.circle,s=(0,p.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:a}},{custom:!!this.props.style});return u.default.createElement("div",{style:s.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},u.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),u.default.createElement("div",{style:s.white,className:"saturation-white"},u.default.createElement("div",{style:s.black,className:"saturation-black"}),u.default.createElement("div",{style:s.pointer},this.props.pointer?u.default.createElement(this.props.pointer,this.props):u.default.createElement("div",{style:s.circle}))))}}]),e}(l.PureComponent||l.Component);e.default=y},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(166),o=n(9),a="Expected a function";t.exports=r},function(t,e,n){var r=n(5),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calculateChange=function(t,e,n,r){t.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"===typeof t.pageX?t.pageX:t.touches[0].pageX,l="number"===typeof t.pageY?t.pageY:t.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var p=100*u/o,f=-100*c/a+100;return{h:n.hsl.h,s:p,v:f,a:n.hsl.a,source:"rgb"}}},function(t,e,n){t.exports=n(440)},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(89),o=n(140),a=n(159),s=n(6);t.exports=r},function(t,e,n){var r;!function(i){function o(t,e){if(t=t||"",e=e||{},t instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=a(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=W(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=W(this._r)),this._g<1&&(this._g=W(this._g)),this._b<1&&(this._b=W(this._b)),this._ok=n.ok,this._tc_id=H++}function a(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,l=!1;return"string"==typeof t&&(t=B(t)),"object"==typeof t&&(N(t.r)&&N(t.g)&&N(t.b)?(e=s(t.r,t.g,t.b),a=!0,l="%"===String(t.r).substr(-1)?"prgb":"rgb"):N(t.h)&&N(t.s)&&N(t.v)?(r=L(t.s),i=L(t.v),e=p(t.h,r,i),a=!0,l="hsv"):N(t.h)&&N(t.s)&&N(t.l)&&(r=L(t.s),o=L(t.l),e=u(t.h,r,o),a=!0,l="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=O(n),{ok:a,format:t.format||l,r:q(255,G(e.r,0)),g:q(255,G(e.g,0)),b:q(255,G(e.b,0)),a:n}}function s(t,e,n){return{r:255*M(t,255),g:255*M(e,255),b:255*M(n,255)}}function l(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,o=G(t,e,n),a=q(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function u(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,a;if(t=M(t,360),e=M(e,100),n=M(n,100),0===e)i=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=r(l,s,t+1/3),o=r(l,s,t),a=r(l,s,t-1/3)}return{r:255*i,g:255*o,b:255*a}}function c(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var r,i,o=G(t,e,n),a=q(t,e,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function p(t,e,n){t=6*M(t,360),e=M(e,100),n=M(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function f(t,e,n,r){var i=[I(W(t).toString(16)),I(W(e).toString(16)),I(W(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(t,e,n,r,i){var o=[I(W(t).toString(16)),I(W(e).toString(16)),I(W(n).toString(16)),I(D(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(t,e,n,r){return[I(D(r)),I(W(t).toString(16)),I(W(e).toString(16)),I(W(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=P(n.s),o(n)}function y(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=P(n.s),o(n)}function v(t){return o(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=P(n.l),o(n)}function b(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=G(0,q(255,n.r-W(-e/100*255))),n.g=G(0,q(255,n.g-W(-e/100*255))),n.b=G(0,q(255,n.b-W(-e/100*255))),o(n)}function _(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=P(n.l),o(n)}function x(t,e){var n=o(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,o(n)}function w(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function k(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+120)%360,s:e.s,l:e.l}),o({h:(n+240)%360,s:e.s,l:e.l})]}function E(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+90)%360,s:e.s,l:e.l}),o({h:(n+180)%360,s:e.s,l:e.l}),o({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var r=o(t).toHsl(),i=360/n,a=[o(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(o(r));return a}function T(t,e){e=e||6;for(var n=o(t).toHsv(),r=n.h,i=n.s,a=n.v,s=[],l=1/e;e--;)s.push(o({h:r,s:i,v:a})),a=(a+l)%1;return s}function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function M(t,e){z(t)&&(t="100%");var n=j(t);return t=q(e,G(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return q(1,G(0,t))}function A(t){return parseInt(t,16)}function z(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function j(t){return"string"===typeof t&&-1!=t.indexOf("%")}function I(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}function D(t){return i.round(255*parseFloat(t)).toString(16)}function R(t){return A(t)/255}function N(t){return!!K.CSS_UNIT.exec(t)}function B(t){t=t.replace(U,"").replace(V,"").toLowerCase();var e=!1;if(X[t])t=X[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(t))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:R(n[4]),format:e?"name":"hex8"}:(n=K.hex6.exec(t))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:e?"name":"hex"}:(n=K.hex4.exec(t))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:R(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=K.hex3.exec(t))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:e?"name":"hex"}}function F(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var U=/^\s+/,V=/\s+$/,H=0,W=i.round,q=i.min,G=i.max,Z=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,o,a,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,r=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(t){return this._a=O(t),this._roundA=W(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=W(360*t.h),n=W(100*t.s),r=W(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=l(this._r,this._g,this._b),e=W(360*t.h),n=W(100*t.s),r=W(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return h(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:W(this._r),g:W(this._g),b:W(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+W(this._r)+", "+W(this._g)+", "+W(this._b)+")":"rgba("+W(this._r)+", "+W(this._g)+", "+W(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:W(100*M(this._r,255))+"%",g:W(100*M(this._g,255))+"%",b:W(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+W(100*M(this._r,255))+"%, "+W(100*M(this._g,255))+"%, "+W(100*M(this._b,255))+"%)":"rgba("+W(100*M(this._r,255))+"%, "+W(100*M(this._g,255))+"%, "+W(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Y[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+d(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=o(t);n="#"+d(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},o.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:L(t[r]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:Z(),g:Z(),b:Z()})},o.mix=function(t,e,n){n=0===n?0:n||50;var r=o(t).toRgb(),i=o(e).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(t,e){var n=o(t),r=o(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(t,e,n){var r,i,a=o.readability(t,e);switch(i=!1,r=F(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(t,e,n){var r,i,a,s,l=null,u=0;n=n||{},i=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<e.length;c++)(r=o.readability(t,e[c]))>u&&(u=r,l=o(e[c]));return o.isReadable(t,l,{level:a,size:s})||!i?l:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var X=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=o.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(X),K=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!==typeof t&&t.exports?t.exports=o:void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)}(Math)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Swatch=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(443),c=n(3),p=e.Swatch=function(t){var e=t.color,n=t.style,r=t.onClick,o=void 0===r?function(){}:r,s=t.onHover,u=t.title,p=void 0===u?e:u,f=t.children,h=t.focus,d=t.focusStyle,m=void 0===d?{}:d,y="transparent"===e,v=(0,l.default)({default:{swatch:i({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?m:{})}}),g=function(t){return o(e,t)},b=function(t){return 13===t.keyCode&&o(e,t)},_=function(t){return s(e,t)},x={};return s&&(x.onMouseOver=_),a.default.createElement("div",i({style:v.swatch,onClick:g,title:p,tabIndex:0,onKeyDown:b},x),f,y&&a.default.createElement(c.Checkboard,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};e.default=(0,u.handleFocus)(p)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.handleFocus=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(l);e.handleFocus=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function l(){var t,e,n,o;r(this,l);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return e=n=i(this,(t=l.__proto__||Object.getPrototypeOf(l)).call.apply(t,[this].concat(s))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},o=e,i(n,o)}return o(l,n),s(l,[{key:"render",value:function(){return u.default.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},u.default.createElement(t,a({},this.props,this.state)))}}]),l}(u.default.Component)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.AlphaPointer=function(t){var e=t.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return o.default.createElement("div",{style:n.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(10),p=r(c),f=n(3),h=n(446),d=r(h),m=e.Block=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,i=t.colors,a=t.width,s=t.triangle,l=t.className,c=void 0===l?"":l,h="transparent"===r,m=function(t,n){p.default.isValidHex(t)&&e({hex:t,source:"hex"},n)},y=(0,u.default)({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p.default.getContrastingColor(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===s});return o.default.createElement("div",{style:y.card,className:"block-picker "+c},o.default.createElement("div",{style:y.triangle}),o.default.createElement("div",{style:y.head},h&&o.default.createElement(f.Checkboard,{borderRadius:"6px 6px 0 0"}),o.default.createElement("div",{style:y.label},r)),o.default.createElement("div",{style:y.body},o.default.createElement(d.default,{colors:i,onClick:m,onSwatchHover:n}),o.default.createElement(f.EditableInput,{style:{input:y.input},value:r,onChange:m})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["top","hide"])},m.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},e.default=(0,f.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BlockSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(12),u=r(l),c=n(3),p=e.BlockSwatches=function(t){var e=t.colors,n=t.onClick,r=t.onSwatchHover,i=(0,s.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return o.default.createElement("div",{style:i.swatches},(0,u.default)(e,function(t){return o.default.createElement(c.Swatch,{key:t,color:t,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}})}),o.default.createElement("div",{style:i.clear}))};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(12),p=r(c),f=n(168),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),d=n(3),m=n(448),y=r(m),v=e.Circle=function(t){var e=t.width,n=t.onChange,r=t.onSwatchHover,i=t.colors,a=t.hex,s=t.circleSize,l=t.circleSpacing,c=t.className,f=void 0===c?"":c,h=(0,u.default)({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-l,marginBottom:-l}}}),d=function(t,e){return n({hex:t,source:"hex"},e)};return o.default.createElement("div",{style:h.card,className:"circle-picker "+f},(0,p.default)(i,function(t){return o.default.createElement(y.default,{key:t,color:t,onClick:d,onSwatchHover:r,active:a===t.toLowerCase(),circleSize:s,circleSpacing:l})}))};v.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),circleSize:s.default.number,circleSpacing:s.default.number},v.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[h.red[500],h.pink[500],h.purple[500],h.deepPurple[500],h.indigo[500],h.blue[500],h.lightBlue[500],h.cyan[500],h.teal[500],h.green[500],h.lightGreen[500],h.lime[500],h.yellow[500],h.amber[500],h.orange[500],h.deepOrange[500],h.brown[500],h.blueGrey[500]]},e.default=(0,d.ColorWrap)(v)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CircleSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),u=e.CircleSwatch=function(t){var e=t.color,n=t.onClick,r=t.onSwatchHover,i=t.hover,a=t.active,u=t.circleSize,c=t.circleSpacing,p=(0,s.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:i,active:a});return o.default.createElement("div",{style:p.swatch},o.default.createElement(l.Swatch,{style:p.Swatch,color:e,onClick:n,onHover:r,focusStyle:{boxShadow:p.Swatch.boxShadow+", 0 0 5px "+e}}))};u.defaultProps={circleSize:28,circleSpacing:14},e.default=(0,a.handleHover)(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Chrome=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(3),p=n(450),f=r(p),h=n(451),d=r(h),m=n(452),y=r(m),v=e.Chrome=function(t){var e=t.onChange,n=t.disableAlpha,r=t.rgb,i=t.hsl,a=t.hsv,s=t.hex,l=t.renderers,p=t.className,h=void 0===p?"":p,m=(0,u.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return o.default.createElement("div",{style:m.picker,className:"chrome-picker "+h},o.default.createElement("div",{style:m.saturation},o.default.createElement(c.Saturation,{style:m.Saturation,hsl:i,hsv:a,pointer:y.default,onChange:e})),o.default.createElement("div",{style:m.body},o.default.createElement("div",{style:m.controls,className:"flexbox-fix"},o.default.createElement("div",{style:m.color},o.default.createElement("div",{style:m.swatch},o.default.createElement("div",{style:m.active}),o.default.createElement(c.Checkboard,{renderers:l}))),o.default.createElement("div",{style:m.toggles},o.default.createElement("div",{style:m.hue},o.default.createElement(c.Hue,{style:m.Hue,hsl:i,pointer:d.default,onChange:e})),o.default.createElement("div",{style:m.alpha},o.default.createElement(c.Alpha,{style:m.Alpha,rgb:r,hsl:i,pointer:d.default,renderers:l,onChange:e})))),o.default.createElement(f.default,{rgb:r,hsl:i,hex:s,onChange:e,disableAlpha:n})))};v.propTypes={disableAlpha:s.default.bool},v.defaultProps={disableAlpha:!1},e.default=(0,c.ColorWrap)(v)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromeFields=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=r(l),c=n(1),p=r(c),f=n(10),h=r(f),d=n(3),m=e.ChromeFields=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(t,e){t.hex?h.default.isValidHex(t.hex)&&r.props.onChange({hex:t.hex,source:"hex"},e):t.r||t.g||t.b?r.props.onChange({r:t.r||r.props.rgb.r,g:t.g||r.props.rgb.g,b:t.b||r.props.rgb.b,source:"rgb"},e):t.a?(t.a<0?t.a=0:t.a>1&&(t.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},e)):(t.h||t.s||t.l)&&r.props.onChange({h:t.h||r.props.hsl.h,s:Number(t.s&&t.s||r.props.hsl.s),l:Number(t.l&&t.l||r.props.hsl.l),source:"hsl"},e)},r.showHighlight=function(t){t.target.style.background="#eee"},r.hideHighlight=function(t){t.target.style.background="transparent"},a=n,o(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(t){1!==t.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var t=this,e=(0,p.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=u.default.createElement("div",{style:e.fields,className:"flexbox-fix"},u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=u.default.createElement("div",{style:e.fields,className:"flexbox-fix"},u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),u.default.createElement("div",{style:e.alpha},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=u.default.createElement("div",{style:e.fields,className:"flexbox-fix"},u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:e.field},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),u.default.createElement("div",{style:e.alpha},u.default.createElement(d.EditableInput,{style:{input:e.input,label:e.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),u.default.createElement("div",{style:e.wrap,className:"flexbox-fix"},n,u.default.createElement("div",{style:e.toggle},u.default.createElement("div",{style:e.icon,onClick:this.toggleViews,ref:function(e){return t.icon=e}},u.default.createElement("svg",{style:e.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},u.default.createElement("path",{ref:function(e){return t.iconUp=e},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),u.default.createElement("path",{ref:function(e){return t.iconDown=e},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),e}(u.default.Component);e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.ChromePointer=function(){var t=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:t.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChromePointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.ChromePointerCircle=function(){var t=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return o.default.createElement("div",{style:t.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Compact=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(12),p=r(c),f=n(10),h=r(f),d=n(3),m=n(454),y=r(m),v=n(455),g=r(v),b=e.Compact=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.colors,i=t.hex,a=t.rgb,s=t.className,l=void 0===s?"":s,c=(0,u.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),f=function(t,n){t.hex?h.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},n):e(t,n)};return o.default.createElement(d.Raised,{style:c.Compact},o.default.createElement("div",{style:c.compact,className:"compact-picker "+l},o.default.createElement("div",null,(0,p.default)(r,function(t){return o.default.createElement(y.default,{key:t,color:t,active:t.toLowerCase()===i,onClick:f,onSwatchHover:n})}),o.default.createElement("div",{style:c.clear})),o.default.createElement(g.default,{hex:i,rgb:a,onChange:f})))};b.propTypes={colors:s.default.arrayOf(s.default.string)},b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},e.default=(0,d.ColorWrap)(b)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompactColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=n(3),p=e.CompactColor=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,i=t.onSwatchHover,a=t.active,l=(0,s.default)({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:u.default.getContrastingColor(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return o.default.createElement(c.Swatch,{style:l.color,color:e,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},o.default.createElement("div",{style:l.dot}))};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CompactFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),u=e.CompactFields=function(t){var e=t.hex,n=t.rgb,r=t.onChange,i=(0,s.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(t,e){t.r||t.g||t.b?r({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},e):r({hex:t.hex,source:"hex"},e)};return o.default.createElement("div",{style:i.fields,className:"flexbox-fix"},o.default.createElement("div",{style:i.active}),o.default.createElement(l.EditableInput,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:e,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),o.default.createElement(l.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Github=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(12),p=r(c),f=n(3),h=n(457),d=r(h),m=e.Github=function(t){var e=t.width,n=t.colors,r=t.onChange,i=t.onSwatchHover,a=t.triangle,s=t.className,l=void 0===s?"":s,c=(0,u.default)({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"==a,"bottom-right-triangle":"bottom-right"===a}),f=function(t,e){return r({hex:t,source:"hex"},e)};return o.default.createElement("div",{style:c.card,className:"github-picker "+l},o.default.createElement("div",{style:c.triangleShadow}),o.default.createElement("div",{style:c.triangle}),(0,p.default)(n,function(t){return o.default.createElement(d.default,{color:t,key:t,onClick:f,onSwatchHover:i})}))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.string),triangle:s.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},m.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},e.default=(0,f.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.GithubSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),u=e.GithubSwatch=function(t){var e=t.hover,n=t.color,r=t.onClick,i=t.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,s.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:e});return o.default.createElement("div",{style:u.swatch},o.default.createElement(l.Swatch,{color:n,onClick:r,onHover:i,focusStyle:a}))};e.default=(0,a.handleHover)(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HuePicker=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(1),l=r(s),u=n(3),c=n(459),p=r(c),f=e.HuePicker=function(t){var e=t.width,n=t.height,r=t.onChange,o=t.hsl,s=t.direction,c=t.pointer,p=t.className,f=void 0===p?"":p,h=(0,l.default)({default:{picker:{position:"relative",width:e,height:n},hue:{radius:"2px"}}}),d=function(t){return r({a:1,h:t.h,l:.5,s:1})};return a.default.createElement("div",{style:h.picker,className:"hue-picker "+f},a.default.createElement(u.Hue,i({},h.hue,{hsl:o,pointer:c,onChange:d,direction:s})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:p.default},e.default=(0,u.ColorWrap)(f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.SliderPointer=function(t){var e=t.direction,n=(0,s.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===e});return o.default.createElement("div",{style:n.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Material=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=n(3),p=e.Material=function(t){var e=t.onChange,n=t.hex,r=t.rgb,i=t.className,a=void 0===i?"":i,l=(0,s.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),p=function(t,n){t.hex?u.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},n):(t.r||t.g||t.b)&&e({r:t.r||r.r,g:t.g||r.g,b:t.b||r.b,source:"rgb"},n)};return o.default.createElement(c.Raised,null,o.default.createElement("div",{style:l.material,className:"material-picker "+a},o.default.createElement(c.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:p}),o.default.createElement("div",{style:l.split,className:"flexbox-fix"},o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:p})),o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:p})),o.default.createElement("div",{style:l.third},o.default.createElement(c.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:p})))))};e.default=(0,c.ColorWrap)(p)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Photoshop=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),u=r(l),c=n(2),p=r(c),f=n(1),h=r(f),d=n(3),m=n(462),y=r(m),v=n(463),g=r(v),b=n(464),_=r(b),x=n(465),w=r(x),k=n(466),E=r(k),S=e.Photoshop=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:t.hex},n}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props.className,e=void 0===t?"":t,n=(0,h.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return u.default.createElement("div",{style:n.picker,className:"photoshop-picker "+e},u.default.createElement("div",{style:n.head},this.props.header),u.default.createElement("div",{style:n.body,className:"flexbox-fix"},u.default.createElement("div",{style:n.saturation},u.default.createElement(d.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:g.default,onChange:this.props.onChange})),u.default.createElement("div",{style:n.hue},u.default.createElement(d.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:_.default,onChange:this.props.onChange})),u.default.createElement("div",{style:n.controls},u.default.createElement("div",{style:n.top,className:"flexbox-fix"},u.default.createElement("div",{style:n.previews},u.default.createElement(E.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),u.default.createElement("div",{style:n.actions},u.default.createElement(w.default,{label:"OK",onClick:this.props.onAccept,active:!0}),u.default.createElement(w.default,{label:"Cancel",onClick:this.props.onCancel}),u.default.createElement(y.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(u.default.Component);S.propTypes={header:p.default.string},S.defaultProps={header:"Color Picker"},e.default=(0,d.ColorWrap)(S)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPicker=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=n(3),p=e.PhotoshopPicker=function(t){var e=t.onChange,n=t.rgb,r=t.hsv,i=t.hex,a=(0,s.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(t,i){t["#"]?u.default.isValidHex(t["#"])&&e({hex:t["#"],source:"hex"},i):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,source:"rgb"},i):(t.h||t.s||t.v)&&e({h:t.h||r.h,s:t.s||r.s,v:t.v||r.v,source:"hsv"},i)};return o.default.createElement("div",{style:a.fields},o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:l}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:l}),o.default.createElement(c.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:l}),o.default.createElement("div",{style:a.divider}),o.default.createElement(c.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:l}),o.default.createElement("div",{style:a.fieldSymbols},o.default.createElement("div",{style:a.symbol},"\xb0"),o.default.createElement("div",{style:a.symbol},"%"),o.default.createElement("div",{style:a.symbol},"%")))};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.PhotoshopPointerCircle=function(t){var e=t.hsl,n=(0,s.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return o.default.createElement("div",{style:n.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPointerCircle=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.PhotoshopPointerCircle=function(){var t=(0,s.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return o.default.createElement("div",{style:t.pointer},o.default.createElement("div",{style:t.left},o.default.createElement("div",{style:t.leftInside})),o.default.createElement("div",{style:t.right},o.default.createElement("div",{style:t.rightInside})))};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopBotton=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.PhotoshopBotton=function(t){var e=t.onClick,n=t.label,r=t.children,i=t.active,a=(0,s.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return o.default.createElement("div",{style:a.button,onClick:e},n||r)};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.PhotoshopPreviews=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.PhotoshopPreviews=function(t){var e=t.rgb,n=t.currentColor,r=(0,s.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return o.default.createElement("div",null,o.default.createElement("div",{style:r.label},"new"),o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.new}),o.default.createElement("div",{style:r.current})),o.default.createElement("div",{style:r.label},"current"))};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Sketch=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(3),p=n(468),f=r(p),h=n(469),d=r(h),m=e.Sketch=function(t){var e=t.width,n=t.rgb,r=t.hex,i=t.hsv,a=t.hsl,s=t.onChange,l=t.onSwatchHover,p=t.disableAlpha,h=t.presetColors,m=t.renderers,y=t.className,v=void 0===y?"":y,g=(0,u.default)({default:{picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:p});return o.default.createElement("div",{style:g.picker,className:"sketch-picker "+v},o.default.createElement("div",{style:g.saturation},o.default.createElement(c.Saturation,{style:g.Saturation,hsl:a,hsv:i,onChange:s})),o.default.createElement("div",{style:g.controls,className:"flexbox-fix"},o.default.createElement("div",{style:g.sliders},o.default.createElement("div",{style:g.hue},o.default.createElement(c.Hue,{style:g.Hue,hsl:a,onChange:s})),o.default.createElement("div",{style:g.alpha},o.default.createElement(c.Alpha,{style:g.Alpha,rgb:n,hsl:a,renderers:m,onChange:s}))),o.default.createElement("div",{style:g.color},o.default.createElement(c.Checkboard,null),o.default.createElement("div",{style:g.activeColor}))),o.default.createElement(f.default,{rgb:n,hsl:a,hex:r,onChange:s,disableAlpha:p}),o.default.createElement(d.default,{colors:h,onClick:s,onSwatchHover:l}))};m.propTypes={disableAlpha:s.default.bool,width:s.default.oneOfType([s.default.string,s.default.number])},m.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},e.default=(0,c.ColorWrap)(m)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SketchFields=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=n(3),p=e.SketchFields=function(t){var e=t.onChange,n=t.rgb,r=t.hsl,i=t.hex,a=t.disableAlpha,l=(0,s.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),p=function(t,i){t.hex?u.default.isValidHex(t.hex)&&e({hex:t.hex,source:"hex"},i):t.r||t.g||t.b?e({r:t.r||n.r,g:t.g||n.g,b:t.b||n.b,a:n.a,source:"rgb"},i):t.a&&(t.a<0?t.a=0:t.a>100&&(t.a=100),t.a/=100,e({h:r.h,s:r.s,l:r.l,a:t.a,source:"rgb"},i))};return o.default.createElement("div",{style:l.fields,className:"flexbox-fix"},o.default.createElement("div",{style:l.double},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"hex",value:i.replace("#",""),onChange:p})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"r",value:n.r,onChange:p,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"g",value:n.g,onChange:p,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.single},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"b",value:n.b,onChange:p,dragLabel:"true",dragMax:"255"})),o.default.createElement("div",{style:l.alpha},o.default.createElement(c.EditableInput,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*n.a),onChange:p,dragLabel:"true",dragMax:"100"})))};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SketchPresetColors=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=r(o),s=n(2),l=r(s),u=n(1),c=r(u),p=n(3),f=e.SketchPresetColors=function(t){var e=t.colors,n=t.onClick,r=void 0===n?function(){}:n,o=t.onSwatchHover,s=(0,c.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),l=function(t,e){r({hex:t,source:"hex"},e)};return a.default.createElement("div",{style:s.colors,className:"flexbox-fix"},e.map(function(t){var e="string"===typeof t?{color:t}:t,n=""+e.color+(e.title||"");return a.default.createElement("div",{key:n,style:s.swatchWrap},a.default.createElement(p.Swatch,i({},e,{style:s.swatch,onClick:l,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+e.color}})))}))};f.propTypes={colors:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.shape({color:l.default.string,title:l.default.string})])).isRequired},e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),u=n(471),c=r(u),p=n(473),f=r(p),h=e.Slider=function(t){var e=t.hsl,n=t.onChange,r=t.pointer,i=t.className,a=void 0===i?"":i,u=(0,s.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return o.default.createElement("div",{className:"slider-picker "+a},o.default.createElement("div",{style:u.hue},o.default.createElement(l.Hue,{style:u.Hue,hsl:e,pointer:r,onChange:n})),o.default.createElement("div",{style:u.swatches},o.default.createElement(c.default,{hsl:e,onClick:n})))};h.defaultProps={pointer:f.default},e.default=(0,l.ColorWrap)(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatches=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(472),u=r(l),c=e.SliderSwatches=function(t){var e=t.onClick,n=t.hsl,r=(0,s.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return o.default.createElement("div",{style:r.swatches},o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100===.8&&Math.round(100*n.s)/100===.5,onClick:e,first:!0})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100===.65&&Math.round(100*n.s)/100===.5,onClick:e})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100===.5&&Math.round(100*n.s)/100===.5,onClick:e})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100===.35&&Math.round(100*n.s)/100===.5,onClick:e})),o.default.createElement("div",{style:r.swatch},o.default.createElement(u.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100===.2&&Math.round(100*n.s)/100===.5,onClick:e,last:!0})),o.default.createElement("div",{style:r.clear}))};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderSwatch=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.SliderSwatch=function(t){var e=t.hsl,n=t.offset,r=t.onClick,i=void 0===r?function(){}:r,a=t.active,l=t.first,u=t.last,c=(0,s.default)({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:l,last:u}),p=function(t){return i({h:e.h,s:.5,l:n,source:"hsl"},t)};return o.default.createElement("div",{style:c.swatch,onClick:p})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderPointer=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=e.SliderPointer=function(){var t=(0,s.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.default.createElement("div",{style:t.picker})};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Swatches=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(12),p=r(c),f=n(10),h=r(f),d=n(168),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),y=n(3),v=n(475),g=r(v),b=e.Swatches=function(t){var e=t.width,n=t.height,r=t.onChange,i=t.onSwatchHover,a=t.colors,s=t.hex,l=t.className,c=void 0===l?"":l,f=(0,u.default)({default:{picker:{width:e,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),d=function(t,e){h.default.isValidHex(t)&&r({hex:t,source:"hex"},e)};return o.default.createElement("div",{style:f.picker,className:"swatches-picker "+c},o.default.createElement(y.Raised,null,o.default.createElement("div",{style:f.overflow},o.default.createElement("div",{style:f.body},(0,p.default)(a,function(t){return o.default.createElement(g.default,{key:t.toString(),group:t,active:s,onClick:d,onSwatchHover:i})}),o.default.createElement("div",{style:f.clear})))))};b.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),colors:s.default.arrayOf(s.default.arrayOf(s.default.string))},b.defaultProps={width:320,height:240,colors:[[m.red[900],m.red[700],m.red[500],m.red[300],m.red[100]],[m.pink[900],m.pink[700],m.pink[500],m.pink[300],m.pink[100]],[m.purple[900],m.purple[700],m.purple[500],m.purple[300],m.purple[100]],[m.deepPurple[900],m.deepPurple[700],m.deepPurple[500],m.deepPurple[300],m.deepPurple[100]],[m.indigo[900],m.indigo[700],m.indigo[500],m.indigo[300],m.indigo[100]],[m.blue[900],m.blue[700],m.blue[500],m.blue[300],m.blue[100]],[m.lightBlue[900],m.lightBlue[700],m.lightBlue[500],m.lightBlue[300],m.lightBlue[100]],[m.cyan[900],m.cyan[700],m.cyan[500],m.cyan[300],m.cyan[100]],[m.teal[900],m.teal[700],m.teal[500],m.teal[300],m.teal[100]],["#194D33",m.green[700],m.green[500],m.green[300],m.green[100]],[m.lightGreen[900],m.lightGreen[700],m.lightGreen[500],m.lightGreen[300],m.lightGreen[100]],[m.lime[900],m.lime[700],m.lime[500],m.lime[300],m.lime[100]],[m.yellow[900],m.yellow[700],m.yellow[500],m.yellow[300],m.yellow[100]],[m.amber[900],m.amber[700],m.amber[500],m.amber[300],m.amber[100]],[m.orange[900],m.orange[700],m.orange[500],m.orange[300],m.orange[100]],[m.deepOrange[900],m.deepOrange[700],m.deepOrange[500],m.deepOrange[300],m.deepOrange[100]],[m.brown[900],m.brown[700],m.brown[500],m.brown[300],m.brown[100]],[m.blueGrey[900],m.blueGrey[700],m.blueGrey[500],m.blueGrey[300],m.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},e.default=(0,y.ColorWrap)(b)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesGroup=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(12),u=r(l),c=n(476),p=r(c),f=e.SwatchesGroup=function(t){var e=t.onClick,n=t.onSwatchHover,r=t.group,i=t.active,a=(0,s.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return o.default.createElement("div",{style:a.group},(0,u.default)(r,function(t,a){return o.default.createElement(p.default,{key:t,color:t,active:t.toLowerCase()===i,first:0===a,last:a===r.length-1,onClick:e,onSwatchHover:n})}))};e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchesColor=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(10),u=r(l),c=n(3),p=e.SwatchesColor=function(t){var e=t.color,n=t.onClick,r=void 0===n?function(){}:n,i=t.onSwatchHover,a=t.first,l=t.last,p=t.active,f=(0,s.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{fill:u.default.getContrastingColor(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:a,last:l,active:p,"color-#FFFFFF":"#FFFFFF"===e,transparent:"transparent"===e});return o.default.createElement(c.Swatch,{color:e,style:f.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},o.default.createElement("div",{style:f.check},o.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Twitter=void 0;var i=n(0),o=r(i),a=n(2),s=r(a),l=n(1),u=r(l),c=n(12),p=r(c),f=n(10),h=r(f),d=n(3),m=e.Twitter=function(t){var e=t.onChange,n=t.onSwatchHover,r=t.hex,i=t.colors,a=t.width,s=t.triangle,l=t.className,c=void 0===l?"":l,f=(0,u.default)({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),m=function(t,n){h.default.isValidHex(t)&&e({hex:t,source:"hex"},n)};return o.default.createElement("div",{style:f.card,className:"twitter-picker "+c},o.default.createElement("div",{style:f.triangleShadow}),o.default.createElement("div",{style:f.triangle}),o.default.createElement("div",{style:f.body},(0,p.default)(i,function(t,e){return o.default.createElement(d.Swatch,{key:e,color:t,hex:t,style:f.swatch,onClick:m,onHover:n,focusStyle:{boxShadow:"0 0 4px "+t}})}),o.default.createElement("div",{style:f.hash},"#"),o.default.createElement(d.EditableInput,{style:{input:f.input},value:r.replace("#",""),onChange:m}),o.default.createElement("div",{style:f.clear})))};m.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),triangle:s.default.oneOf(["hide","top-left","top-right"]),colors:s.default.arrayOf(s.default.string)},m.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},e.default=(0,d.ColorWrap)(m)},function(t,e){function n(t){var e=t.target||t.srcElement;e.__resizeRAF__&&i(e.__resizeRAF__),e.__resizeRAF__=r(function(){var n=e.__resizeTrigger__;n.__resizeListeners__.forEach(function(e){e.call(n,t)})})}var r=function(){var t=this,e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),i=function(){var t=this,e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(t){return e(t)}}(),e=function(t,e){function r(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}var i,o=this,a=o.document,s=a.attachEvent;if("undefined"!==typeof navigator&&(i=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!t.__resizeListeners__)if(t.__resizeListeners__=[],s)t.__resizeTrigger__=t,t.attachEvent("onresize",n);else{"static"===getComputedStyle(t).position&&(t.style.position="relative");var l=t.__resizeTrigger__=a.createElement("object");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),l.setAttribute("class","resize-sensor"),l.__resizeElement__=t,l.onload=r,l.type="text/html",i&&t.appendChild(l),l.data="about:blank",i||t.appendChild(l)}t.__resizeListeners__.push(e)};t.exports="undefined"===typeof window?e:e.bind(window),t.exports.unbind=function(t,e){var r=document.attachEvent;e?t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1):t.__resizeListeners__=[],t.__resizeListeners__.length||(r?t.detachEvent("onresize",n):(t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",n),delete t.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)),delete t.__resizeListeners__)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n.n(a),l=n(23),u=n(480),c=n(169),p=n.n(c),f=n(101),h=n(573),d=n(574),m=n(579),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){var t,n,o,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o._resize=function(){var t=o.props,e=t.updateViewport,n=t.containerWidth;e({width:o.props.width||n,height:o.props.height||window.innerHeight-56})},o._onClick=function(t){var e=t.lngLat,n=o.props,r=n.drawing,i=n.addPoint;r&&i(e)},a=n,i(o,a)}return o(e,t),y(e,[{key:"render",value:function(){var t=this.props,e=t.viewport,n=t.updateViewport,r=t.mapStyle,i=t.containerWidth;return e.mapboxApiAccessToken?s.a.createElement(u.a,Object.assign({},e,{width:i,mapStyle:r,onClick:this._onClick,onViewportChange:n})):s.a.createElement(m.a,null)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize),this._resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}}]),e}(a.Component),g=p()()(v);e.a=Object(l.b)(d.a,{updateViewport:f.b,addPoint:h.a})(g)},function(t,e,n){"use strict";var r=n(171);n.d(e,"a",function(){return r.a});var i=(n(172),n(17),n(565),n(566),n(568),n(569),n(571),n(572),n(57),n(99),n(202));i.a},function(t,e,n){"use strict";function r(t){var e=null;return Object(a.a)(t)&&t.has("layers")?e=t.get("layers").filter(function(t){return t.get("interactive")}).map(function(t){return t.get("id")}).toJS():Array.isArray(t.layers)&&(e=t.layers.filter(function(t){return t.interactive}).map(function(t){return t.id})),e}function i(t,e,n){function r(t){return t.map(function(){return!0}).delete("layers").delete("sources").toJS()}var i=t&&r(t)||{},a=r(e);if(!t||function(){var n=Object.keys(i),r=Object.keys(a);return n.length!==r.length||!!r.some(function(n){return t.get(n)!==e.get(n)})}())return void n.setStyle(e.toJS());var l=Object(s.a)(t,e),u=l.sourcesDiff,c=l.layersDiff;if(c.updates.some(function(t){return t.layer.get("ref")}))return void n.setStyle(e.toJS());var p=!0,f=!1,h=void 0;try{for(var d,m=u.enter[Symbol.iterator]();!(p=(d=m.next()).done);p=!0){var y=d.value;n.addSource(y.id,y.source.toJS())}}catch(t){f=!0,h=t}finally{try{!p&&m.return&&m.return()}finally{if(f)throw h}}var v=!0,g=!1,b=void 0;try{for(var _,x=u.update[Symbol.iterator]();!(v=(_=x.next()).done);v=!0){o(n,_.value)}}catch(t){g=!0,b=t}finally{try{!v&&x.return&&x.return()}finally{if(g)throw b}}var w=!0,k=!1,E=void 0;try{for(var S,C=u.exit[Symbol.iterator]();!(w=(S=C.next()).done);w=!0){var T=S.value;n.removeSource(T.id)}}catch(t){k=!0,E=t}finally{try{!w&&C.return&&C.return()}finally{if(k)throw E}}var O=!0,M=!1,P=void 0;try{for(var A,z=c.exiting[Symbol.iterator]();!(O=(A=z.next()).done);O=!0){var j=A.value;n.style.getLayer(j.id)&&n.removeLayer(j.id)}}catch(t){M=!0,P=t}finally{try{!O&&z.return&&z.return()}finally{if(M)throw P}}var I=!0,L=!1,D=void 0;try{for(var R,N=c.updates[Symbol.iterator]();!(I=(R=N.next()).done);I=!0){var B=R.value;B.enter||n.removeLayer(B.id),n.addLayer(B.layer.toJS(),B.before)}}catch(t){L=!0,D=t}finally{try{!I&&N.return&&N.return()}finally{if(L)throw D}}}function o(t,e){var n=e.source.toJS();if("geojson"===n.type){var r=t.getSource(e.id);if("geojson"===r.type){var i=r.workerOptions;if((void 0===n.maxzoom||n.maxzoom===i.geojsonVtOptions.maxZoom)&&(void 0===n.buffer||n.buffer===i.geojsonVtOptions.buffer)&&(void 0===n.tolerance||n.tolerance===i.geojsonVtOptions.tolerance)&&(void 0===n.cluster||n.cluster===i.cluster)&&(void 0===n.clusterRadius||n.clusterRadius===i.superclusterOptions.radius)&&(void 0===n.clusterMaxZoom||n.clusterMaxZoom===i.superclusterOptions.maxZoom))return void r.setData(n.data)}}t.removeSource(e.id),t.addSource(e.id,n)}e.a=r,e.b=i;var a=n(173),s=n(482)},function(t,e,n){"use strict";function r(t,e){var n=t.get("sources"),r=e.get("sources"),i=[],o=[],a=[],s=n.keySeq().toArray(),l=r.keySeq().toArray(),u=!0,c=!1,p=void 0;try{for(var f,h=s[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value,m=r.get(d);m?m.equals(n.get(d))||o.push({id:d,source:r.get(d)}):a.push({id:d,source:n.get(d)})}}catch(t){c=!0,p=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw p}}var y=!0,v=!1,g=void 0;try{for(var b,_=l[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var x=b.value;n.get(x)||i.push({id:x,source:r.get(x)})}}catch(t){v=!0,g=t}finally{try{!y&&_.return&&_.return()}finally{if(v)throw g}}return{enter:i,update:o,exit:a}}function i(t,e){var n=t.get("layers"),r=e.get("layers"),i=[],o=[],a={},s={};r.forEach(function(t,e){var n=t.get("id"),i=r.get(e+1);s[n]={layer:t,id:n,before:i?i.get("id"):null,enter:!0}}),n.forEach(function(t,e){var r=t.get("id"),i=n.get(e+1);a[r]={layer:t,id:r,before:i?i.get("id"):null},s[r]?s[r].enter=!1:o.push(a[r])});var l=!0,u=!1,c=void 0;try{for(var p,f=r.reverse()[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var h=p.value,d=h.get("id");a[d]&&a[d].layer.equals(s[d].layer)&&a[d].before===s[d].before||i.push(s[d])}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}return{updates:i,exiting:o}}function o(t,e){return{sourcesDiff:r(t,e),layersDiff:i(t,e)}}e.a=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(52),o=n(55),a=n(31),s=n(97),l=n.n(s),u=n(98),c=n.n(u),p=n(190),f=n.n(p),h=n(189),d=n.n(h),m=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=Object(o.a)(),g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,i=e.height,a=e.viewMatrix,s=void 0===a?v:a,u=e.projectionMatrix,p=void 0===u?v:u;r(this,t),this.width=n||1,this.height=i||1,this.scale=1,this.viewMatrix=s,this.projectionMatrix=p;var h=Object(o.a)();f()(h,h,this.projectionMatrix),f()(h,h,this.viewMatrix),this.viewProjectionMatrix=h;var m=Object(o.a)();l()(m,m,[this.width/2,-this.height/2,1]),c()(m,m,[1,-1,0]),f()(m,m,this.viewProjectionMatrix);var y=d()(Object(o.a)(),m);if(!y)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=y,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return y(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&Object(i.c)(e.projectionMatrix,this.projectionMatrix)&&Object(i.c)(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=m(t,3),o=i[0],s=i[1],l=i[2],u=this.projectFlat([o,s]),c=m(u,2),p=c[0],f=c[1],h=Object(a.h)([p,f,l],this.pixelProjectionMatrix),d=m(h,2),y=d[0],v=d[1],g=r?v:this.height-v;return 2===t.length?[y,g]:[y,g,h[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=m(t,3),s=o[0],l=o[1],u=o[2],c=r?l:this.height-l,p=Object(a.e)([s,c,u],this.pixelUnprojectionMatrix,i),f=this.unprojectFlat(p),h=m(f,2),d=h[0],y=h[1];return Number.isFinite(u)?[d,y,p[2]]:Number.isFinite(i)?[d,y,i]:[d,y]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return t}}]),t}();e.a=g},function(t,e){function n(t,e,n){return t[0]=e,t[1]=n,t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}t.exports=n},function(t,e){function n(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=n},function(t,e){function n(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}t.exports=n},function(t,e){function n(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}t.exports=n},function(t,e,n){function r(t,e){var n=i(t[0],t[1],t[2]),r=i(e[0],e[1],e[2]);o(n,n),o(r,r);var s=a(n,r);return s>1?0:Math.acos(s)}t.exports=r;var i=n(495),o=n(178),a=n(179)},function(t,e){function n(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}t.exports=n},function(t,e){function n(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}t.exports=n},function(t,e){function n(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}t.exports=n},function(t,e){function n(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}t.exports=n},function(t,e){function n(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}t.exports=n},function(t,e){function n(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}t.exports=n},function(t,e){function n(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}t.exports=n},function(t,e){function n(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}t.exports=n},function(t,e){function n(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}t.exports=n},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"\x1b["+i.colors[n][0]+"m"+t+"\x1b["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var o=u(t,n);if(o)return o;var a=Object.keys(n),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(C(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return c(n)}var v="",g=!1,_=["{","}"];if(d(n)&&(g=!0,_=["[","]"]),C(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(w(n)&&(v=" "+RegExp.prototype.toString.call(n)),E(n)&&(v=" "+Date.prototype.toUTCString.call(n)),S(n)&&(v=" "+c(n)),0===a.length&&(!g||0==n.length))return _[0]+v+_[1];if(r<0)return w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=g?p(t,n,r,m,a):a.map(function(e){return f(t,n,r,m,e,g)}),t.seen.pop(),h(x,v,_)}function u(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)A(e,String(a))?o.push(f(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?l(t,u.value,null):l(t,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"===typeof t}function y(t){return null===t}function v(t){return null==t}function g(t){return"number"===typeof t}function b(t){return"string"===typeof t}function _(t){return"symbol"===typeof t}function x(t){return void 0===t}function w(t){return k(t)&&"[object RegExp]"===O(t)}function k(t){return"object"===typeof t&&null!==t}function E(t){return k(t)&&"[object Date]"===O(t)}function S(t){return k(t)&&("[object Error]"===O(t)||t instanceof Error)}function C(t){return"function"===typeof t}function T(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function O(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var z=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(z,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])y(s)||!k(s)?a+=" "+s:a+=" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var j,I={};e.debuglog=function(t){if(x(j)&&(j=Object({NODE_ENV:"production",PUBLIC_URL:"/geojson-mapbox"}).NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(j)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=m,e.isNull=y,e.isNullOrUndefined=v,e.isNumber=g,e.isString=b,e.isSymbol=_,e.isUndefined=x,e.isRegExp=w,e.isObject=k,e.isDate=E,e.isError=S,e.isFunction=C,e.isPrimitive=T,e.isBuffer=n(513);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n(514),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(7),n(96))},function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],f=t[11],h=t[12],d=t[13],m=t[14],y=t[15];return(e*a-n*o)*(p*y-f*m)-(e*s-r*o)*(c*y-f*d)+(e*l-i*o)*(c*m-p*d)+(n*s-r*a)*(u*y-f*h)-(n*l-i*a)*(u*m-p*h)+(r*l-i*s)*(u*d-c*h)}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,p=r*s,f=i*a,h=i*s,d=i*l,m=o*a,y=o*s,v=o*l;return t[0]=1-p-d,t[1]=c+v,t[2]=f-y,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=h+m,t[7]=0,t[8]=f+y,t[9]=h-m,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=n},function(t,e){function n(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}t.exports=n},function(t,e,n){function r(t,e,n,r){var o,a,s,l,u,c,p,f,h,d,m=e[0],y=e[1],v=e[2],g=r[0],b=r[1],_=r[2],x=n[0],w=n[1],k=n[2];return Math.abs(m-x)<1e-6&&Math.abs(y-w)<1e-6&&Math.abs(v-k)<1e-6?i(t):(p=m-x,f=y-w,h=v-k,d=1/Math.sqrt(p*p+f*f+h*h),p*=d,f*=d,h*=d,o=b*h-_*f,a=_*p-g*h,s=g*f-b*p,d=Math.sqrt(o*o+a*a+s*s),d?(d=1/d,o*=d,a*=d,s*=d):(o=0,a=0,s=0),l=f*s-h*a,u=h*o-p*s,c=p*a-f*o,d=Math.sqrt(l*l+u*u+c*c),d?(d=1/d,l*=d,u*=d,c*=d):(l=0,u=0,c=0),t[0]=o,t[1]=l,t[2]=p,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=h,t[11]=0,t[12]=-(o*m+a*y+s*v),t[13]=-(l*m+u*y+c*v),t[14]=-(p*m+f*y+h*v),t[15]=1,t)}var i=n(519);t.exports=r},function(t,e){function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=n},function(t,e){function n(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}t.exports=n},function(t,e){function n(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}t.exports=n},function(t,e){function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-p*r,t[3]=l*i-f*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+p*i,t[11]=l*r+f*i,t}t.exports=n},function(t,e){function n(t,e,n,r){var i,o,a,s,l,u,c,p,f,h,d,m,y,v,g,b,_,x,w,k,E,S,C,T,O=r[0],M=r[1],P=r[2],A=Math.sqrt(O*O+M*M+P*P);return Math.abs(A)<1e-6?null:(A=1/A,O*=A,M*=A,P*=A,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],l=e[1],u=e[2],c=e[3],p=e[4],f=e[5],h=e[6],d=e[7],m=e[8],y=e[9],v=e[10],g=e[11],b=O*O*a+o,_=M*O*a+P*i,x=P*O*a-M*i,w=O*M*a-P*i,k=M*M*a+o,E=P*M*a+O*i,S=O*P*a+M*i,C=M*P*a-O*i,T=P*P*a+o,t[0]=s*b+p*_+m*x,t[1]=l*b+f*_+y*x,t[2]=u*b+h*_+v*x,t[3]=c*b+d*_+g*x,t[4]=s*w+p*k+m*E,t[5]=l*w+f*k+y*E,t[6]=u*w+h*k+v*E,t[7]=c*w+d*k+g*E,t[8]=s*S+p*C+m*T,t[9]=l*S+f*C+y*T,t[10]=u*S+h*C+v*T,t[11]=c*S+d*C+g*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}t.exports=n},function(t,e){function n(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}t.exports=n},function(t,e){function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}t.exports=n},function(t,e){function n(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}t.exports=n},function(t,e){function n(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}t.exports=n},function(t,e,n){t.exports=n(529)},function(t,e){function n(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}t.exports=n},function(t,e,n){t.exports=n(531)},function(t,e){function n(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}t.exports=n},function(t,e,n){t.exports=n(185)},function(t,e,n){function r(t,e,n){var r=i(e,n);return r<-.999999?(o(c,p,e),a(c)<1e-6&&o(c,f,e),s(c,c),u(t,c,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o(c,e,n),t[0]=c[0],t[1]=c[1],t[2]=c[2],t[3]=1+r,l(t,t))}var i=n(179),o=n(180),a=n(195),s=n(178),l=n(196),u=n(197);t.exports=r;var c=[0,0,0],p=[1,0,0],f=[0,1,0]},function(t,e,n){t.exports=n(183)},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}t.exports=n},function(t,e){function n(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}t.exports=n},function(t,e,n){t.exports=n(186)},function(t,e){function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t}t.exports=n},function(t,e){function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t}t.exports=n},function(t,e){function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t}t.exports=n},function(t,e){function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}t.exports=n},function(t,e,n){t.exports=n(95)},function(t,e,n){t.exports=n(182)},function(t,e){function n(t,e,n,r){var i,o,a,s,l,u=e[0],c=e[1],p=e[2],f=e[3],h=n[0],d=n[1],m=n[2],y=n[3];return o=u*h+c*d+p*m+f*y,o<0&&(o=-o,h=-h,d=-d,m=-m,y=-y),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*u+l*h,t[1]=s*c+l*d,t[2]=s*p+l*m,t[3]=s*f+l*y,t}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t>=0&&t<6}function s(t){if(t<0&&t>=6)throw new Error(d);return t}var l=n(53),u=n(11),c=n(187),p=n(194),f=n(54),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d="Unknown Euler angle order",m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;r(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return arguments.length>0&&Array.isArray(arguments[0])?s.fromVector3.apply(s,arguments):s.set(t,n,o,a),s}return o(e,t),h(e,[{key:"ELEMENTS",get:function(){return 4}}],[{key:"rotationOrder",value:function(t){return e.RotationOrders[t]}},{key:"ZYX",get:function(){return 0}},{key:"YXZ",get:function(){return 1}},{key:"XZY",get:function(){return 2}},{key:"ZXY",get:function(){return 3}},{key:"YZX",get:function(){return 4}},{key:"XYZ",get:function(){return 5}},{key:"RollPitchYaw",get:function(){return 0}},{key:"DefaultOrder",get:function(){return e.ZYX}},{key:"RotationOrders",get:function(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]),h(e,[{key:"copy",value:function(t){for(var e=0;e<3;++e)this[e]=t[e];return this[3]=Number.isFinite(t[3])||this.order,this.check(),this}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];return this[0]=t,this[1]=e,this[2]=n,this[3]=Number.isFinite(r)?r:this[3],this.check(),this}},{key:"validate",value:function(){return a(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}},{key:"toArray4",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}},{key:"toVector3",value:function(t){return t?t.set(this[0],this[1],this[2]):new f.a(this[0],this[1],this[2])}},{key:"fromVector3",value:function(t,e){return this.set(t[0],t[1],t[2],Number.isFinite(e)?e:this[3])}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[0+e],this[1]=t[1+e],this[2]=t[2+e],void 0!==t[3]&&(this[3]=t[3]),this.check(),this}},{key:"fromRollPitchYaw",value:function(t,n,r){return this.set(t,n,r,e.ZYX)}},{key:"fromQuaternion",value:function(t,e){return this._fromRotationMatrix(c.a.fromQuaternion(t),e),this.check(),this}},{key:"fromRotationMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DefaultOrder;return this._fromRotationMatrix(t,n),this.check(),this}},{key:"getRotationMatrix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new c.a;return this._getRotationMatrix(t),t}},{key:"getQuaternion",value:function(){var t=new p.a;switch(this[4]){case e.XYZ:return t.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case e.YXZ:return t.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case e.ZXY:return t.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case e.ZYX:return t.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case e.YZX:return t.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case e.XZY:return t.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(d)}}},{key:"_fromRotationMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DefaultOrder,r=t.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],p=r[2],f=r[6],h=r[10];switch(n=n||this[3]){case e.XYZ:this[1]=Math.asin(Object(u.b)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-c,h),this[2]=Math.atan2(-o,i)):(this[0]=Math.atan2(f,l),this[2]=0);break;case e.YXZ:this[0]=Math.asin(-Object(u.b)(c,-1,1)),Math.abs(c)<.99999?(this[1]=Math.atan2(a,h),this[2]=Math.atan2(s,l)):(this[1]=Math.atan2(-p,i),this[2]=0);break;case e.ZXY:this[0]=Math.asin(Object(u.b)(f,-1,1)),Math.abs(f)<.99999?(this[1]=Math.atan2(-p,h),this[2]=Math.atan2(-o,l)):(this[1]=0,this[2]=Math.atan2(s,i));break;case e.ZYX:this[1]=Math.asin(-Object(u.b)(p,-1,1)),Math.abs(p)<.99999?(this[0]=Math.atan2(f,h),this[2]=Math.atan2(s,i)):(this[0]=0,this[2]=Math.atan2(-o,l));break;case e.YZX:this[2]=Math.asin(Object(u.b)(s,-1,1)),Math.abs(s)<.99999?(this[0]=Math.atan2(-c,l),this[1]=Math.atan2(-p,i)):(this[0]=0,this[1]=Math.atan2(a,h));break;case e.XZY:this[2]=Math.asin(-Object(u.b)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(f,l),this[1]=Math.atan2(a,i)):(this[0]=Math.atan2(-c,h),this[1]=0);break;default:throw new Error(d)}return this[3]=n,this}},{key:"_getRotationMatrix",value:function(){var t=new c.a,n=this.x,r=this.y,i=this.z,o=Math.cos(n),a=Math.cos(r),s=Math.cos(i),l=Math.sin(n),u=Math.sin(r),p=Math.sin(i);switch(this[3]){case e.XYZ:var f=o*s,h=o*p,m=l*s,y=l*p;t[0]=a*s,t[4]=-a*p,t[8]=u,t[1]=h+m*u,t[5]=f-y*u,t[9]=-l*a,t[2]=y-f*u,t[6]=m+h*u,t[10]=o*a;break;case e.YXZ:var v=a*s,g=a*p,b=u*s,_=u*p;t[0]=v+_*l,t[4]=b*l-g,t[8]=o*u,t[1]=o*p,t[5]=o*s,t[9]=-l,t[2]=g*l-b,t[6]=_+v*l,t[10]=o*a;break;case e.ZXY:var x=a*s,w=a*p,k=u*s,E=u*p;t[0]=x-E*l,t[4]=-o*p,t[8]=k+w*l,t[1]=w+k*l,t[5]=o*s,t[9]=E-x*l,t[2]=-o*u,t[6]=l,t[10]=o*a;break;case e.ZYX:var S=o*s,C=o*p,T=l*s,O=l*p;t[0]=a*s,t[4]=T*u-C,t[8]=S*u+O,t[1]=a*p,t[5]=O*u+S,t[9]=C*u-T,t[2]=-u,t[6]=l*a,t[10]=o*a;break;case e.YZX:var M=o*a,P=o*u,A=l*a,z=l*u;t[0]=a*s,t[4]=z-M*p,t[8]=A*p+P,t[1]=p,t[5]=o*s,t[9]=-l*s,t[2]=-u*s,t[6]=P*p+A,t[10]=M-z*p;break;case e.XZY:var j=o*a,I=o*u,L=l*a,D=l*u;t[0]=a*s,t[4]=-p,t[8]=u*s,t[1]=j*p+D,t[5]=o*s,t[9]=I*p-L,t[2]=L*p-I,t[6]=l*s,t[10]=D*p+j;break;default:throw new Error(d)}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=Object(u.a)(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=Object(u.a)(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=Object(u.a)(t)}},{key:"alpha",get:function(){return this[0]},set:function(t){return this[0]=Object(u.a)(t)}},{key:"beta",get:function(){return this[1]},set:function(t){return this[1]=Object(u.a)(t)}},{key:"gamma",get:function(){return this[2]},set:function(t){return this[2]=Object(u.a)(t)}},{key:"phi",get:function(){return this[0]},set:function(t){return this[0]=Object(u.a)(t)}},{key:"theta",get:function(){return this[1]},set:function(t){return this[1]=Object(u.a)(t)}},{key:"psi",get:function(){return this[2]},set:function(t){return this[2]=Object(u.a)(t)}},{key:"roll",get:function(){return this[0]},set:function(t){return this[0]=Object(u.a)(t)}},{key:"pitch",get:function(){return this[1]},set:function(t){return this[1]=Object(u.a)(t)}},{key:"yaw",get:function(){return this[2]},set:function(t){return this[2]=Object(u.a)(t)}},{key:"order",get:function(){return this[3]},set:function(t){return this[3]=s(t)}}]),e}(l.a);e.a=m},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(11),o=n(54),a=n(195),s=n.n(a),l=n(14),u=n.n(l),c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=6371e3,h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.phi,i=e.theta,o=e.radius,a=e.bearing,s=e.pitch,l=(e.altitude,e.radiusScale),u=void 0===l?f:l;r(this,t),0===arguments.length?(this.phi=0,this.theta=0,this.radius=1):Number.isFinite(n)||Number.isFinite(i)?(this.phi=n||0,this.theta=i||0):(Number.isFinite(a)||Number.isFinite(s))&&(this.bearing=a||0,this.pitch=s||0),this.radius=o||1,this.radiusScale=u||1,this.check()}return p(t,[{key:"toString",value:function(){return this.formatString(i.c)}},{key:"formatString",value:function(t){var e=t.printTypes,n=(t.printDegrees,i.f);return(e?"Spherical":"")+"[rho:"+n(this.radius)+",theta:"+n(this.theta)+",phi:"+n(this.phi)+"]"}},{key:"equals",value:function(t){return Object(i.e)(this.radius,t.radius)&&Object(i.e)(this.theta,t.theta)&&Object(i.e)(this.phi,t.phi)}},{key:"exactEquals",value:function(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}},{key:"set",value:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this.check()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}},{key:"fromLngLatZ",value:function(t){var e=c(t,3),n=e[0],r=e[1],o=e[2];this.radius=1+o/this.radiusScale,this.phi=Object(i.g)(r),this.theta=Object(i.g)(n)}},{key:"fromVector3",value:function(t){return this.radius=s()(t),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos(Object(i.b)(t[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new o.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi))}},{key:"check",value:function(){return u()(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0),this}},{key:"bearing",get:function(){return 180-Object(i.d)(this.phi)},set:function(t){this.phi=Math.PI-Object(i.g)(t)}},{key:"pitch",get:function(){return Object(i.d)(this.theta)},set:function(t){this.theta=Object(i.g)(t)}},{key:"longitude",get:function(){return Object(i.d)(this.phi)}},{key:"latitude",get:function(){return Object(i.d)(this.theta)}},{key:"lng",get:function(){return Object(i.d)(this.phi)}},{key:"lat",get:function(){return Object(i.d)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}}]),t}();e.a=h},function(t,e,n){"use strict";function r(t){var e=t.width,n=t.height,r=t.longitude,l=t.latitude,u=t.zoom,c=t.pitch,p=void 0===c?0:c,f=t.bearing,h=void 0===f?0:f;(r<-180||r>180)&&(r=Object(o.c)(r+180,360)-180),(h<-180||h>180)&&(h=Object(o.c)(h+180,360)-180);var d=new i.a({width:e,height:n,longitude:r,latitude:l,zoom:u}),m=d.project([r,a])[1],y=d.project([r,s])[1],v=0;return y-m<n&&(u+=Math.log2(n/(y-m)),d=new i.a({width:e,height:n,longitude:r,latitude:l,zoom:u}),m=d.project([r,a])[1],y=d.project([r,s])[1]),m>0?v=m:y<n&&(v=y-n),v&&(l=d.unproject([e/2,n/2+v])[1]),{width:e,height:n,longitude:r,latitude:l,zoom:u,pitch:p,bearing:h}}e.a=r;var i=n(30),o=n(55),a=85.05113,s=-85.05113},function(t,e,n){"use strict";function r(t,e,n){var r={},u=t.zoom,c=[t.longitude,t.latitude],p=Object(a.i)(u),f=e.zoom,h=[e.longitude,e.latitude],d=Object(a.i)(f-u),m=new i.a(Object(a.d)(c,p)),y=new i.a(Object(a.d)(h,p)),v=y.subtract(m),g=Math.max(t.width,t.height),b=g/d,_=Math.sqrt(v.x*v.x+v.y*v.y);if(Math.abs(_)<s){var x=!0,w=!1,k=void 0;try{for(var E,S=l[Symbol.iterator]();!(x=(E=S.next()).done);x=!0){var C=E.value,T=t[C],O=e[C];r[C]=Object(o.b)(T,O,n)}}catch(t){w=!0,k=t}finally{try{!x&&S.return&&S.return()}finally{if(w)throw k}}return r}var M=1.414*1.414,P=(b*b-g*g+M*M*_*_)/(2*g*M*_),A=(b*b-g*g-M*M*_*_)/(2*b*M*_),z=Math.log(Math.sqrt(P*P+1)-P),j=Math.log(Math.sqrt(A*A+1)-A),I=(j-z)/1.414,L=n*I,D=Math.cosh(z)/Math.cosh(z+1.414*L),R=g*((Math.cosh(z)*Math.tanh(z+1.414*L)-Math.sinh(z))/M)/_,N=1/D,B=u+Object(a.f)(N),F=Object(a.g)(m.add(v.scale(R)).scale(N),Object(a.i)(B));return r.longitude=F[0],r.latitude=F[1],r.zoom=B,r}e.a=r;var i=n(52),o=n(55),a=n(31),s=.01,l=["longitude","latitude","zoom"]},function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&s.a.checkPropTypes(f,t,"prop",e)}var a=n(2),s=n.n(a),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=!("object"===("undefined"===typeof t?"undefined":u(t))&&"[object process]"===String(t)&&!t.browser),p=c?n(551):null,f={container:s.a.object,mapboxApiAccessToken:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,onLoad:s.a.func,onError:s.a.func,reuseMaps:s.a.bool,transformRequest:s.a.func,mapStyle:s.a.string,visible:s.a.bool,width:s.a.number.isRequired,height:s.a.number.isRequired,longitude:s.a.number.isRequired,latitude:s.a.number.isRequired,zoom:s.a.number.isRequired,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},h={mapboxApiAccessToken:function(){var e=null;if("undefined"!==typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}return e||"undefined"===typeof t||(e=e||Object({NODE_ENV:"production",PUBLIC_URL:"/geojson-mapbox"}).MapboxAccessToken),e||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:i,onError:i,reuseMaps:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5},d=function(){function t(e){if(r(this,t),!p)throw new Error("Mapbox not supported");!t.initialized&&console.debug&&(t.initialized=!0,console.debug("react-map-gl: using mapbox-gl v"+p.version)),this.props={},this._initialize(e)}return l(t,null,[{key:"supported",value:function(){return p&&p.supported()}}]),l(t,[{key:"finalize",value:function(){return p&&this._map?(this._destroy(),this):this}},{key:"setProps",value:function(t){return p&&this._map?(this._update(this.props,t),this):this}},{key:"resize",value:function(){return p&&this._map?(this._map.resize(),this):this}},{key:"getMap",value:function(){return this._map}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap){this._map=this.map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.onLoad()}else{var i={container:e.container||document.body,center:[e.longitude,e.latitude],zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,style:e.mapStyle,interactive:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(i.transformRequest=e.transformRequest),this._map=this.map=new p.Map(i),this.map.once("load",e.onLoad),this.map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){t.savedMap?this._map.remove():t.savedMap=this._map}},{key:"_initialize",value:function(t){t=Object.assign({},h,t),o(t,"Mapbox"),this.accessToken=t.mapboxApiAccessToken||h.mapboxApiAccessToken,p&&(this.accessToken?p.accessToken=this.accessToken:p.accessToken="no-token"),this._create(t);var e=this.map.getCanvas();e&&(e.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){e=Object.assign({},this.props,e),o(e,"Mapbox"),this._updateMapViewport(t,e),this._updateMapSize(t,e),this.props=e}},{key:"_updateMapViewport",value:function(t,e){(e.latitude!==t.latitude||e.longitude!==t.longitude||e.zoom!==t.zoom||e.pitch!==t.pitch||e.bearing!==t.bearing||e.altitude!==t.altitude)&&(this._map.jumpTo({center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.altitude!==t.altitude&&(this._map.transform.altitude=e.altitude))}},{key:"_updateMapSize",value:function(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}}]),t}();e.a=d,d.propTypes=f,d.defaultProps=h}).call(e,n(96))},function(t,e,n){var r,r;!function(e){t.exports=e()}(function(){var t;return function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return o(n||t)},p,p.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function r(t){var e,n=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=i(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=r(t.geometries[e]);return n}}function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,r,i,o,l,u,c=0,p=t.length;if(p>2){for(u=0;u<p;u++)u===p-2?(i=p-2,o=p-1,l=0):u===p-1?(i=p-1,o=0,l=1):(i=u,o=u+1,l=u+2),e=t[i],n=t[o],r=t[l],c+=(a(r[0])-a(e[0]))*Math.sin(a(n[1]));c=c*s.RADIUS*s.RADIUS/2}return c}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=o},{wgs84:37}],2:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.glMatrix=i()}(this,function(){"use strict";function t(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function e(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function n(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t}function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*l,t[3]=a*l,t}function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],f=e[10],h=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,b=n*l-i*a,_=n*u-o*a,x=r*l-i*s,w=r*u-o*s,k=i*u-o*l,E=c*m-p*d,S=c*y-f*d,C=c*v-h*d,T=p*y-f*m,O=p*v-h*m,M=f*v-h*y,P=g*M-b*O+_*T+x*C-w*S+k*E;return P?(P=1/P,t[0]=(s*M-l*O+u*T)*P,t[1]=(i*O-r*M-o*T)*P,t[2]=(m*k-y*w+v*x)*P,t[3]=(f*w-p*k-h*x)*P,t[4]=(l*C-a*M-u*S)*P,t[5]=(n*M-i*C+o*S)*P,t[6]=(y*_-d*k-v*b)*P,t[7]=(c*k-f*_+h*b)*P,t[8]=(a*O-s*C+u*E)*P,t[9]=(r*C-n*O-o*E)*P,t[10]=(d*w-m*_+v*g)*P,t[11]=(p*_-c*w-h*g)*P,t[12]=(s*S-a*T-l*E)*P,t[13]=(n*T-r*S+i*E)*P,t[14]=(m*b-d*x-y*g)*P,t[15]=(c*x-p*b+f*g)*P,t):null}function c(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*p+w*m,t[1]=b*i+_*l+x*f+w*y,t[2]=b*o+_*u+x*h+w*v,t[3]=b*a+_*c+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*p+w*m,t[5]=b*i+_*l+x*f+w*y,t[6]=b*o+_*u+x*h+w*v,t[7]=b*a+_*c+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*p+w*m,t[9]=b*i+_*l+x*f+w*y,t[10]=b*o+_*u+x*h+w*v,t[11]=b*a+_*c+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*p+w*m,t[13]=b*i+_*l+x*f+w*y,t[14]=b*o+_*u+x*h+w*v,t[15]=b*a+_*c+x*d+w*g,t}function p(t,e,n){var r,i,o,a,s,l,u,c,p,f,h,d,m=n[0],y=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],t[15]=e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],f=e[9],h=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=r*m+s*y+p*v+e[12],t[13]=i*m+l*y+f*v+e[13],t[14]=o*m+u*y+h*v+e[14],t[15]=a*m+c*y+d*v+e[15]),t}function f(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function h(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+f*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=f*i-l*r,t}function d(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+f*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=f*i-l*r,t}function m(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function y(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:n,rotate:r,scale:i},mat3:{create:o,fromRotation:a},mat4:{create:s,identity:l,translate:p,scale:f,multiply:c,perspective:m,rotateX:h,rotateZ:d,invert:u,ortho:y}}})},{}],3:[function(t,e,n){"use strict";function r(t){return!!(i()&&o()&&a()&&s()&&l()&&u()&&c()&&p(t&&t.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){if(!("Worker"in window&&"Blob"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}function c(){return"Uint8ClampedArray"in window}function p(t){return void 0===h[t]&&(h[t]=f(t)),h[t]}function f(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var h={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],5:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.ShelfPack=i()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,n,r){var i,o,a,s,l={freebin:-1,shelf:-1,waste:1/0},u=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(i=this.freebins[s],n===i.maxh&&t===i.maxw)return this.allocFreebin(s,t,n,r);n>i.maxh||t>i.maxw||n<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*n)<l.waste&&(l.waste=a,l.freebin=s)}for(s=0;s<this.shelves.length;s++)if(o=this.shelves[s],u+=o.h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,r);n>o.h||n<o.h&&(a=(o.h-n)*t)<l.waste&&(l.freebin=-1,l.waste=a,l.shelf=s)}if(-1!==l.freebin)return this.allocFreebin(l.freebin,t,n,r);if(-1!==l.shelf)return this.allocShelf(l.shelf,t,n,r);if(n<=this.h-u&&t<=this.w)return o=new e(u,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,r);if(this.autoResize){var c,p,f,h;return c=p=this.h,f=h=this.w,(f<=c||t>f)&&(h=2*Math.max(t,f)),(c<f||n>c)&&(p=2*Math.max(n,c)),this.resize(h,p),this.packOne(t,n,r)}return null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t],o=i.alloc(e,n,r);return this.bins[r]=o,this.ref(o),o},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var i=this.x;return this.x+=t,this.free-=t,new n(r,i,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],6:[function(t,e,n){"use strict";function r(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(t,e,n,r,i,a,s){for(var l=0;l<e;l++){for(var u=0;u<n;u++)r[u]=t[u*e+l];for(o(r,i,a,s,n),u=0;u<n;u++)t[u*e+l]=i[u]}for(u=0;u<n;u++){for(l=0;l<e;l++)r[l]=t[u*e+l];for(o(r,i,a,s,e),l=0;l<e;l++)t[u*e+l]=Math.sqrt(i[l])}}function o(t,e,n,r,i){n[0]=0,r[0]=-a,r[1]=+a;for(var o=1,s=0;o<i;o++){for(var l=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);l<=r[s];)s--,l=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);s++,n[s]=o,r[s]=l,r[s+1]=+a}for(o=0,s=0;o<i;o++){for(;r[s+1]<o;)s++;e[o]=(o-n[s])*(o-n[s])+t[n[s]]}}e.exports=r;var a=1e20;r.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var o=e.data[4*r+3]/255;this.gridOuter[r]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[r]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(i(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),i(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var s=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},{}],7:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){void 0===e&&(e=1e-6);var n,r,i,o,a;for(i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,(i=t)<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],8:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,n){if(3===t){var r=new o(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var o=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":11}],10:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=o,t.readFields(i,this,e)}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}function s(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var l=t("@mapbox/point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(!i){var u=t.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new l(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},r.prototype.toGeoJSON=function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/l;t[e]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,n),u=this.extent*t,c=this.extent*e,p=this.loadGeometry(),f=r.types[this.type];switch(this.type){case 1:var h=[];for(o=0;o<p.length;o++)h[o]=p[o][0];p=h,i(p);break;case 2:for(o=0;o<p.length;o++)i(p[o]);break;case 3:for(p=a(p),o=0;o<p.length;o++)for(s=0;s<p[o].length;s++)i(p[o][s])}1===p.length?p=p[0]:f="Multi"+f;var d={type:"Feature",geometry:{type:f,coordinates:p},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"@mapbox/point-geometry":4}],11:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,i,o,a){return a=a||{},t+"?"+["bbox="+n(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function n(t,e,n){e=Math.pow(2,n)-e-1;var i=r(256*t,256*e,n),o=r(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return i("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=e.indexOf("("),l=e.indexOf(")");if(-1!==i&&l+1===e.length){var c=e.substr(0,i),p=e.substr(i+1,l-(i+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[o(p[0]),o(p[1]),o(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),m=a(p[2]),y=m<=.5?m*(d+1):m+d-m*d,v=2*m-y;return[r(255*s(v,y,h+1/3)),r(255*s(v,y,h)),r(255*s(v,y,h-1/3)),f];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=l}catch(t){}},{}],14:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,!0),l=[];if(!s)return l;var u,c,f,h,d,m,y;if(r&&(s=p(t,e,s,n)),t.length>80*n){u=f=t[0],c=h=t[1];for(var v=n;v<o;v+=n)d=t[v],m=t[v+1],d<u&&(u=d),m<c&&(c=m),d>f&&(f=d),m>h&&(h=m);y=Math.max(f-u,h-c),y=0!==y?1/y:0}return a(s,l,n,u,c,y),l}function i(t,e,n,r,i){var o,a;if(i===A(t,e,n,r)>0)for(o=e;o<n;o+=r)a=O(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=O(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(M(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(M(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,p,f){if(t){!f&&p&&m(t,r,i,p);for(var h,d,y=t;t.prev!==t.next;)if(h=t.prev,d=t.next,p?l(t,r,i,p):s(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),M(t),t=d.next,y=d.next;else if((t=d)===y){f?1===f?(t=u(t,e,n),a(t,e,n,r,i,p,2)):2===f&&c(t,e,n,r,i,p):a(o(t),e,n,r,i,p,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(b(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=v(s,l,e,n,r),f=v(u,c,e,n,r),h=t.prevZ,d=t.nextZ;h&&h.z>=p&&d&&d.z<=f;){if(h!==t.prev&&h!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=p;){if(h!==t.prev&&h!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!w(i,o)&&k(i,r,r.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),M(r),M(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&_(l,u)){var c=T(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,e,n,r,i,s),void a(c,e,n,r,i,s)}u=u.next}l=l.next}while(l!==t)}function p(t,e,n,r){var a,s,l,u,c,p=[];for(a=0,s=e.length;a<s;a++)l=e[a]*r,u=a<s-1?e[a+1]*r:t.length,c=i(t,l,u,r,!1),c===c.next&&(c.steiner=!0),p.push(g(c));for(p.sort(f),a=0;a<p.length;a++)h(p[a],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function h(t,e){if(e=d(t,e)){var n=T(e,t);o(n,n.next)}}function d(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,p=n.y,f=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&b(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<f||l===f&&r.x>n.x)&&S(r,t)&&(n=r,f=l),r=r.next;return n}function m(t,e,n,r){var i=t;do{null===i.z&&(i.z=v(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function v(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function b(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&C(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function k(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&k(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function C(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function T(t,e){var n=new P(t.i,t.x,t.y),r=new P(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function O(t,e,n,r){var i=new P(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(A(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(A(t,u,c,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((t[f]-t[d])*(t[h+1]-t[f+1])-(t[f]-t[h])*(t[d+1]-t[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],15:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(i(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function i(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],e);for(var n=1;n<t.length;n++)t[n]=s(t[n],!e);return t}function s(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("@mapbox/geojson-area");e.exports=r},{"@mapbox/geojson-area":1}],16:[function(t,e,n){"use strict";function r(t,e,n,r,s,l,u){if(n/=e,r/=e,l>=n&&u<=r)return t;if(l>r||u<n)return null;for(var p=[],f=0;f<t.length;f++){var h=t[f],d=h.geometry,m=h.type,y=0===s?h.minX:h.minY,v=0===s?h.maxX:h.maxY;if(y>=n&&v<=r)p.push(h);else if(!(y>r||v<n)){var g=[];if("Point"===m||"MultiPoint"===m)i(d,g,n,r,s);else if("LineString"===m)o(d,g,n,r,s,!1);else if("MultiLineString"===m)a(d,g,n,r,s,!1);else if("Polygon"===m)a(d,g,n,r,s,!0);else if("MultiPolygon"===m)for(var b=0;b<d.length;b++){var _=[];a(d[b],_,n,r,s,!0),_.length&&g.push(_)}g.length&&("LineString"!==m&&"MultiLineString"!==m||(1===g.length?(m="LineString",g=g[0]):m="MultiLineString"),"Point"!==m&&"MultiPoint"!==m||(m=3===g.length?"Point":"MultiPoint"),p.push(c(h.id,m,g,h.tags)))}}return p.length?p:null}function i(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function o(t,e,n,r,i,o){for(var a=[],c=0===i?l:u,p=0;p<t.length-3;p+=3){var f=t[p],h=t[p+1],d=t[p+2],m=t[p+3],y=t[p+4],v=0===i?f:h,g=0===i?m:y,b=!1;v<n?g>=n&&c(a,f,h,m,y,n):v>r?g<=r&&c(a,f,h,m,y,r):s(a,f,h,d),g<n&&v>=n&&(c(a,f,h,m,y,n),b=!0),g>r&&v<=r&&(c(a,f,h,m,y,r),b=!0),!o&&b&&(a.size=t.size,e.push(a),a=[])}var _=t.length-3;f=t[_],h=t[_+1],d=t[_+2],v=0===i?f:h,v>=n&&v<=r&&s(a,f,h,d),_=a.length-3,o&&_>=3&&(a[_]!==a[0]||a[_+1]!==a[1])&&s(a,a[0],a[1],a[2]),a.length&&(a.size=t.size,e.push(a))}function a(t,e,n,r,i,a){for(var s=0;s<t.length;s++)o(t[s],e,n,r,i,a)}function s(t,e,n,r){t.push(e),t.push(n),t.push(r)}function l(t,e,n,r,i,o){t.push(o),t.push(n+(o-e)*(i-n)/(r-e)),t.push(1)}function u(t,e,n,r,i,o){t.push(e+(o-n)*(r-e)/(i-n)),t.push(o),t.push(1)}e.exports=r;var c=t("./feature")},{"./feature":18}],17:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)i(n,t.features[r],e);else"Feature"===t.type?i(n,t,e):i(n,{geometry:t},e);return n}function i(t,e,n){if(e.geometry){var r=e.geometry.coordinates,l=e.geometry.type,u=n*n,c=[];if("Point"===l)o(r,c);else if("MultiPoint"===l)for(var f=0;f<r.length;f++)o(r[f],c);else if("LineString"===l)a(r,c,u,!1);else if("MultiLineString"===l)s(r,c,u,!1);else if("Polygon"===l)s(r,c,u,!0);else{if("MultiPolygon"!==l){if("GeometryCollection"===l){for(f=0;f<e.geometry.geometries.length;f++)i(t,{geometry:e.geometry.geometries[f],properties:e.properties},n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(f=0;f<r.length;f++){var h=[];s(r[f],h,u,!0),c.push(h)}}t.push(p(e.id,l,c,e.properties))}}function o(t,e){e.push(l(t[0])),e.push(u(t[1])),e.push(0)}function a(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var p=l(t[s][0]),f=u(t[s][1]);e.push(p),e.push(f),e.push(0),s>0&&(a+=r?(i*f-p*o)/2:Math.sqrt(Math.pow(p-i,2)+Math.pow(f-o,2))),i=p,o=f}var h=e.length-3;e[2]=1,c(e,0,h,n),e[h+2]=1,e.size=Math.abs(a)}function s(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];a(t[i],o,n,r),e.push(o)}}function l(t){return t/360+.5}function u(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}e.exports=r;var c=t("./simplify"),p=t("./feature")},{"./feature":18,"./simplify":20}],18:[function(t,e,n){"use strict";function r(t,e,n,r){var o={id:t||null,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return i(o),o}function i(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)o(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)o(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)o(t,e[r][i])}function o(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}e.exports=r},{}],19:[function(t,e,n){"use strict";function r(t,e){return new i(t,e)}function i(t,e){e=this.options=a(Object.create(this.options),e);var n=e.debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var r=1<<e.maxZoom,i=s(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=c(i,e.buffer/e.extent),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e){for(var n in e)t[n]=e[n];return t}e.exports=r;var s=t("./convert"),l=t("./transform"),u=t("./clip"),c=t("./wrap"),p=t("./tile");i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(t,e,n,r,i,a,s){for(var l=[t,e,n,r],c=this.options,f=c.debug;l.length;){r=l.pop(),n=l.pop(),e=l.pop(),t=l.pop();var h=1<<e,d=o(e,n,r),m=this.tiles[d],y=e===c.maxZoom?0:c.tolerance/(h*c.extent);if(!m&&(f>1&&console.time("creation"),m=this.tiles[d]=p(t,h,n,r,y,e===c.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),f)){f>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd("creation"));var v="z"+e;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(m.source=t,i){if(e===c.maxZoom||e===i)continue;var g=1<<i-e;if(n!==Math.floor(a/g)||r!==Math.floor(s/g))continue}else if(e===c.indexMaxZoom||m.numPoints<=c.indexMaxPoints)continue;if(m.source=null,0!==t.length){f>1&&console.time("clipping");var b,_,x,w,k,E,S=.5*c.buffer/c.extent,C=.5-S,T=.5+S,O=1+S;b=_=x=w=null,k=u(t,h,n-S,n+T,0,m.minX,m.maxX),E=u(t,h,n+C,n+O,0,m.minX,m.maxX),t=null,k&&(b=u(k,h,r-S,r+T,1,m.minY,m.maxY),_=u(k,h,r+C,r+O,1,m.minY,m.maxY),k=null),E&&(x=u(E,h,r-S,r+T,1,m.minY,m.maxY),w=u(E,h,r+C,r+O,1,m.minY,m.maxY),E=null),f>1&&console.timeEnd("clipping"),l.push(b||[],e+1,2*n,2*r),l.push(_||[],e+1,2*n,2*r+1),l.push(x||[],e+1,2*n+1,2*r),l.push(w||[],e+1,2*n+1,2*r+1)}}},i.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,a=r.debug;if(t<0||t>24)return null;var s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return l.tile(this.tiles[u],i);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,p=t,f=e,h=n;!c&&p>0;)p--,f=Math.floor(f/2),h=Math.floor(h/2),c=this.tiles[o(p,f,h)];return c&&c.source?(a>1&&console.log("found parent tile z%d-%d-%d",p,f,h),a>1&&console.time("drilling down"),this.splitTile(c.source,p,f,h,t,e,n),a>1&&console.timeEnd("drilling down"),this.tiles[u]?l.tile(this.tiles[u],i):null):null}},{"./clip":16,"./convert":17,"./tile":21,"./transform":22,"./wrap":23}],20:[function(t,e,n){"use strict";function r(t,e,n,o){for(var a,s=o,l=t[e],u=t[e+1],c=t[n],p=t[n+1],f=e+3;f<n;f+=3){var h=i(t[f],t[f+1],l,u,c,p);h>s&&(a=f,s=h)}s>o&&(a-e>3&&r(t,e,a,o),t[a+2]=s,n-a>3&&r(t,a,n,o))}function i(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return a=t-n,s=e-r,a*a+s*s}e.exports=r},{}],21:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},l=0;l<t.length;l++){s.numFeatures++,i(s,t[l],o,a);var u=t[l].minX,c=t[l].minY,p=t[l].maxX,f=t[l].maxY;u<s.minX&&(s.minX=u),c<s.minY&&(s.minY=c),p>s.maxX&&(s.maxX=p),f>s.maxY&&(s.maxY=f)}return s}function i(t,e,n,r){var i=e.geometry,a=e.type,s=[];if("Point"===a||"MultiPoint"===a)for(var l=0;l<i.length;l+=3)s.push(i[l]),s.push(i[l+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)o(s,i,t,n,r,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(l=0;l<i.length;l++)o(s,i[l],t,n,r,"Polygon"===a,0===l);else if("MultiPolygon"===a)for(var u=0;u<i.length;u++){var c=i[u];for(l=0;l<c.length;l++)o(s,c[l],t,n,r,!0,0===l)}if(s.length){var p={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:e.tags||null};null!==e.id&&(p.id=e.id),t.features.push(p)}}function o(t,e,n,r,i,o,s){var l=r*r;if(!i&&e.size<(o?l:r))return void(n.numPoints+=e.length/3);for(var u=[],c=0;c<e.length;c+=3)(i||e[c+2]>l)&&(n.numSimplified++,u.push(e[c]),u.push(e[c+1])),n.numPoints++;o&&a(u,s),t.push(u)}function a(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}e.exports=r},{}],22:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,o,a=t.z2,s=t.x,l=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],c=u.geometry,p=u.type;if(u.geometry=[],1===p)for(r=0;r<c.length;r+=2)u.geometry.push(i(c[r],c[r+1],e,a,s,l));else for(r=0;r<c.length;r++){var f=[];for(o=0;o<c[r].length;o+=2)f.push(i(c[r][o],c[r][o+1],e,a,s,l));u.geometry.push(f)}}return t.transformed=!0,t}function i(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}n.tile=r,n.point=i},{}],23:[function(t,e,n){"use strict";function r(t,e){var n=t,r=a(t,1,-1-e,e,0,-1,2),o=a(t,1,1-e,2+e,0,-1,2);return(r||o)&&(n=a(t,1,-e,1+e,0,-1,2)||[],r&&(n=i(r,1).concat(n)),o&&(n=n.concat(i(o,-1)))),n}function i(t,e){for(var n=[],r=0;r<t.length;r++){var i,a=t[r],l=a.type;if("Point"===l||"MultiPoint"===l||"LineString"===l)i=o(a.geometry,e);else if("MultiLineString"===l||"Polygon"===l){i=[];for(var u=0;u<a.geometry.length;u++)i.push(o(a.geometry[u],e))}else if("MultiPolygon"===l)for(i=[],u=0;u<a.geometry.length;u++){for(var c=[],p=0;p<a.geometry[u].length;p++)c.push(o(a.geometry[u][p],e));i.push(c)}n.push(s(a.id,l,i,a.tags))}return n}function o(t,e){var n=[];n.size=t.size;for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":16,"./feature":18}],24:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],l=o[i+a+1];r.push(s===l?null:o.subarray(s,l))}var u=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(u,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var p=0;p<this.d*this.d;p++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var f=n/e*t;this.min=-f,this.max=t+f}e.exports=r;var i=3;r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var f=4*p;t<=u[f+2]&&e<=u[f+3]&&n>=u[f+0]&&r>=u[f+1]?(a[p]=!0,o.push(l[p])):a[p]=!1}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),c=this._convertToCellCoord(r),p=s;p<=u;p++)for(var f=l;f<=c;f++){var h=this.d*f+p;if(i.call(this,t,e,n,r,h,o,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var l=t[s];o[i+s]=a,o.set(l,a),a+=l.length}return o[i+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],25:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,f=n?-1:1,h=t[e+p];for(p+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+p>=1?f/l:f*Math.pow(2,1-p),e*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+h]=255&a,h+=d,a/=256,u-=8);t[n+h-d]|=128*m}},{}],26:[function(t,e,n){"use strict";function r(t,e,n,r,o){return new i(t,e,n,r,o)}function i(t,e,n,r,i){e=e||o,n=n||a,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var l=0;l<t.length;l++)this.ids[l]=l,this.coords[2*l]=e(t[l]),this.coords[2*l+1]=n(t[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),l=t("./range"),u=t("./within");e.exports=r,i.prototype={range:function(t,e,n,r){return l(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return u(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":27,"./sort":28,"./within":29}],27:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),f=u.pop(),h=u.pop();if(f-h<=a)for(var d=h;d<=f;d++)s=e[2*d],l=e[2*d+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(t[d]);else{var m=Math.floor((h+f)/2);s=e[2*m],l=e[2*m+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(t[m]);var y=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(h),u.push(m-1),u.push(y)),(0===p?i>=s:o>=l)&&(u.push(m+1),u.push(f),u.push(y))}}return c}e.exports=r},{}],28:[function(t,e,n){"use strict";function r(t,e,n,o,a,s){if(!(a-o<=n)){var l=Math.floor((o+a)/2);i(t,e,l,o,a,s%2),r(t,e,n,o,l-1,s+1),r(t,e,n,l+1,a,s+1)}}function i(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var l=a-r+1,u=n-r+1,c=Math.log(l),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(l-p)/l)*(u-l/2<0?-1:1);i(t,e,n,Math.max(r,Math.floor(n-u*p/l+f)),Math.min(a,Math.floor(n+(l-u)*p/l+f)),s)}var h=e[2*n+s],d=r,m=a;for(o(t,e,r,n),e[2*a+s]>h&&o(t,e,r,a);d<m;){for(o(t,e,d,m),d++,m--;e[2*d+s]<h;)d++;for(;e[2*m+s]>h;)m--}e[2*r+s]===h?o(t,e,r,m):(m++,o(t,e,m,a)),m<=n&&(r=m+1),n<=m&&(a=m-1)}}function o(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],29:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s=[0,t.length-1,0],l=[],u=o*o;s.length;){var c=s.pop(),p=s.pop(),f=s.pop();if(p-f<=a)for(var h=f;h<=p;h++)i(e[2*h],e[2*h+1],n,r)<=u&&l.push(t[h]);else{var d=Math.floor((f+p)/2),m=e[2*d],y=e[2*d+1];i(m,y,n,r)<=u&&l.push(t[d]);var v=(c+1)%2;(0===c?n-o<=m:r-o<=y)&&(s.push(f),s.push(d-1),s.push(v)),(0===c?n+o>=m:r+o>=y)&&(s.push(d+1),s.push(p),s.push(v))}}return l}function i(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}e.exports=r},{}],30:[function(t,e,n){"use strict";function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),l(n,r,e),u(r,e)}function l(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function u(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function p(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function b(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function k(t,e,n){for(var r="",i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var l,u,c;1===s?o<128&&(a=o):2===s?128==(192&(l=t[i+1]))&&(a=(31&o)<<6|63&l)<=127&&(a=null):3===s?(l=t[i+1],u=t[i+2],128==(192&l)&&128==(192&u)&&((a=(15&o)<<12|(63&l)<<6|63&u)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(l=t[i+1],u=t[i+2],c=t[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&((a=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function E(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}e.exports=r;var S=t("ieee754");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=S.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=S.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return n=r[this.pos++],e=127&n,n<128?e:(n=r[this.pos++],e|=(127&n)<<7,n<128?e:(n=r[this.pos++],e|=(127&n)<<14,n<128?e:(n=r[this.pos++],e|=(127&n)<<21,n<128?e:(n=r[this.pos],e|=(15&n)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=k(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){if((t=+t||0)>268435455||t<0)return void s(t,this);this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=E(this.buf,t,this.pos);var n=this.pos-e;n>=128&&c(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),S.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),S.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,p,e)},writePackedSVarint:function(t,e){this.writeMessage(t,f,e)},writePackedBoolean:function(t,e){this.writeMessage(t,m,e)},writePackedFloat:function(t,e){this.writeMessage(t,h,e)},writePackedDouble:function(t,e){this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){this.writeMessage(t,y,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,v,e)},writePackedFixed64:function(t,e){this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:25}],31:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||o;a>n;){if(a-n>600){var l=a-n+1,u=e-n+1,c=Math.log(l),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(l-p)/l)*(u-l/2<0?-1:1);r(t,e,Math.max(n,Math.floor(e-u*p/l+f)),Math.min(a,Math.floor(e+(l-u)*p/l+f)),s)}var h=t[e],d=n,m=a;for(i(t,n,e),s(t[a],h)>0&&i(t,n,a);d<m;){for(i(t,d,m),d++,m--;s(t[d],h)<0;)d++;for(;s(t[m],h)>0;)m--}0===s(t[n],h)?i(t,n,m):(m++,i(t,m,a)),m<=e&&(n=m+1),e<=m&&(a=m-1)}}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],32:[function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){this.options=h(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return{x:u(n[0]),y:c(n[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[p(t.x),f(t.y)]}}}function l(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return h(h({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function p(t){return 360*(t-.5)}function f(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function h(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function m(t){return t.y}var y=t("kdbush");e.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=y(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,i),e&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=y(r,d,m,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.numPoints?s(a):this.points[a.id])}return i},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=this.trees[e+1].within(n.x,n.y,r),o=[],a=0;a<i.length;a++){var l=this.trees[e+1].points[i[a]];l.parentId===t&&o.push(l.numPoints?s(l):this.points[l.id])}return o},getLeaves:function(t,e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,t,e,n,r,0),i},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,l,(e+1+s)/i,u),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i,o){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var l=a[s].properties;if(l.cluster?o+l.point_count<=i?o+=l.point_count:o=this._appendLeaves(t,l.cluster_id,n+1,r,i,o):o<i?o++:t.push(a[s]),t.length===r)break}return o},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?l(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var a=t[i];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],l=s.within(a.x,a.y,r),u=a.numPoints||1,c=a.x*u,p=a.y*u,f=null;this.options.reduce&&(f=this.options.initial(),this._accumulate(f,a));for(var h=0;h<l.length;h++){var d=s.points[l[h]];if(e<d.zoom){var m=d.numPoints||1;d.zoom=e,c+=d.x*m,p+=d.y*m,u+=m,d.parentId=i,this.options.reduce&&this._accumulate(f,d)}}1===u?n.push(a):(a.parentId=i,n.push(o(c/u,p/u,u,i,f)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},{kdbush:26}],33:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,this.length>0)for(var n=this.length>>1;n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length,i=r>>1,o=e[t];t<i;){var a=1+(t<<1),s=a+1,l=e[a];if(s<r&&n(e[s],l)<0&&(a=s,l=e[s]),n(l,o)>=0)break;e[t]=l,t=a}e[t]=o}}},{}],34:[function(t,e,n){function r(t){var e=new h;return o(t,e),e.finish()}function i(t){var e={};for(var n in t)e[n]=new d(t[n].features),e[n].name=n;return r({layers:e})}function o(t,e){for(var n in t.layers)e.writeMessage(3,a,t.layers[n])}function a(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n,r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,s,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,f,o[n])}function s(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,l,t),e.writeVarintField(3,n.type),e.writeMessage(4,p,n)}function l(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),l=r.length-1,o[s]=l),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,f=a[p];void 0===f&&(i.push(u),f=i.length-1,a[p]=f),e.writeVarint(f)}}function u(t,e){return(e<<3)+(7&t)}function c(t){return t<<1^t>>31}function p(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],p=1;1===r&&(p=l.length),e.writeVarint(u(1,p));for(var f=0;f<l.length;f++){1===f&&1!==r&&e.writeVarint(u(2,l.length-1));var h=l[f].x-i,d=l[f].y-o;e.writeVarint(c(h)),e.writeVarint(c(d)),i+=h,o+=d}}}function f(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var h=t("pbf"),d=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=i,e.exports.GeoJSONWrapper=d},{"./lib/geojson_wrapper":35,pbf:30}],35:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function i(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("@mapbox/point-geometry"),a=t("@mapbox/vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new i(this.features[t])},i.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],36:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){y[t]=!0;for(var e in i[t][1]){var r=i[t][1][e];y[r]||n(r)}}for(var s,l=Object.keys(o),u=0,c=l.length;u<c;u++){var p=l[u],f=o[p].exports;if(f===t||f&&f.default===t){s=p;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,c=l.length;u<c;u++){var p=l[u];h[p]=p}i[s]=["function(require,module,exports){"+t+"(self); }",h]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,i[d]=["function(require,module,exports){var f = require("+a(s)+");(f.default ? f.default : f)(self);}",m];var y={};n(d);var v="("+r+")({"+Object.keys(y).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return b;var _=g.createObjectURL(b),x=new Worker(_);return x.objectURL=_,x}},{}],37:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],38:[function(t,e,n){e.exports={version:"0.44.1"}},{}],39:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r.StructArray,o=t("../util/struct_array"),a=o.Struct,s=t("../util/web_worker_transfer"),l=s.register,u=t("@mapbox/point-geometry"),c=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[r+0]=t,this.int16[r+1]=e,n},e}(i);c.prototype.bytesPerElement=4,l("StructArrayLayout2i4",c);var p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=n,this.int16[o+3]=r,i},e}(i);p.prototype.bytesPerElement=8,l("StructArrayLayout4i8",p);var f=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e}(i);f.prototype.bytesPerElement=12,l("StructArrayLayout2i4i12",f);var h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;this.resize(l+1);var u=6*l,c=12*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=n,this.int16[u+3]=r,this.uint8[c+8]=i,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,l},e}(i);h.prototype.bytesPerElement=12,l("StructArrayLayout4i4ub12",h);var d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=n,this.int16[u+3]=r,this.uint16[u+4]=i,this.uint16[u+5]=o,this.uint16[u+6]=a,this.uint16[u+7]=s,l},e}(i);d.prototype.bytesPerElement=16,l("StructArrayLayout4i4ui16",d);var m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=n,r},e}(i);m.prototype.bytesPerElement=12,l("StructArrayLayout3f12",m);var y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.uint32[n+0]=t,e},e}(i);y.prototype.bytesPerElement=4,l("StructArrayLayout1ul4",y);var v=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.length;this.resize(p+1);var f=12*p,h=6*p;return this.int16[f+0]=t,this.int16[f+1]=e,this.int16[f+2]=n,this.int16[f+3]=r,this.int16[f+4]=i,this.int16[f+5]=o,this.uint32[h+3]=a,this.uint16[f+8]=s,this.uint16[f+9]=l,this.int16[f+10]=u,this.int16[f+11]=c,p},e}(i);v.prototype.bytesPerElement=24,l("StructArrayLayout6i1ul2ui2i24",v);var g=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e}(i);g.prototype.bytesPerElement=12,l("StructArrayLayout2i2i2i12",g);var b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[r+0]=t,this.uint8[r+1]=e,n},e}(i);b.prototype.bytesPerElement=4,l("StructArrayLayout2ub4",b);var _=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,f,h){var d=this.length;this.resize(d+1);var m=20*d,y=10*d,v=40*d;return this.int16[m+0]=t,this.int16[m+1]=e,this.uint16[m+2]=n,this.uint16[m+3]=r,this.uint32[y+2]=i,this.uint32[y+3]=o,this.uint32[y+4]=a,this.uint16[m+10]=s,this.uint16[m+11]=l,this.uint16[m+12]=u,this.float32[y+7]=c,this.float32[y+8]=p,this.uint8[v+36]=f,this.uint8[v+37]=h,d},e}(i);_.prototype.bytesPerElement=40,l("StructArrayLayout2i2ui3ul3ui2f2ub40",_);var x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.float32[n+0]=t,e},e}(i);x.prototype.bytesPerElement=4,l("StructArrayLayout1f4",x);var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=n,r},e}(i);w.prototype.bytesPerElement=6,l("StructArrayLayout3i6",w);var k=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[i+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=n,r},e}(i);k.prototype.bytesPerElement=8,l("StructArrayLayout1ul2ui8",k);var E=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[i+0]=t,this.uint16[i+1]=e,this.uint16[i+2]=n,r},e}(i);E.prototype.bytesPerElement=6,l("StructArrayLayout3ui6",E);var S=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[r+0]=t,this.uint16[r+1]=e,n},e}(i);S.prototype.bytesPerElement=4,l("StructArrayLayout2ui4",S);var C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[r+0]=t,this.float32[r+1]=e,n},e}(i);C.prototype.bytesPerElement=8,l("StructArrayLayout2f8",C);var T=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=n,this.float32[o+3]=r,i},e}(i);T.prototype.bytesPerElement=16,l("StructArrayLayout4f16",T);var O=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new u(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(a);O.prototype.size=24;var M=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new O(this,t)},e}(v);l("CollisionBoxArray",M);var P=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(a);P.prototype.size=40;var A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new P(this,t)},e}(_);l("PlacedSymbolArray",A);var z=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={offsetX:{}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(a);z.prototype.size=4;var j=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new z(this,t)},e}(x);l("GlyphOffsetArray",j);var I=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={x:{},y:{},tileUnitDistanceFromAnchor:{}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(a);I.prototype.size=6;var L=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new I(this,t)},e}(w);l("SymbolLineVertexArray",L);var D=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(a);D.prototype.size=8;var R=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new D(this,t)},e}(k);l("FeatureIndexArray",R),e.exports={StructArrayLayout2i4:c,StructArrayLayout4i8:p,StructArrayLayout2i4i12:f,StructArrayLayout4i4ub12:h,StructArrayLayout4i4ui16:d,StructArrayLayout3f12:m,StructArrayLayout1ul4:y,StructArrayLayout6i1ul2ui2i24:v,StructArrayLayout2i2i2i12:g,StructArrayLayout2ub4:b,StructArrayLayout2i2ui3ul3ui2f2ub40:_,StructArrayLayout1f4:x,StructArrayLayout3i6:w,StructArrayLayout1ul2ui8:k,StructArrayLayout3ui6:E,StructArrayLayout2ui4:S,StructArrayLayout2f8:C,StructArrayLayout4f16:T,PosArray:c,RasterBoundsArray:p,CircleLayoutArray:c,FillLayoutArray:c,FillExtrusionLayoutArray:f,HeatmapLayoutArray:c,LineLayoutArray:h,SymbolLayoutArray:d,SymbolDynamicLayoutArray:m,SymbolOpacityArray:y,CollisionBoxLayoutArray:g,CollisionCircleLayoutArray:g,CollisionVertexArray:b,TriangleIndexArray:E,LineIndexArray:S,CollisionBoxArray:M,PlacedSymbolArray:A,GlyphOffsetArray:j,SymbolLineVertexArray:L,FeatureIndexArray:R}},{"../util/struct_array":271,"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],40:[function(t,e,n){"use strict";e.exports={deserialize:function(t,e){var n={};if(!e)return n;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a;for(var s=0,l=a;s<l.length;s+=1)n[l[s].id]=o}}return n}}},{}],41:[function(t,e,n){"use strict";var r=t("../../util/struct_array"),i=r.createLayout;e.exports=i([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":271}],42:[function(t,e,n){"use strict";function r(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var i=t("../array_types"),o=i.CircleLayoutArray,a=t("./circle_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,p=t("../index_array_type"),f=p.TriangleIndexArray,h=t("../load_geometry"),d=t("../extent"),m=t("../../util/web_worker_transfer"),y=m.register,v=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new f,this.segments=new l,this.programConfigurations=new c(a,t.layers,t.zoom)};v.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=h(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},v.prototype.addFeature=function(t,e){for(var n=this,i=0,o=e;i<o.length;i+=1)for(var a=o[i],s=0,l=a;s<l.length;s+=1){var u=l[s],c=u.x,p=u.y;if(!(c<0||c>=d||p<0||p>=d)){var f=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),h=f.vertexLength;r(n.layoutVertexArray,c,p,-1,-1),r(n.layoutVertexArray,c,p,1,-1),r(n.layoutVertexArray,c,p,1,1),r(n.layoutVertexArray,c,p,-1,1),n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h,h+3,h+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},y("CircleBucket",v,{omit:["layers"]}),e.exports=v},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./circle_attributes":41}],43:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"../../util/struct_array":271,dup:41}],44:[function(t,e,n){"use strict";var r=t("../array_types"),i=r.FillLayoutArray,o=t("./fill_attributes").members,a=t("../segment"),s=a.SegmentVector,l=t("../program_configuration"),u=l.ProgramConfigurationSet,c=t("../index_array_type"),p=c.LineIndexArray,f=c.TriangleIndexArray,h=t("../load_geometry"),d=t("earcut"),m=t("../../util/classify_rings"),y=t("../../util/web_worker_transfer"),v=y.register,g=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new i,this.indexArray=new f,this.indexArray2=new p,this.programConfigurations=new u(o,t.layers,t.zoom),this.segments=new s,this.segments2=new s};g.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=h(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},g.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},g.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)},g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},g.prototype.addFeature=function(t,e){for(var n=this,r=0,i=m(e,500);r<i.length;r+=1){for(var o=i[r],a=0,s=0,l=o;s<l.length;s+=1)a+=l[s].length;for(var u=n.segments.prepareSegment(a,n.layoutVertexArray,n.indexArray),c=u.vertexLength,p=[],f=[],h=0,y=o;h<y.length;h+=1){var v=y[h];if(0!==v.length){v!==o[0]&&f.push(p.length/2);var g=n.segments2.prepareSegment(v.length,n.layoutVertexArray,n.indexArray2),b=g.vertexLength;n.layoutVertexArray.emplaceBack(v[0].x,v[0].y),n.indexArray2.emplaceBack(b+v.length-1,b),p.push(v[0].x),p.push(v[0].y);for(var _=1;_<v.length;_++)n.layoutVertexArray.emplaceBack(v[_].x,v[_].y),n.indexArray2.emplaceBack(b+_-1,b+_),p.push(v[_].x),p.push(v[_].y);g.vertexLength+=v.length,g.primitiveLength+=v.length}}for(var x=d(p,f),w=0;w<x.length;w+=3)n.indexArray.emplaceBack(c+x[w],c+x[w+1],c+x[w+2]);u.vertexLength+=a,u.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},v("FillBucket",g,{omit:["layers"]}),e.exports=g},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_attributes":43,earcut:14}],45:[function(t,e,n){"use strict";var r=t("../../util/struct_array"),i=r.createLayout;e.exports=i([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":271}],46:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*w)+a,i*w*2,o*w*2,Math.round(s))}function i(t,e){return t.x===e.x&&(t.x<0||t.x>v)||t.y===e.y&&(t.y<0||t.y>v)}function o(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>v})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>v})}var a=t("../array_types"),s=a.FillExtrusionLayoutArray,l=t("./fill_extrusion_attributes").members,u=t("../segment"),c=u.SegmentVector,p=u.MAX_VERTEX_ARRAY_LENGTH,f=t("../program_configuration"),h=f.ProgramConfigurationSet,d=t("../index_array_type"),m=d.TriangleIndexArray,y=t("../load_geometry"),v=t("../extent"),g=t("earcut"),b=t("../../util/classify_rings"),_=t("../../util/web_worker_transfer"),x=_.register,w=Math.pow(2,13),k=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new s,this.indexArray=new m,this.programConfigurations=new h(l,t.layers,t.zoom),this.segments=new c};k.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=y(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},k.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},k.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,l),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},k.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},k.prototype.addFeature=function(t,e){for(var n=this,a=0,s=b(e,500);a<s.length;a+=1){for(var l=s[a],u=0,c=0,f=l;c<f.length;c+=1)u+=f[c].length;for(var h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),d=0,m=l;d<m.length;d+=1){var y=m[d];if(0!==y.length&&!o(y))for(var v=0,_=0;_<y.length;_++){var x=y[_];if(_>=1){var w=y[_-1];if(!i(x,w)){h.vertexLength+4>p&&(h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var k=x.sub(w)._perp()._unit(),E=w.dist(x);v+E>32768&&(v=0),r(n.layoutVertexArray,x.x,x.y,k.x,k.y,0,0,v),r(n.layoutVertexArray,x.x,x.y,k.x,k.y,0,1,v),v+=E,r(n.layoutVertexArray,w.x,w.y,k.x,k.y,0,0,v),r(n.layoutVertexArray,w.x,w.y,k.x,k.y,0,1,v);var S=h.vertexLength;n.indexArray.emplaceBack(S,S+1,S+2),n.indexArray.emplaceBack(S+1,S+2,S+3),h.vertexLength+=4,h.primitiveLength+=2}}}}h.vertexLength+u>p&&(h=n.segments.prepareSegment(u,n.layoutVertexArray,n.indexArray));for(var C=[],T=[],O=h.vertexLength,M=0,P=l;M<P.length;M+=1){var A=P[M];if(0!==A.length){A!==l[0]&&T.push(C.length/2);for(var z=0;z<A.length;z++){var j=A[z];r(n.layoutVertexArray,j.x,j.y,0,0,1,1,0),C.push(j.x),C.push(j.y)}}}for(var I=g(C,T),L=0;L<I.length;L+=3)n.indexArray.emplaceBack(O+I[L],O+I[L+1],O+I[L+2]);h.primitiveLength+=I.length/3,h.vertexLength+=u}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},x("FillExtrusionBucket",k,{omit:["layers"]}),e.exports=k},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_extrusion_attributes":45,earcut:14}],47:[function(t,e,n){"use strict";var r=t("./circle_bucket"),i=t("../../util/web_worker_transfer"),o=i.register,a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r);o("HeatmapBucket",a,{omit:["layers"]}),e.exports=a},{"../../util/web_worker_transfer":278,"./circle_bucket":42}],48:[function(t,e,n){"use strict";var r=t("../../util/struct_array"),i=r.createLayout;e.exports=i([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":271}],49:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(g*n.x)+128,Math.round(g*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*_&63)<<2,a*_>>6)}var i=t("../array_types"),o=i.LineLayoutArray,a=t("./line_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,p=t("../index_array_type"),f=p.TriangleIndexArray,h=t("../load_geometry"),d=t("../extent"),m=t("@mapbox/vector-tile").VectorTileFeature.types,y=t("../../util/web_worker_transfer"),v=y.register,g=63,b=Math.cos(Math.PI/180*37.5),_=.5,x=Math.pow(2,14)/_,w=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new f,this.programConfigurations=new c(a,t.layers,t.zoom),this.segments=new l};w.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=h(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},w.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},w.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},w.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},w.prototype.addFeature=function(t,e){for(var n=this,r=this.layers[0].layout,i=r.get("line-join").evaluate(t),o=r.get("line-cap"),a=r.get("line-miter-limit"),s=r.get("line-round-limit"),l=0,u=e;l<u.length;l+=1){var c=u[l];n.addLine(c,t,i,o,a,s)}},w.prototype.addLine=function(t,e,n,r,i,o){for(var a=this,s="Polygon"===m[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c=d/(512*this.overscaling)*15,p=t[u],f=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.distance=0;var h,y,v,g=r,_=s?"butt":r,x=!0,w=void 0,k=void 0,E=void 0,S=void 0;this.e1=this.e2=this.e3=-1,s&&(h=t[l-2],S=p.sub(h)._unit()._perp());for(var C=u;C<l;C++)if(!(k=s&&C===l-1?t[u+1]:t[C+1])||!t[C].equals(k)){S&&(E=S),h&&(w=h),h=t[C],S=k?k.sub(h)._unit()._perp():E,E=E||S;var T=E.add(S);0===T.x&&0===T.y||T._unit();var O=T.x*S.x+T.y*S.y,M=0!==O?1/O:1/0,P=O<b&&w&&k;if(P&&C>u){var A=h.dist(w);if(A>2*c){var z=h.sub(h.sub(w)._mult(c/A)._round());a.distance+=z.dist(w),a.addCurrentVertex(z,a.distance,E.mult(1),0,0,!1,f),w=z}}var j=w&&k,I=j?n:k?g:_;if(j&&"round"===I&&(M<o?I="miter":M<=2&&(I="fakeround")),"miter"===I&&M>i&&(I="bevel"),"bevel"===I&&(M>2&&(I="flipbevel"),M<i&&(I="miter")),w&&(a.distance+=h.dist(w)),"miter"===I)T._mult(M),a.addCurrentVertex(h,a.distance,T,0,0,!1,f);else if("flipbevel"===I){if(M>100)T=S.clone().mult(-1);else{var L=E.x*S.y-E.y*S.x>0?-1:1,D=M*E.add(S).mag()/E.sub(S).mag();T._perp()._mult(D*L)}a.addCurrentVertex(h,a.distance,T,0,0,!1,f),a.addCurrentVertex(h,a.distance,T.mult(-1),0,0,!1,f)}else if("bevel"===I||"fakeround"===I){var R=E.x*S.y-E.y*S.x>0,N=-Math.sqrt(M*M-1);if(R?(v=0,y=N):(y=0,v=N),x||a.addCurrentVertex(h,a.distance,E,y,v,!1,f),"fakeround"===I){for(var B=Math.floor(8*(.5-(O-.5))),F=void 0,U=0;U<B;U++)F=S.mult((U+1)/(B+1))._add(E)._unit(),a.addPieSliceVertex(h,a.distance,F,R,f);a.addPieSliceVertex(h,a.distance,T,R,f);for(var V=B-1;V>=0;V--)F=E.mult((V+1)/(B+1))._add(S)._unit(),a.addPieSliceVertex(h,a.distance,F,R,f)}k&&a.addCurrentVertex(h,a.distance,S,-y,-v,!1,f)}else"butt"===I?(x||a.addCurrentVertex(h,a.distance,E,0,0,!1,f),k&&a.addCurrentVertex(h,a.distance,S,0,0,!1,f)):"square"===I?(x||(a.addCurrentVertex(h,a.distance,E,1,1,!1,f),a.e1=a.e2=-1),k&&a.addCurrentVertex(h,a.distance,S,-1,-1,!1,f)):"round"===I&&(x||(a.addCurrentVertex(h,a.distance,E,0,0,!1,f),a.addCurrentVertex(h,a.distance,E,1,1,!0,f),a.e1=a.e2=-1),k&&(a.addCurrentVertex(h,a.distance,S,-1,-1,!0,f),a.addCurrentVertex(h,a.distance,S,0,0,!1,f)));if(P&&C<l-1){var H=h.dist(k);if(H>2*c){var W=h.add(k.sub(h)._mult(c/H)._round());a.distance+=W.dist(h),a.addCurrentVertex(W,a.distance,S.mult(1),0,0,!1,f),h=W}}x=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},w.prototype.addCurrentVertex=function(t,e,n,i,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;l=n.clone(),i&&l._sub(n.perp()._mult(i)),r(u,t,l,a,!1,i,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),o&&l._sub(n.perp()._mult(o)),r(u,t,l,a,!0,-o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>x/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,i,o,a,s))},w.prototype.addPieSliceVertex=function(t,e,n,i,o){n=n.mult(i?-1:1);var a=this.layoutVertexArray,s=this.indexArray;r(a,t,n,!1,i,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},v("LineBucket",w,{omit:["layers"]}),e.exports=w},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./line_attributes":48,"@mapbox/vector-tile":8}],50:[function(t,e,n){"use strict";var r=t("../../util/struct_array"),i=r.createLayout,o=i([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),a=i([{name:"a_projected_pos",components:3,type:"Float32"}],4),s=i([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),l=i([{name:"a_placed",components:2,type:"Uint8"}],4),u={symbolLayoutAttributes:o,dynamicLayoutAttributes:a,placementOpacityAttributes:s,collisionVertexAttributes:l,collisionBox:i([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:i([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:i([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:i([{type:"Float32",name:"offsetX"}]),lineVertex:i([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};e.exports=u},{"../../util/struct_array":271}],51:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*i),o,a,s?s[0]:0,s?s[1]:0)}function i(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var o=t("./symbol_attributes"),a=o.symbolLayoutAttributes,s=o.collisionVertexAttributes,l=o.collisionBoxLayout,u=o.collisionCircleLayout,c=o.dynamicLayoutAttributes,p=t("../array_types"),f=p.SymbolLayoutArray,h=p.SymbolDynamicLayoutArray,d=p.SymbolOpacityArray,m=p.CollisionBoxLayoutArray,y=p.CollisionCircleLayoutArray,v=p.CollisionVertexArray,g=p.PlacedSymbolArray,b=p.GlyphOffsetArray,_=p.SymbolLineVertexArray,x=t("@mapbox/point-geometry"),w=t("../segment"),k=w.SegmentVector,E=t("../program_configuration"),S=E.ProgramConfigurationSet,C=t("../index_array_type"),T=C.TriangleIndexArray,O=C.LineIndexArray,M=t("../../symbol/transform_text"),P=t("../../symbol/mergelines"),A=t("../../util/script_detection"),z=t("../load_geometry"),j=t("@mapbox/vector-tile").VectorTileFeature.types,I=t("../../util/verticalize_punctuation"),L=(t("../../symbol/anchor"),t("../../symbol/symbol_size")),D=L.getSizeData,R=t("../../util/web_worker_transfer"),N=R.register,B=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],F=function(t){this.layoutVertexArray=new f,this.indexArray=new T,this.programConfigurations=t,this.segments=new k,this.dynamicLayoutVertexArray=new h,this.opacityVertexArray=new d,this.placedSymbolArray=new g};F.prototype.upload=function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,c.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,B,!0),this.opacityVertexBuffer.itemSize=1},F.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},N("SymbolBuffers",F);var U=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new k,this.collisionVertexArray=new v};U.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,s.members,!0)},U.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},N("CollisionBuffers",U);var V=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio;var e=this.layers[0],n=e._unevaluatedLayout._values;this.textSizeData=D(this.zoom,n["text-size"]),this.iconSizeData=D(this.zoom,n["icon-size"]);var r=this.layers[0].layout;this.sortFeaturesByY=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")};V.prototype.createArrays=function(){this.text=new F(new S(a.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new F(new S(a.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new U(m,l.members,O),this.collisionCircle=new U(y,u.members,T),this.glyphOffsetArray=new b,this.lineVertexArray=new _},V.prototype.populate=function(t,e){var n=this,r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==a.value.kind||a.value.value.length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],l||u){for(var c=e.iconDependencies,p=e.glyphDependencies,f={zoom:this.zoom},h=0,d=t;h<d.length;h+=1){var m=d[h],y=m.feature,v=m.index,g=m.sourceLayerIndex;if(r._featureFilter(f,y)){var b=void 0;l&&(b=r.getValueAndResolveTokens("text-field",y),b=M(b,r,y));var _=void 0;if(u&&(_=r.getValueAndResolveTokens("icon-image",y)),b||_){var x={text:b,icon:_,index:v,sourceLayerIndex:g,geometry:z(y),properties:y.properties,type:j[y.type]};if(void 0!==y.id&&(x.id=y.id),n.features.push(x),_&&(c[_]=!0),b)for(var w=o.evaluate(y).join(","),k=p[w]=p[w]||{},E="map"===i.get("text-rotation-alignment")&&"line"===i.get("symbol-placement"),S=A.allowsVerticalWritingMode(b),C=0;C<b.length;C++)if(k[b.charCodeAt(C)]=!0,E&&S){var T=I.lookup[b.charAt(C)];T&&(k[T.charCodeAt(0)]=!0)}}}}"line"===i.get("symbol-placement")&&(this.features=P(this.features))}},V.prototype.isEmpty=function(){return 0===this.symbolInstances.length},V.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},V.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},V.prototype.addToLineVertexArray=function(t,e){var n=this,r=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),a={},s=t.segment+1;s<e.length;s++)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s<e.length-1&&(i+=e[s+1].dist(e[s]));for(var l=t.segment||0;l>=0;l--)a[l]={x:e[l].x,y:e[l].y,tileUnitDistanceFromAnchor:o},l>0&&(o+=e[l-1].dist(e[l]));for(var u=0;u<e.length;u++){var c=a[u];n.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},V.prototype.addSymbols=function(t,e,n,o,a,s,l,u,c,p){for(var f=this,h=t.indexArray,d=t.layoutVertexArray,m=t.dynamicLayoutVertexArray,y=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),v=this.glyphOffsetArray.length,g=y.vertexLength,b=0,_=e;b<_.length;b+=1){var x=_[b],w=x.tl,k=x.tr,E=x.bl,S=x.br,C=x.tex,T=y.vertexLength,O=x.glyphOffset[1];r(d,u.x,u.y,w.x,O+w.y,C.x,C.y,n),r(d,u.x,u.y,k.x,O+k.y,C.x+C.w,C.y,n),r(d,u.x,u.y,E.x,O+E.y,C.x,C.y+C.h,n),r(d,u.x,u.y,S.x,O+S.y,C.x+C.w,C.y+C.h,n),i(m,u,0),h.emplaceBack(T,T+1,T+2),h.emplaceBack(T+1,T+2,T+3),y.vertexLength+=4,y.primitiveLength+=2,f.glyphOffsetArray.emplaceBack(x.glyphOffset[0])}t.placedSymbolArray.emplaceBack(u.x,u.y,v,this.glyphOffsetArray.length-v,g,c,p,u.segment,n?n[0]:0,n?n[1]:0,o[0],o[1],l,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,s)},V.prototype._addCollisionDebugVertex=function(t,e,n,r,i){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))},V.prototype.addCollisionDebugVertices=function(t,e,n,r,i,o,a,s){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),u=l.vertexLength,c=i.layoutVertexArray,p=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,p,o,a.anchor,new x(t,e)),this._addCollisionDebugVertex(c,p,o,a.anchor,new x(n,e)),this._addCollisionDebugVertex(c,p,o,a.anchor,new x(n,r)),this._addCollisionDebugVertex(c,p,o,a.anchor,new x(t,r)),l.vertexLength+=4,s){var f=i.indexArray;f.emplaceBack(u,u+1,u+2),f.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var h=i.indexArray;h.emplaceBack(u,u+1),h.emplaceBack(u+1,u+2),h.emplaceBack(u+2,u+3),h.emplaceBack(u+3,u),l.primitiveLength+=4}},V.prototype.generateCollisionDebugBuffers=function(){for(var t=this,e=0,n=t.symbolInstances;e<n.length;e+=1){var r=n[e];r.textCollisionFeature={boxStartIndex:r.textBoxStartIndex,boxEndIndex:r.textBoxEndIndex},r.iconCollisionFeature={boxStartIndex:r.iconBoxStartIndex,boxEndIndex:r.iconBoxEndIndex};for(var i=0;i<2;i++){var o=r[0===i?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var a=o.boxStartIndex;a<o.boxEndIndex;a++){var s=t.collisionBoxArray.get(a),l=s.x1,u=s.y1,c=s.x2,p=s.y2,f=s.radius>0;t.addCollisionDebugVertices(l,u,c,p,f?t.collisionCircle:t.collisionBox,s.anchorPoint,r,f)}}}},V.prototype.deserializeCollisionBoxes=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=r;l<i;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY};break}}return o},V.prototype.hasTextData=function(){return this.text.segments.get().length>0},V.prototype.hasIconData=function(){return this.icon.segments.get().length>0},V.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},V.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},V.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);var i=Math.sin(t),o=Math.cos(t);n.sort(function(t,n){var r=e.symbolInstances[t],a=e.symbolInstances[n];return(i*r.anchor.x+o*r.anchor.y|0)-(i*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-r.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=n;a<s.length;a+=1){for(var l=s[a],u=e.symbolInstances[l],c=0,p=u.placedTextSymbolIndices;c<p.length;c+=1)for(var f=p[c],h=e.text.placedSymbolArray.get(f),d=h.vertexStartIndex+4*h.numGlyphs,m=h.vertexStartIndex;m<d;m+=4)e.text.indexArray.emplaceBack(m,m+1,m+2),e.text.indexArray.emplaceBack(m+1,m+2,m+3);var y=e.icon.placedSymbolArray.get(l);if(y.numGlyphs){var v=y.vertexStartIndex;e.icon.indexArray.emplaceBack(v,v+1,v+2),e.icon.indexArray.emplaceBack(v+1,v+2,v+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},N("SymbolBucket",V,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),V.MAX_GLYPHS=65535,V.addDynamicAttributes=i,e.exports=V},{"../../symbol/anchor":213,"../../symbol/mergelines":221,"../../symbol/symbol_size":228,"../../symbol/transform_text":229,"../../util/script_detection":269,"../../util/verticalize_punctuation":277,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./symbol_attributes":50,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],52:[function(t,e,n){"use strict";var r=t("../util/image"),i=r.RGBAImage,o=t("../util/util"),a=t("../util/web_worker_transfer"),s=a.register,l=function(t,e,n){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=n||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};l.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},l.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},l.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},s("Level",l);var u=function(t,e,n){this.uid=t,this.scale=e||1,this.level=n||new l(256,512),this.loaded=!!n};u.prototype.loadFromImage=function(t){var e=this;if(t.height!==t.width)throw new RangeError("DEM tiles must be square");for(var n=this.level=new l(t.width,t.width/2),r=t.data,i=0;i<n.dim;i++)for(var o=0;o<n.dim;o++){var a=i*n.dim+o,s=4*a;n.set(o,i,e.scale*((256*r[s]*256+256*r[s+1]+r[s+2])/10-1e4))}for(var u=0;u<n.dim;u++)n.set(-1,u,n.get(0,u)),n.set(n.dim,u,n.get(n.dim-1,u)),n.set(u,-1,n.get(u,0)),n.set(u,n.dim,n.get(u,n.dim-1));n.set(-1,-1,n.get(0,0)),n.set(n.dim,-1,n.get(n.dim-1,0)),n.set(-1,n.dim,n.get(0,n.dim-1)),n.set(n.dim,n.dim,n.get(n.dim-1,n.dim-1)),this.loaded=!0},u.prototype.getPixels=function(){return new i({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},u.prototype.backfillBorder=function(t,e,n){var r=this.level,i=t.level;if(r.dim!==i.dim)throw new Error("level mismatch (dem dimension)");var a=e*r.dim,s=e*r.dim+r.dim,l=n*r.dim,u=n*r.dim+r.dim;switch(e){case-1:a=s-1;break;case 1:s=a+1}switch(n){case-1:l=u-1;break;case 1:u=l+1}for(var c=o.clamp(a,-r.border,r.dim+r.border),p=o.clamp(s,-r.border,r.dim+r.border),f=o.clamp(l,-r.border,r.dim+r.border),h=o.clamp(u,-r.border,r.dim+r.border),d=-e*r.dim,m=-n*r.dim,y=f;y<h;y++)for(var v=c;v<p;v++)r.set(v,y,i.get(v+d,y+m))},s("DEMData",u),e.exports={DEMData:u,Level:l}},{"../util/image":263,"../util/util":275,"../util/web_worker_transfer":278}],53:[function(t,e,n){"use strict";e.exports=8192},{}],54:[function(t,e,n){"use strict";function r(t,e){return e-t}var i=(t("@mapbox/point-geometry"),t("./load_geometry")),o=t("./extent"),a=t("../style-spec/feature_filter"),s=t("grid-index"),l=t("../util/dictionary_coder"),u=t("@mapbox/vector-tile"),c=t("pbf"),p=t("../util/vectortile_to_geojson"),f=t("../util/util").arraysIntersect,h=t("../source/tile_id"),d=(h.OverscaledTileID,t("../util/web_worker_transfer")),m=d.register,y=t("./array_types"),v=y.FeatureIndexArray,g=function(t,e,n,r){this.tileID=t,this.overscaling=e,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=n||new s(o,16,0),this.featureIndexArray=r||new v};g.prototype.insert=function(t,e,n,r,i){var o=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=0;s<e.length;s++){for(var l=e[s],u=[1/0,1/0,-1/0,-1/0],c=0;c<l.length;c++){var p=l[c];u[0]=Math.min(u[0],p.x),u[1]=Math.min(u[1],p.y),u[2]=Math.max(u[2],p.x),u[3]=Math.max(u[3],p.y)}o.grid.insert(a,u[0],u[1],u[2],u[3])}},g.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new u.VectorTile(new c(this.rawTileData)).layers,this.sourceLayerCoder=new l(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},i=t.params||{},s=o/t.tileSize/t.scale,p=a(i.filter),f=t.queryGeometry,h=t.additionalRadius*s,d=1/0,m=1/0,y=-1/0,v=-1/0,g=0;g<f.length;g++)for(var b=f[g],_=0;_<b.length;_++){var x=b[_];d=Math.min(d,x.x),m=Math.min(m,x.y),y=Math.max(y,x.x),v=Math.max(v,x.y)}var w=this.grid.query(d-h,m-h,y+h,v+h);w.sort(r),this.filterMatching(n,w,this.featureIndexArray,f,p,i.layers,e,t.bearing,s);var k=t.collisionIndex?t.collisionIndex.queryRenderedSymbols(f,this.tileID,o/t.tileSize,t.collisionBoxArray,t.sourceID,t.bucketInstanceIds):[];return k.sort(),this.filterMatching(n,k,t.collisionBoxArray,f,p,i.layers,e,t.bearing,s),n},g.prototype.filterMatching=function(t,e,n,r,o,a,s,l,u){for(var c,h=this,d=0;d<e.length;d++){var m=e[d];if(m!==c){c=m;var y=n.get(m),v=h.bucketLayerIDs[y.bucketIndex];if(!a||f(a,v)){var g=h.sourceLayerCoder.decode(y.sourceLayerIndex),b=h.vtLayers[g],_=b.feature(y.featureIndex);if(o({zoom:h.tileID.overscaledZ},_))for(var x=null,w=0;w<v.length;w++){var k=v[w];if(!(a&&a.indexOf(k)<0)){var E=s[k];if(E&&("symbol"===E.type||(x||(x=i(_)),E.queryIntersectsFeature(r,_,x,h.z,l,u)))){var S=new p(_,h.z,h.x,h.y);S.layer=E.serialize();var C=t[k];void 0===C&&(C=t[k]=[]),C.push({featureIndex:m,feature:S})}}}}}}},g.prototype.hasLayer=function(t){for(var e=this,n=0,r=e.bucketLayerIDs;n<r.length;n+=1)for(var i=r[n],o=0,a=i;o<a.length;o+=1){var s=a[o];if(t===s)return!0}return!1},m("FeatureIndex",g,{omit:["rawTileData","sourceLayerCoder"]}),e.exports=g},{"../source/tile_id":114,"../style-spec/feature_filter":148,"../util/dictionary_coder":257,"../util/util":275,"../util/vectortile_to_geojson":276,"../util/web_worker_transfer":278,"./array_types":39,"./extent":53,"./load_geometry":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":24,pbf:30}],55:[function(t,e,n){"use strict";e.exports={LineIndexArray:t("./array_types").LineIndexArray,TriangleIndexArray:t("./array_types").TriangleIndexArray}},{"./array_types":39}],56:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("./extent"),o=function(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}(16);e.exports=function(t){for(var e=i/t.extent,n=t.loadGeometry(),a=0;a<n.length;a++)for(var s=n[a],l=0;l<s.length;l++){var u=s[l];u.x=Math.round(u.x*e),u.y=Math.round(u.y*e),(u.x<o.min||u.x>o.max||u.y<o.min||u.y>o.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},{"../util/util":275,"./extent":53}],57:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r.createLayout;e.exports=i([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],58:[function(t,e,n){"use strict";function r(t){return[o(255*t.r,255*t.g),o(255*t.b,255*t.a)]}function i(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace(e+"-","").replace(/-/g,"_")}var o=t("../shaders/encode_attribute").packUint8ToFloat,a=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),s=a.register,l=t("../style/properties"),u=l.PossiblyEvaluatedPropertyValue,c=t("./array_types"),p=c.StructArrayLayout1f4,f=c.StructArrayLayout2f8,h=c.StructArrayLayout4f16,d=function(t,e,n){this.value=t,this.name=e,this.type=n,this.statistics={max:-1/0}};d.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},d.prototype.populatePaintArray=function(){},d.prototype.upload=function(){},d.prototype.destroy=function(){},d.prototype.setUniforms=function(t,e,n,r){var i=r.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):o.uniform1f(e.uniforms["u_"+this.name],i)};var m=function(t,e,n){this.expression=t,this.name=e,this.type=n,this.statistics={max:-1/0};var r="color"===n?f:p;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}],this.paintVertexArray=new r};m.prototype.defines=function(){return[]},m.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,i=n.length;n.reserve(t);var o=this.expression.evaluate({zoom:0},e);if("color"===this.type)for(var a=r(o),s=i;s<t;s++)n.emplaceBack(a[0],a[1]);else{for(var l=i;l<t;l++)n.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},m.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},m.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},m.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var y=function(t,e,n,r,i){this.expression=t,this.name=e,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.statistics={max:-1/0};var o="color"===n?h:f;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}],this.paintVertexArray=new o};y.prototype.defines=function(){return[]},y.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,i=n.length;n.reserve(t);var o=this.expression.evaluate({zoom:this.zoom},e),a=this.expression.evaluate({zoom:this.zoom+1},e);if("color"===this.type)for(var s=r(o),l=r(a),u=i;u<t;u++)n.emplaceBack(s[0],s[1],l[0],l[1]);else{for(var c=i;c<t;c++)n.emplaceBack(o,a);this.statistics.max=Math.max(this.statistics.max,o,a)}},y.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},y.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},y.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},y.prototype.setUniforms=function(t,e,n){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var v=function(){this.binders={},this.cacheKey="",this._buffers=[]};v.createDynamic=function(t,e,n){var r=new v,o=[];for(var a in t.paint._values)if(n(a)){var s=t.paint.get(a);if(s instanceof u&&s.property.specification["property-function"]){var l=i(a,t.type),c=s.property.specification.type,p=s.property.useIntegerZoom;"constant"===s.value.kind?(r.binders[a]=new d(s.value,l,c),o.push("/u_"+l)):"source"===s.value.kind?(r.binders[a]=new m(s.value,l,c),o.push("/a_"+l)):(r.binders[a]=new y(s.value,l,c,p,e),o.push("/z_"+l))}}return r.cacheKey=o.sort().join(""),r},v.prototype.populatePaintArrays=function(t,e){var n=this;for(var r in n.binders)n.binders[r].populatePaintArray(t,e)},v.prototype.defines=function(){var t=this,e=[];for(var n in t.binders)e.push.apply(e,t.binders[n].defines());return e},v.prototype.setUniforms=function(t,e,n,r){var i=this;for(var o in i.binders)i.binders[o].setUniforms(t,e,r,n.get(o))},v.prototype.getPaintVertexBuffers=function(){return this._buffers},v.prototype.upload=function(t){var e=this;for(var n in e.binders)e.binders[n].upload(t);var r=[];for(var i in e.binders){var o=e.binders[i];(o instanceof m||o instanceof y)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},v.prototype.destroy=function(){var t=this;for(var e in t.binders)t.binders[e].destroy()};var g=function(t,e,n,r){var i=this;void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o];i.programConfigurations[s.id]=v.createDynamic(s,n,r),i.programConfigurations[s.id].layoutAttributes=t}};g.prototype.populatePaintArrays=function(t,e){var n=this;for(var r in n.programConfigurations)n.programConfigurations[r].populatePaintArrays(t,e)},g.prototype.get=function(t){return this.programConfigurations[t]},g.prototype.upload=function(t){var e=this;for(var n in e.programConfigurations)e.programConfigurations[n].upload(t)},g.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},s("ConstantBinder",d),s("SourceExpressionBinder",m),s("CompositeExpressionBinder",y),s("ProgramConfiguration",v,{omit:["_buffers"]}),s("ProgramConfigurationSet",g),e.exports={ProgramConfiguration:v,ProgramConfigurationSet:g}},{"../shaders/encode_attribute":96,"../style-spec/util/color":153,"../style/properties":188,"../util/web_worker_transfer":278,"./array_types":39}],59:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r.createLayout;e.exports=i([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],60:[function(t,e,n){"use strict";var r=t("../util/util"),i=r.warnOnce,o=t("../util/web_worker_transfer"),a=o.register,s=Math.pow(2,16)-1,l=function(t){void 0===t&&(t=[]),this.segments=t};l.prototype.prepareSegment=function(t,n,r){var o=this.segments[this.segments.length-1];return t>s&&i("Max vertices per segment is "+s+": bucket requested "+t),(!o||o.vertexLength+t>e.exports.MAX_VERTEX_ARRAY_LENGTH)&&(o={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(o)),o},l.prototype.get=function(){return this.segments},l.prototype.destroy=function(){for(var t=this,e=0,n=t.segments;e<n.length;e+=1){var r=n[e];for(var i in r.vaos)r.vaos[i].destroy()}},a("SegmentVector",l),e.exports={SegmentVector:l,MAX_VERTEX_ARRAY_LENGTH:s}},{"../util/util":275,"../util/web_worker_transfer":278}],61:[function(t,e,n){"use strict";var r=function(t,e,n){this.column=t,this.row=e,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},r.prototype.sub=function(t){return this.clone()._sub(t)},r.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},r.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=r},{}],62:[function(t,e,n){"use strict";var r=t("../util/util").wrap,i=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.prototype.toBounds=function(e){var n=360*e/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new i(this.lng-r,this.lat-n),new i(this.lng+r,this.lat+n))},i.convert=function(t){if(t instanceof i)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new i(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new i(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=i},{"../util/util":275,"./lng_lat_bounds":63}],63:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};i.prototype.setNorthEast=function(t){return this._ne=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.setSouthWest=function(t){return this._sw=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.extend=function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof i))return Array.isArray(t)?t.every(Array.isArray)?this.extend(i.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},i.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},i.prototype.getSouthWest=function(){return this._sw},i.prototype.getNorthEast=function(){return this._ne},i.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},i.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},i.prototype.getWest=function(){return this._sw.lng},i.prototype.getSouth=function(){return this._sw.lat},i.prototype.getEast=function(){return this._ne.lng},i.prototype.getNorth=function(){return this._ne.lat},i.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},i.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},i.prototype.isEmpty=function(){return!(this._sw&&this._ne)},i.convert=function(t){return!t||t instanceof i?t:new i(t)},e.exports=i},{"./lng_lat":62}],64:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=t("@mapbox/point-geometry"),o=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate").number,l=t("../util/tile_cover"),u=t("../source/tile_id"),c=(u.CanonicalTileID,u.UnwrappedTileID),p=t("../data/extent"),f=t("@mapbox/gl-matrix"),h=f.vec4,d=f.mat4,m=f.mat2,y=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};y.prototype.clone=function(){var t=new y(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new i(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=m.create(),m.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},y.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},y.prototype.getVisibleUnwrappedCoordinates=function(t){var e=this.pointCoordinate(new i(0,0),0),n=this.pointCoordinate(new i(this.width,0),0),r=Math.floor(e.column),o=Math.floor(n.column),a=[new c(0,t)];if(this._renderWorldCopies)for(var s=r;s<=o;s++)0!==s&&a.push(new c(s,t));return a},y.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),o=new i(r.column-.5,r.row-.5),a=[this.pointCoordinate(new i(0,0),e),this.pointCoordinate(new i(this.width,0),e),this.pointCoordinate(new i(this.width,this.height),e),this.pointCoordinate(new i(0,this.height),e)];return l(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t.canonical)-o.dist(e.canonical)})},y.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},y.prototype.zoomScale=function(t){return Math.pow(2,t)},y.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},y.prototype.project=function(t){return new i(this.lngX(t.lng),this.latY(t.lat))},y.prototype.unproject=function(t){return new r(this.xLng(t.x),this.yLat(t.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new i(this.x,this.y)},y.prototype.lngX=function(t){return(180+t)*this.worldSize/360},y.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},y.prototype.xLng=function(t){return 360*t/this.worldSize-180},y.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},y.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},y.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},y.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},y.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},y.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new r(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},y.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(n,n,this.pixelMatrixInverse),h.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],l=n[0]/i,u=r[0]/a,c=n[1]/i,p=r[1]/a,f=n[2]/i,d=r[2]/a,m=f===d?0:(0-f)/(d-f);return new o(s(l,u,m)/this.tileSize,s(c,p,m)/this.tileSize,this.zoom)._zoomTo(e)},y.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return h.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},y.prototype.calculatePosMatrix=function(t,e){void 0===e&&(e=!1);var n=t.key,r=e?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),a=i.x+Math.pow(2,i.z)*t.wrap,s=d.identity(new Float64Array(16));return d.translate(s,s,[a*o,i.y*o,0]),d.scale(s,s,[o/p,o/p,1]),d.multiply(s,e?this.alignedProjMatrix:this.projMatrix,s),r[n]=new Float32Array(s),r[n]},y.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=this.latY(p[1]),a=this.latY(p[0]),t=a-o<u.y?u.y/(a-o):0}if(this.lngRange){var f=this.lngRange;s=this.lngX(f[0]),l=this.lngX(f[1]),e=l-s<u.x?u.x/(l-s):0}var h=Math.max(e||0,t||0);if(h)return this.center=this.unproject(new i(e?(l+s)/2:this.x,t?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=this.y,m=u.y/2;d-m<o&&(r=o+m),d+m>a&&(r=a-m)}if(this.lngRange){var y=this.x,v=u.x/2;y-v<s&&(n=s+v),y+v>l&&(n=l-v)}void 0===n&&void 0===r||(this.center=this.unproject(new i(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=c,this._constraining=!1}},y.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=this.x,i=this.y,o=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,a=1.01*o,s=new Float64Array(16);d.perspective(s,this._fov,this.width/this.height,1,a),d.scale(s,s,[1,-1,1]),d.translate(s,s,[0,0,-this.cameraToCenterDistance]),d.rotateX(s,s,this._pitch),d.rotateZ(s,s,this.angle),d.translate(s,s,[-r,-i,0]);var l=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));d.scale(s,s,[1,1,l,1]),this.projMatrix=s;var u=this.width%2/2,c=this.height%2/2,p=Math.cos(this.angle),f=Math.sin(this.angle),h=r-Math.round(r)+p*u+f*c,m=i-Math.round(i)+p*c+f*u,y=new Float64Array(s);if(d.translate(y,y,[h>.5?h-1:h,m>.5?m-1:m,0]),this.alignedProjMatrix=y,s=d.create(),d.scale(s,s,[this.width/2,-this.height/2,1]),d.translate(s,s,[1,-1,0]),this.pixelMatrix=d.multiply(new Float64Array(16),s,this.projMatrix),!(s=d.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Object.defineProperties(y.prototype,v),e.exports=y},{"../data/extent":53,"../source/tile_id":114,"../style-spec/util/interpolate":158,"../util/tile_cover":273,"../util/util":275,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],65:[function(t,e,n){"use strict";var r=t("../style-spec/util/color"),i=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};i.Replace=[1,0],i.disabled=new i(i.Replace,r.transparent,[!1,!1,!1,!1]),i.unblended=new i(i.Replace,r.transparent,[!0,!0,!0,!0]),i.alphaBlended=new i([1,771],r.transparent,[!0,!0,!0,!0]),e.exports=i},{"../style-spec/util/color":153}],66:[function(t,e,n){"use strict";var r=t("./index_buffer"),i=t("./vertex_buffer"),o=t("./framebuffer"),a=(t("./depth_mode"),t("./stencil_mode"),t("./color_mode")),s=t("../util/util"),l=t("./value"),u=l.ClearColor,c=l.ClearDepth,p=l.ClearStencil,f=l.ColorMask,h=l.DepthMask,d=l.StencilMask,m=l.StencilFunc,y=l.StencilOp,v=l.StencilTest,g=l.DepthRange,b=l.DepthTest,_=l.DepthFunc,x=l.Blend,w=l.BlendFunc,k=l.BlendColor,E=l.Program,S=l.LineWidth,C=l.ActiveTextureUnit,T=l.Viewport,O=l.BindFramebuffer,M=l.BindRenderbuffer,P=l.BindTexture,A=l.BindVertexBuffer,z=l.BindElementBuffer,j=l.BindVertexArrayOES,I=l.PixelStoreUnpack,L=l.PixelStoreUnpackPremultiplyAlpha,D=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new u(this),this.clearDepth=new c(this),this.clearStencil=new p(this),this.colorMask=new f(this),this.depthMask=new h(this),this.stencilMask=new d(this),this.stencilFunc=new m(this),this.stencilOp=new y(this),this.stencilTest=new v(this),this.depthRange=new g(this),this.depthTest=new b(this),this.depthFunc=new _(this),this.blend=new x(this),this.blendFunc=new w(this),this.blendColor=new k(this),this.program=new E(this),this.lineWidth=new S(this),this.activeTexture=new C(this),this.viewport=new T(this),this.bindFramebuffer=new O(this),this.bindRenderbuffer=new M(this),this.bindTexture=new P(this),this.bindVertexBuffer=new A(this),this.bindElementBuffer=new z(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new j(this),this.pixelStoreUnpack=new I(this),this.pixelStoreUnpackPremultiplyAlpha=new L(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};D.prototype.createIndexBuffer=function(t,e){return new r(this,t,e)},D.prototype.createVertexBuffer=function(t,e,n){return new i(this,t,e,n)},D.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},D.prototype.createFramebuffer=function(t,e){return new o(this,t,e)},D.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},D.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},D.prototype.setStencilMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},D.prototype.setColorMode=function(t){s.deepEqual(t.blendFunction,a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},e.exports=D},{"../util/util":275,"./color_mode":65,"./depth_mode":67,"./framebuffer":68,"./index_buffer":69,"./stencil_mode":70,"./value":71,"./vertex_buffer":72}],67:[function(t,e,n){"use strict";var r=function(t,e,n){this.func=t,this.mask=e,this.range=n};r.ReadOnly=!1,r.ReadWrite=!0,r.disabled=new r(519,r.ReadOnly,[0,1]),e.exports=r},{}],68:[function(t,e,n){"use strict";var r=t("./value"),i=r.ColorAttachment,o=r.DepthAttachment,a=function(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,a=this.framebuffer=r.createFramebuffer();this.colorAttachment=new i(t,a),this.depthAttachment=new o(t,a)};a.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)},e.exports=a},{"./value":71}],69:[function(t,e,n){"use strict";var r=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};r.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},r.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},r.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},r.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=r},{}],70:[function(t,e,n){"use strict";var r=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};r.disabled=new r({func:519,mask:0},0,0,7680,7680,7680),e.exports=r},{}],71:[function(t,e,n){"use strict";var r=t("../style-spec/util/color"),i=t("../util/util"),o=function(t){this.context=t,this.current=r.transparent};o.prototype.get=function(){return this.current},o.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var a=function(t){this.context=t,this.current=1};a.prototype.get=function(){return this.current},a.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var s=function(t){this.context=t,this.current=0};s.prototype.get=function(){return this.current},s.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var l=function(t){this.context=t,this.current=[!0,!0,!0,!0]};l.prototype.get=function(){return this.current},l.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var u=function(t){this.context=t,this.current=!0};u.prototype.get=function(){return this.current},u.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var c=function(t){this.context=t,this.current=255};c.prototype.get=function(){return this.current},c.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var p=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};p.prototype.get=function(){return this.current},p.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var f=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};f.prototype.get=function(){return this.current},f.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var h=function(t){this.context=t,this.current=!1};h.prototype.get=function(){return this.current},h.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var d=function(t){this.context=t,this.current=[0,1]};d.prototype.get=function(){return this.current},d.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var m=function(t){this.context=t,this.current=!1};m.prototype.get=function(){return this.current},m.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var y=function(t){this.context=t,this.current=t.gl.LESS};y.prototype.get=function(){return this.current},y.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var v=function(t){this.context=t,this.current=!1};v.prototype.get=function(){return this.current},v.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var g=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};g.prototype.get=function(){return this.current},g.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var b=function(t){this.context=t,this.current=r.transparent};b.prototype.get=function(){return this.current},b.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var _=function(t){this.context=t,this.current=null};_.prototype.get=function(){return this.current},_.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var x=function(t){this.context=t,this.current=1};x.prototype.get=function(){return this.current},x.prototype.set=function(t){var e=this.context.lineWidthRange,n=i.clamp(t,e[0],e[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=t)};var w=function(t){this.context=t,this.current=t.gl.TEXTURE0};w.prototype.get=function(){return this.current},w.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var k=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};k.prototype.get=function(){return this.current},k.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var E=function(t){this.context=t,this.current=null};E.prototype.get=function(){return this.current},E.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var S=function(t){this.context=t,this.current=null};S.prototype.get=function(){return this.current},S.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var C=function(t){this.context=t,this.current=null};C.prototype.get=function(){return this.current},C.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var T=function(t){this.context=t,this.current=null};T.prototype.get=function(){return this.current},T.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var O=function(t){this.context=t,this.current=null};O.prototype.get=function(){return this.current},O.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var M=function(t){this.context=t,this.current=null};M.prototype.get=function(){return this.current},M.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var P=function(t){this.context=t,this.current=4};P.prototype.get=function(){return this.current},P.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var A=function(t){this.context=t,this.current=!1};A.prototype.get=function(){return this.current},A.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var z=function(t,e){this.context=t,this.current=null,this.parent=e};z.prototype.get=function(){return this.current};var j=function(t){function e(e,n){t.call(this,e,n),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(z),I=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(z);e.exports={ClearColor:o,ClearDepth:a,ClearStencil:s,ColorMask:l,DepthMask:u,StencilMask:c,StencilFunc:p,StencilOp:f,StencilTest:h,DepthRange:d,DepthTest:m,DepthFunc:y,Blend:v,BlendFunc:g,BlendColor:b,Program:_,LineWidth:x,ActiveTextureUnit:w,Viewport:k,BindFramebuffer:E,BindRenderbuffer:S,BindTexture:C,BindVertexBuffer:T,BindElementBuffer:O,BindVertexArrayOES:M,PixelStoreUnpack:P,PixelStoreUnpackPremultiplyAlpha:A,ColorAttachment:j,DepthAttachment:I}},{"../style-spec/util/color":153,"../util/util":275}],72:[function(t,e,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},i=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};i.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},i.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},i.prototype.enableAttributes=function(t,e){for(var n=this,r=0;r<this.attributes.length;r++){var i=n.attributes[r],o=e.attributes[i.name];void 0!==o&&t.enableVertexAttribArray(o)}},i.prototype.setVertexAttribPointers=function(t,e,n){for(var i=this,o=0;o<this.attributes.length;o++){var a=i.attributes[o],s=e.attributes[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[r[a.type]],!1,i.itemSize,a.offset+i.itemSize*(n||0))}},i.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=i},{}],73:[function(t,e,n){"use strict";var r=t("@mapbox/mapbox-gl-supported"),i=t("./util/browser"),o=t("../package.json").version,a=t("./ui/map"),s=t("./ui/control/navigation_control"),l=t("./ui/control/geolocate_control"),u=t("./ui/control/attribution_control"),c=t("./ui/control/scale_control"),p=t("./ui/control/fullscreen_control"),f=t("./ui/popup"),h=t("./ui/marker"),d=t("./style/style"),m=t("./geo/lng_lat"),y=t("./geo/lng_lat_bounds"),v=t("@mapbox/point-geometry"),g=t("./util/evented"),b=t("./util/config"),_=t("./source/rtl_text_plugin");e.exports={version:o,supported:r,workerCount:Math.max(Math.floor(i.hardwareConcurrency/2),1),setRTLTextPlugin:_.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:l,AttributionControl:u,ScaleControl:c,FullscreenControl:p,Popup:f,Marker:h,Style:d,LngLat:m,LngLatBounds:y,Point:v,Evented:g,config:b,get accessToken(){return b.ACCESS_TOKEN},set accessToken(t){b.ACCESS_TOKEN=t}}},{"../package.json":38,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":109,"./style/style":190,"./ui/control/attribution_control":232,"./ui/control/fullscreen_control":233,"./ui/control/geolocate_control":234,"./ui/control/navigation_control":236,"./ui/control/scale_control":237,"./ui/map":247,"./ui/marker":248,"./ui/popup":249,"./util/browser":252,"./util/config":256,"./util/evented":260,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],74:[function(t,e,n){"use strict";function r(t,e,n){var r=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0!==s){var l=t.context,u=l.gl,c=t.transform,p=c.tileSize,f=n.paint.get("background-pattern"),h=f||1!==r.a||1!==s?"translucent":"opaque";if(t.renderPass===h){l.setStencilMode(o.disabled),l.setDepthMode(t.depthModeForSublayer(0,"opaque"===h?a.ReadWrite:a.ReadOnly)),l.setColorMode(t.colorModeForRenderPass());var d;if(f){if(i.isPatternMissing(f,t))return;d=t.useProgram("backgroundPattern"),i.prepare(f,t,d),t.tileExtentPatternVAO.bind(l,d,t.tileExtentBuffer,[])}else d=t.useProgram("background"),u.uniform4fv(d.uniforms.u_color,[r.r,r.g,r.b,r.a]),t.tileExtentVAO.bind(l,d,t.tileExtentBuffer,[]);u.uniform1f(d.uniforms.u_opacity,s);for(var m=c.coveringTiles({tileSize:p}),y=0,v=m;y<v.length;y+=1){var g=v[y];f&&i.setTile({tileID:g,tileSize:p},t,d),u.uniformMatrix4fv(d.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(g.toUnwrapped())),u.drawArrays(u.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}var i=t("./pattern"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"./pattern":91}],75:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var s=n.paint.get("circle-opacity"),l=n.paint.get("circle-stroke-width"),u=n.paint.get("circle-stroke-opacity");if(0!==s.constantOr(1)||0!==l.constantOr(1)&&0!==u.constantOr(1)){var c=t.context,p=c.gl;c.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),c.setStencilMode(o.disabled),c.setColorMode(t.colorModeForRenderPass());for(var f=!0,h=0;h<r.length;h++){var d=r[h],m=e.getTile(d),y=m.getBucket(n);if(y){var v=t.context.program.get(),g=y.programConfigurations.get(n.id),b=t.useProgram("circle",g);if((f||b.program!==v)&&(g.setUniforms(c,b,n.paint,{zoom:t.transform.zoom}),f=!1),p.uniform1f(b.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),p.uniform1i(b.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){p.uniform1i(b.uniforms.u_pitch_with_map,1);var _=i(m,1,t.transform.zoom);p.uniform2f(b.uniforms.u_extrude_scale,_,_)}else p.uniform1i(b.uniforms.u_pitch_with_map,0),p.uniform2fv(b.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);p.uniformMatrix4fv(b.uniforms.u_matrix,!1,t.translatePosMatrix(d.posMatrix,m,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),b.draw(c,p.TRIANGLES,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,g)}}}}}var i=t("../source/pixels_to_tile_units"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],76:[function(t,e,n){"use strict";function r(t,e,n,r,i){var l=t.context,u=l.gl,c=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox");l.setDepthMode(a.disabled),l.setStencilMode(s.disabled),l.setColorMode(t.colorModeForRenderPass());for(var p=0;p<r.length;p++){var f=r[p],h=e.getTile(f),d=h.getBucket(n);if(d){var m=i?d.collisionCircle:d.collisionBox;if(m){u.uniformMatrix4fv(c.uniforms.u_matrix,!1,f.posMatrix),i||l.lineWidth.set(1),u.uniform1f(c.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var y=o(h,1,t.transform.zoom),v=Math.pow(2,t.transform.zoom-h.tileID.overscaledZ);u.uniform1f(c.uniforms.u_pixels_to_tile_units,y),u.uniform2f(c.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(y*v),t.transform.pixelsToGLUnits[1]/(y*v)),c.draw(l,i?u.TRIANGLES:u.LINES,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,m.collisionVertexBuffer,null)}}}}function i(t,e,n,i){r(t,e,n,i,!1),r(t,e,n,i,!0)}var o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode"),s=t("../gl/stencil_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],77:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)i(t,e,n[r])}function i(t,e,n){var r=t.context,i=r.gl;r.lineWidth.set(1*a.devicePixelRatio);var c=n.posMatrix,m=t.useProgram("debug");r.setDepthMode(h.disabled),r.setStencilMode(d.disabled),r.setColorMode(t.colorModeForRenderPass()),i.uniformMatrix4fv(m.uniforms.u_matrix,!1,c),i.uniform4f(m.uniforms.u_color,1,0,0,1),t.debugVAO.bind(r,m,t.debugBuffer,[]),i.drawArrays(i.LINE_STRIP,0,t.debugBuffer.length);for(var y=o(n.toString(),50,200,5),v=new p,g=0;g<y.length;g+=2)v.emplaceBack(y[g],y[g+1]);var b=r.createVertexBuffer(v,f.members);(new u).bind(r,m,b,[]),i.uniform4f(m.uniforms.u_color,1,1,1,1);for(var _=e.getTile(n).tileSize,x=l/(Math.pow(2,t.transform.zoom-n.overscaledZ)*_),w=[[-1,-1],[-1,1],[1,-1],[1,1]],k=0;k<w.length;k++){var E=w[k];i.uniformMatrix4fv(m.uniforms.u_matrix,!1,s.translate([],c,[x*E[0],x*E[1],0])),i.drawArrays(i.LINES,0,b.length)}i.uniform4f(m.uniforms.u_color,0,0,0,1),i.uniformMatrix4fv(m.uniforms.u_matrix,!1,c),i.drawArrays(i.LINES,0,b.length)}function o(t,e,n,r){r=r||1;var i,o,a,s,l,u,c,p,f=[];for(i=0,o=t.length;i<o;i++)if(l=m[t[i]]){for(p=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?p=null:(u=e+l[1][a]*r,c=n-l[1][a+1]*r,p&&f.push(p.x,p.y,u,c),p={x:u,y:c});e+=l[0]*r}return f}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,l=t("../data/extent"),u=t("./vertex_array_object"),c=t("../data/array_types"),p=c.PosArray,f=t("../data/pos_attributes"),h=t("../gl/depth_mode"),d=t("../gl/stencil_mode");e.exports=r;var m={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../util/browser":252,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],78:[function(t,e,n){"use strict";function r(t,e,n,r){var s=n.paint.get("fill-color"),l=n.paint.get("fill-opacity");if(0!==l.constantOr(1)){var p=t.context;p.setColorMode(t.colorModeForRenderPass());var f=n.paint.get("fill-pattern")||1!==s.constantOr(u.transparent).a||1!==l.constantOr(0)?"translucent":"opaque";t.renderPass===f&&(p.setDepthMode(t.depthModeForSublayer(1,"opaque"===t.renderPass?c.ReadWrite:c.ReadOnly)),i(t,e,n,r,o)),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&(p.lineWidth.set(2),p.setDepthMode(t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,c.ReadOnly)),i(t,e,n,r,a))}}function i(t,e,n,r,i){if(!l.isPatternMissing(n.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=r;a<s.length;a+=1){var u=s[a],c=e.getTile(u),p=c.getBucket(n);p&&(t.context.setStencilMode(t.stencilModeForClipping(u)),i(t,e,n,c,u,p,o),o=!1)}}function o(t,e,n,r,i,o,a){var l=t.context.gl,u=o.programConfigurations.get(n.id);s("fill",n.paint.get("fill-pattern"),t,u,n,r,i,a).draw(t.context,l.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,u)}function a(t,e,n,r,i,o,a){var l=t.context.gl,u=o.programConfigurations.get(n.id),c=n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),p=s("fillOutline",c,t,u,n,r,i,a);l.uniform2f(p.uniforms.u_world,l.drawingBufferWidth,l.drawingBufferHeight),p.draw(t.context,l.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,u)}function s(t,e,n,r,i,o,a,s){var u,c=n.context.program.get();return e?(u=n.useProgram(t+"Pattern",r),(s||u.program!==c)&&(r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom}),l.prepare(e,n,u)),l.setTile(o,n,u)):(u=n.useProgram(t,r),(s||u.program!==c)&&r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom})),n.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"))),u}var l=t("./pattern"),u=t("../style-spec/util/color"),c=t("../gl/depth_mode");e.exports=r},{"../gl/depth_mode":67,"../style-spec/util/color":153,"./pattern":91}],79:[function(t,e,n){"use strict";function r(t,e,n,r){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===t.renderPass){i(t,n);for(var s=!0,l=0,u=r;l<u.length;l+=1){var c=u[l],p=e.getTile(c),f=p.getBucket(n);f&&(a(t,e,n,p,c,f,s),s=!1)}}else"translucent"===t.renderPass&&o(t,n)}function i(t,e){var n=t.context,r=n.gl,i=e.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!i){var o=new c(n,{width:t.width,height:t.height,data:null},r.RGBA);o.bind(r.LINEAR,r.CLAMP_TO_EDGE),i=e.viewportFrame=n.createFramebuffer(t.width,t.height),i.colorAttachment.set(o.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(n.clear({depth:1}),t.depthRboNeedsClear=!1),n.clear({color:p.transparent}),n.setStencilMode(y.disabled),n.setDepthMode(new f(r.LEQUAL,f.ReadWrite,[0,1])),n.setColorMode(t.colorModeForRenderPass())}function o(t,e){var n=e.viewportFrame;if(n){var r=t.context,i=r.gl,o=t.useProgram("extrusionTexture");r.setStencilMode(y.disabled),r.setDepthMode(f.disabled),r.setColorMode(t.colorModeForRenderPass()),r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),i.uniform1f(o.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),i.uniform1i(o.uniforms.u_image,0);var a=d.create();d.ortho(a,0,t.width,t.height,0,0,1),i.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),i.uniform2f(o.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),t.viewportVAO.bind(r,o,t.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}function a(t,e,n,r,i,o,a){var l=t.context,c=l.gl,p=n.paint.get("fill-extrusion-pattern"),f=t.context.program.get(),h=o.programConfigurations.get(n.id),d=t.useProgram(p?"fillExtrusionPattern":"fillExtrusion",h);if((a||d.program!==f)&&h.setUniforms(l,d,n.paint,{zoom:t.transform.zoom}),p){if(u.isPatternMissing(p,t))return;u.prepare(p,t,d),u.setTile(r,t,d),c.uniform1f(d.uniforms.u_height_factor,-Math.pow(2,i.overscaledZ)/r.tileSize/8)}t.context.gl.uniformMatrix4fv(d.uniforms.u_matrix,!1,t.translatePosMatrix(i.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),s(d,t),d.draw(l,c.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,h)}function s(t,e){var n=e.context.gl,r=e.style.light,i=r.properties.get("position"),o=[i.x,i.y,i.z],a=h.create();"viewport"===r.properties.get("anchor")&&h.fromRotation(a,-e.transform.angle),m.transformMat3(o,o,a);var s=r.properties.get("color");n.uniform3fv(t.uniforms.u_lightpos,o),n.uniform1f(t.uniforms.u_lightintensity,r.properties.get("intensity")),n.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}var l=t("@mapbox/gl-matrix"),u=t("./pattern"),c=t("./texture"),p=t("../style-spec/util/color"),f=t("../gl/depth_mode"),h=l.mat3,d=l.mat4,m=l.vec3,y=t("../gl/stencil_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../style-spec/util/color":153,"./pattern":91,"./texture":93,"@mapbox/gl-matrix":2}],80:[function(t,e,n){"use strict";function r(t,e,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,s=o.gl;o.setDepthMode(t.depthModeForSublayer(0,p.ReadOnly)),o.setStencilMode(f.disabled),i(o,t,n),o.clear({color:c.transparent}),o.setColorMode(new h([s.ONE,s.ONE],c.transparent,[!0,!0,!0,!0]));for(var l=!0,d=0;d<r.length;d++){var m=r[d];if(!e.hasRenderableParent(m)){var y=e.getTile(m),v=y.getBucket(n);if(v){var g=t.context.program.get(),b=v.programConfigurations.get(n.id),_=t.useProgram("heatmap",b),x=t.transform,w=x.zoom;(l||_.program!==g)&&(b.setUniforms(t.context,_,n.paint,{zoom:w}),l=!1),s.uniform1f(_.uniforms.u_extrude_scale,u(y,1,w)),s.uniform1f(_.uniforms.u_intensity,n.paint.get("heatmap-intensity")),s.uniformMatrix4fv(_.uniforms.u_matrix,!1,m.posMatrix),_.draw(o,s.TRIANGLES,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,b)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),a(t,n))}function i(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),o(t,e,a,i)}}function o(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,r.colorAttachment.setDirty(),o(t,e,n,r))}function a(t,e){var n=t.context,r=n.gl,i=e.heatmapFbo;if(i){n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);var o=e.colorRampTexture;o||(o=e.colorRampTexture=new l(n,e.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),n.setDepthMode(p.disabled);var a=t.useProgram("heatmapTexture"),u=e.paint.get("heatmap-opacity");r.uniform1f(a.uniforms.u_opacity,u),r.uniform1i(a.uniforms.u_image,0),r.uniform1i(a.uniforms.u_color_ramp,1);var c=s.create();s.ortho(c,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(a.uniforms.u_matrix,!1,c),r.uniform2f(a.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),t.viewportVAO.bind(t.context,a,t.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}var s=t("@mapbox/gl-matrix").mat4,l=t("./texture"),u=t("../source/pixels_to_tile_units"),c=t("../style-spec/util/color"),p=t("../gl/depth_mode"),f=t("../gl/stencil_mode"),h=t("../gl/color_mode");e.exports=r},{"../gl/color_mode":65,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style-spec/util/color":153,"./texture":93,"@mapbox/gl-matrix":2}],81:[function(t,e,n){"use strict";function r(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var i=t.context;i.setDepthMode(t.depthModeForSublayer(0,h.ReadOnly)),i.setStencilMode(f.disabled),i.setColorMode(t.colorModeForRenderPass());for(var o=0,l=r;o<l.length;o+=1){var u=l[o],c=e.getTile(u);c.needsHillshadePrepare&&"offscreen"===t.renderPass?s(t,c):"translucent"===t.renderPass&&a(t,c,n)}i.viewport.set([0,0,t.width,t.height])}}function i(t,e,n){var r=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(r-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,n.paint.get("hillshade-exaggeration"),r)}function o(t,e){var n=e.toCoordinate(),r=new l(n.column,n.row+1,n.zoom);return[t.transform.coordinateLocation(n).lat,t.transform.coordinateLocation(r).lat]}function a(t,e,n){var r=t.context,a=r.gl,s=e.fbo;if(s){var l=t.useProgram("hillshade"),u=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());i(l,t,n);var c=o(t,e.tileID);r.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.colorAttachment.get()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,u),a.uniform2fv(l.uniforms.u_latrange,c),a.uniform1i(l.uniforms.u_image,0);var p=n.paint.get("hillshade-shadow-color");a.uniform4f(l.uniforms.u_shadow,p.r,p.g,p.b,p.a);var f=n.paint.get("hillshade-highlight-color");a.uniform4f(l.uniforms.u_highlight,f.r,f.g,f.b,f.a);var h=n.paint.get("hillshade-accent-color");if(a.uniform4f(l.uniforms.u_accent,h.r,h.g,h.b,h.a),e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments)l.draw(r,a.TRIANGLES,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments);else{var d=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(r,l,d,[]),a.drawArrays(a.TRIANGLE_STRIP,0,d.length)}}}function s(t,e){var n=t.context,r=n.gl;if(e.dem&&e.dem.level){var i=e.dem.level.dim,o=e.dem.getPixels();if(n.activeTexture.set(r.TEXTURE1),n.pixelStoreUnpackPremultiplyAlpha.set(!1),e.demTexture=e.demTexture||t.getTileTexture(e.tileSize),e.demTexture){var a=e.demTexture;a.update(o,!1),a.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else e.demTexture=new u(n,o,r.RGBA,!1),e.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);n.activeTexture.set(r.TEXTURE0);var s=e.fbo;if(!s){var l=new u(n,{width:i,height:i,data:null},r.RGBA);l.bind(r.LINEAR,r.CLAMP_TO_EDGE),s=e.fbo=n.createFramebuffer(i,i),s.colorAttachment.set(l.texture)}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,i,i]);var f=p.create();p.ortho(f,0,c,-c,0,0,1),p.translate(f,f,[0,-c,0]);var h=t.useProgram("hillshadePrepare");r.uniformMatrix4fv(h.uniforms.u_matrix,!1,f),r.uniform1f(h.uniforms.u_zoom,e.tileID.overscaledZ),r.uniform2fv(h.uniforms.u_dimension,[2*i,2*i]),r.uniform1i(h.uniforms.u_image,1);var d=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(n,h,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length),e.needsHillshadePrepare=!1}}var l=t("../geo/coordinate"),u=t("./texture"),c=t("../data/extent"),p=t("@mapbox/gl-matrix").mat4,f=t("../gl/stencil_mode"),h=t("../gl/depth_mode");e.exports=r},{"../data/extent":53,"../geo/coordinate":61,"../gl/depth_mode":67,"../gl/stencil_mode":70,"./texture":93,"@mapbox/gl-matrix":2}],82:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,l,u,c){var p,f,h,d,m=e.context,y=m.gl,v=a.paint.get("line-dasharray"),g=a.paint.get("line-pattern");if(u||c){var b=1/o(n,1,e.transform.tileZoom);if(v){p=e.lineAtlas.getDash(v.from,"round"===a.layout.get("line-cap")),f=e.lineAtlas.getDash(v.to,"round"===a.layout.get("line-cap"));var _=p.width*v.fromScale,x=f.width*v.toScale;y.uniform2f(t.uniforms.u_patternscale_a,b/_,-p.height/2),y.uniform2f(t.uniforms.u_patternscale_b,b/x,-f.height/2),y.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,x)*i.devicePixelRatio)/2)}else if(g){if(h=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!h||!d)return;y.uniform2f(t.uniforms.u_pattern_size_a,h.displaySize[0]*g.fromScale/b,d.displaySize[1]),y.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/b,d.displaySize[1]);var w=e.imageManager.getPixelSize(),k=w.width,E=w.height;y.uniform2fv(t.uniforms.u_texsize,[k,E])}y.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}u&&(v?(y.uniform1i(t.uniforms.u_image,0),m.activeTexture.set(y.TEXTURE0),e.lineAtlas.bind(m),y.uniform1f(t.uniforms.u_tex_y_a,p.y),y.uniform1f(t.uniforms.u_tex_y_b,f.y),y.uniform1f(t.uniforms.u_mix,v.t)):g&&(y.uniform1i(t.uniforms.u_image,0),m.activeTexture.set(y.TEXTURE0),e.imageManager.bind(m),y.uniform2fv(t.uniforms.u_pattern_tl_a,h.tl),y.uniform2fv(t.uniforms.u_pattern_br_a,h.br),y.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),y.uniform2fv(t.uniforms.u_pattern_br_b,d.br),y.uniform1f(t.uniforms.u_fade,g.t))),m.setStencilMode(e.stencilModeForClipping(s));var S=e.translatePosMatrix(s.posMatrix,n,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));y.uniformMatrix4fv(t.uniforms.u_matrix,!1,S),y.uniform1f(t.uniforms.u_ratio,1/o(n,1,e.transform.zoom)),t.draw(m,y.TRIANGLES,a.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}var i=t("../util/browser"),o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode");e.exports=function(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var s,l=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":"line",u=!0,c=0,p=i;c<p.length;c+=1){var f=p[c],h=e.getTile(f),d=h.getBucket(n);if(d){var m=d.programConfigurations.get(n.id),y=t.context.program.get(),v=t.useProgram(l,m),g=u||v.program!==y,b=s!==h.tileID.overscaledZ;g&&m.setUniforms(t.context,v,n.paint,{zoom:t.transform.zoom}),r(v,t,h,d,n,f,m,g,b),s=h.tileID.overscaledZ,u=!1}}}}},{"../gl/depth_mode":67,"../source/pixels_to_tile_units":104,"../util/browser":252}],83:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")){var l=t.context,c=l.gl,h=e.getSource(),d=t.useProgram("raster");l.setStencilMode(p.disabled),l.setColorMode(t.colorModeForRenderPass()),c.uniform1f(d.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),c.uniform1f(d.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),c.uniform1f(d.uniforms.u_saturation_factor,a(n.paint.get("raster-saturation"))),c.uniform1f(d.uniforms.u_contrast_factor,o(n.paint.get("raster-contrast"))),c.uniform3fv(d.uniforms.u_spin_weights,i(n.paint.get("raster-hue-rotate"))),c.uniform1f(d.uniforms.u_buffer_scale,1),c.uniform1i(d.uniforms.u_image0,0),c.uniform1i(d.uniforms.u_image1,1);for(var m=r.length&&r[0].overscaledZ,y=0,v=r;y<v.length;y+=1){var g=v[y];l.setDepthMode(t.depthModeForSublayer(g.overscaledZ-m,1===n.paint.get("raster-opacity")?f.ReadWrite:f.ReadOnly,c.LESS));var b=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),!0);b.registerFadeDuration(n.paint.get("raster-fade-duration")),c.uniformMatrix4fv(d.uniforms.u_matrix,!1,_);var x=e.findLoadedParent(g,0,{}),w=s(b,x,e,n,t.transform),k=void 0,E=void 0;if(l.activeTexture.set(c.TEXTURE0),b.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),l.activeTexture.set(c.TEXTURE1),x?(x.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),k=Math.pow(2,x.tileID.overscaledZ-b.tileID.overscaledZ),E=[b.tileID.canonical.x*k%1,b.tileID.canonical.y*k%1]):b.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),c.uniform2fv(d.uniforms.u_tl_parent,E||[0,0]),c.uniform1f(d.uniforms.u_scale_parent,k||1),c.uniform1f(d.uniforms.u_fade_t,w.mix),c.uniform1f(d.uniforms.u_opacity,w.opacity*n.paint.get("raster-opacity")),h instanceof u){var S=h.boundsBuffer;h.boundsVAO.bind(l,d,S,[]),c.drawArrays(c.TRIANGLE_STRIP,0,S.length)}else if(b.maskedBoundsBuffer&&b.maskedIndexBuffer&&b.segments)d.draw(l,c.TRIANGLES,n.id,b.maskedBoundsBuffer,b.maskedIndexBuffer,b.segments);else{var C=t.rasterBoundsBuffer,T=t.rasterBoundsVAO;T.bind(l,d,C,[]),c.drawArrays(c.TRIANGLE_STRIP,0,C.length)}}}}function i(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,r,i){var o=r.paint.get("raster-fade-duration");if(o>0){var a=c.now(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,p=n.getSource(),f=i.coveringZoomLevel({tileSize:p.tileSize,roundZoom:p.roundZoom}),h=!e||Math.abs(e.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),d=h&&t.refreshedUponExpiration?1:l.clamp(h?s:1-u,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util"),u=t("../source/image_source"),c=t("../util/browser"),p=t("../gl/stencil_mode"),f=t("../gl/depth_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/image_source":102,"../util/browser":252,"../util/util":275}],84:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(m.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==n.paint.get("icon-opacity").constantOr(1)&&i(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&i(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&l(t,e,n,r)}}function i(t,e,n,r,i,s,l,p,f,d){var m=t.context,v=m.gl,g=t.transform,b="map"===p,_="map"===f,x=b&&"line"===n.layout.get("symbol-placement"),w=b&&!_&&!x,k=_;m.setDepthMode(k?t.depthModeForSublayer(0,y.ReadOnly):y.disabled);for(var E,S=0,C=r;S<C.length;S+=1){var T=C[S],O=e.getTile(T),M=O.getBucket(n);if(M){var P=i?M.text:M.icon;if(P&&P.segments.get().length){var A=P.programConfigurations.get(n.id),z=i||M.sdfIcons,j=i?M.textSizeData:M.iconSizeData;if(E||(E=t.useProgram(z?"symbolSDF":"symbolIcon",A),A.setUniforms(t.context,E,n.paint,{zoom:t.transform.zoom}),o(E,t,n,i,w,_,j)),m.activeTexture.set(v.TEXTURE0),v.uniform1i(E.uniforms.u_texture,0),i)O.glyphAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),v.uniform2fv(E.uniforms.u_texsize,O.glyphAtlasTexture.size);else{var I=1!==n.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear,L=_||0!==g.pitch;O.iconAtlasTexture.bind(z||t.options.rotating||t.options.zooming||I||L?v.LINEAR:v.NEAREST,v.CLAMP_TO_EDGE),v.uniform2fv(E.uniforms.u_texsize,O.iconAtlasTexture.size)}v.uniformMatrix4fv(E.uniforms.u_matrix,!1,t.translatePosMatrix(T.posMatrix,O,s,l));var D=u(O,1,t.transform.zoom),R=c.getLabelPlaneMatrix(T.posMatrix,_,b,t.transform,D),N=c.getGlCoordMatrix(T.posMatrix,_,b,t.transform,D);v.uniformMatrix4fv(E.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(N,O,s,l,!0)),x?(v.uniformMatrix4fv(E.uniforms.u_label_plane_matrix,!1,h),c.updateLineLabels(M,T.posMatrix,t,i,R,N,_,d)):v.uniformMatrix4fv(E.uniforms.u_label_plane_matrix,!1,R),v.uniform1f(E.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),a(E,A,t,n,O,P,i,z,_)}}}}function o(t,e,n,r,i,o,a){var s=e.context.gl,l=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(t.uniforms.u_is_text,r?1:0),s.uniform1f(t.uniforms.u_pitch,l.pitch/360*2*Math.PI);var u="constant"===a.functionType||"source"===a.functionType,c="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,u?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,c?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var f=p.evaluateSizeForZoom(a,l.zoom,d.properties[r?"text-size":"icon-size"]);void 0!==f.uSizeT&&s.uniform1f(t.uniforms.u_size_t,f.uSizeT),void 0!==f.uSize&&s.uniform1f(t.uniforms.u_size,f.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,l.width/l.height),s.uniform1i(t.uniforms.u_rotate_symbol,i?1:0)}function a(t,e,n,r,i,o,a,l,u){var c=n.context,p=c.gl,f=n.transform;if(l){var h=0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=u?Math.cos(f._pitch)*f.cameraToCenterDistance:1;p.uniform1f(t.uniforms.u_gamma_scale,d),h&&(p.uniform1f(t.uniforms.u_is_halo,1),s(o,r,c,t)),p.uniform1f(t.uniforms.u_is_halo,0)}s(o,r,c,t)}function s(t,e,n,r){r.draw(n,n.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}var l=t("./draw_collision_debug"),u=t("../source/pixels_to_tile_units"),c=t("../symbol/projection"),p=t("../symbol/symbol_size"),f=t("@mapbox/gl-matrix").mat4,h=f.identity(new Float32Array(16)),d=t("../style/style_layer/symbol_style_layer_properties").layout,m=t("../gl/stencil_mode"),y=t("../gl/depth_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/projection":224,"../symbol/symbol_size":228,"./draw_collision_debug":76,"@mapbox/gl-matrix":2}],85:[function(t,e,n){"use strict";function r(t){var e=new a({width:0,height:0}),n={},r=new i(0,0,{autoResize:!0});for(var o in t){var l=t[o],u=n[o]={};for(var c in l){var p=l[+c];if(p&&0!==p.bitmap.width&&0!==p.bitmap.height){var f=r.packOne(p.bitmap.width+2*s,p.bitmap.height+2*s);e.resize({width:r.w,height:r.h}),a.copy(p.bitmap,e,{x:0,y:0},{x:f.x+s,y:f.y+s},p.bitmap),u[c]={rect:f,metrics:p.metrics}}}}return r.shrink(),e.resize({width:r.w,height:r.h}),{image:e,positions:n}}var i=t("@mapbox/shelf-pack"),o=t("../util/image"),a=o.AlphaImage,s=1;e.exports={makeGlyphAtlas:r}},{"../util/image":263,"@mapbox/shelf-pack":5}],86:[function(t,e,n){"use strict";var r=t("../style/load_glyph_range"),i=t("@mapbox/tiny-sdf"),o=t("../util/is_char_in_unicode_block"),a=t("../util/util"),s=a.asyncAll,l=t("../util/image"),u=l.AlphaImage,c=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};c.prototype.setURL=function(t){this.url=t},c.prototype.getGlyphs=function(t,e){var n=this,i=[];for(var o in t)for(var a=0,l=t[o];a<l.length;a+=1){var u=l[a];i.push({stack:o,id:u})}s(i,function(t,e){var i=t.stack,o=t.id,a=n.entries[i];a||(a=n.entries[i]={glyphs:{},requests:{}});var s=a.glyphs[o];if(void 0!==s)return void e(null,{stack:i,id:o,glyph:s});if(s=n._tinySDF(a,i,o))return void e(null,{stack:i,id:o,glyph:s});var l=Math.floor(o/256);if(256*l>65535)return void e(new Error("glyphs > 65535 not supported"));var u=a.requests[l];u||(u=a.requests[l]=[],r(i,l,n.url,n.requestTransform,function(t,e){if(e)for(var n in e)a.glyphs[+n]=e[+n];for(var r=0,i=u;r<i.length;r+=1)(0,i[r])(t,e);delete a.requests[l]})),u.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})},function(t,n){if(t)e(t);else if(n){for(var r={},i=0,o=n;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}e(null,r)}})},c.prototype._tinySDF=function(t,e,n){var r=this.localIdeographFontFamily;if(r&&(o["CJK Unified Ideographs"](n)||o["Hangul Syllables"](n))){var a=t.tinySDF;if(!a){var s="400";/bold/i.test(e)?s="900":/medium/i.test(e)?s="500":/light/i.test(e)&&(s="200"),a=t.tinySDF=new i(24,3,8,.25,r,s)}return{id:n,bitmap:new u({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=c},{"../style/load_glyph_range":184,"../util/image":263,"../util/is_char_in_unicode_block":265,"../util/util":275,"@mapbox/tiny-sdf":6}],87:[function(t,e,n){"use strict";function r(t,e){var n=e.pixelRatio,r={x:t.x+l,y:t.y+l,w:t.w-2*l,h:t.h-2*l};return{pixelRatio:n,textureRect:r,tl:[r.x,r.y],br:[r.x+r.w,r.y+r.h],displaySize:[r.w/n,r.h/n]}}function i(t){var e=new s({width:0,height:0}),n={},i=new o(0,0,{autoResize:!0});for(var a in t){var u=t[a],c=i.packOne(u.data.width+2*l,u.data.height+2*l);e.resize({width:i.w,height:i.h}),s.copy(u.data,e,{x:0,y:0},{x:c.x+l,y:c.y+l},u.data),n[a]=r(c,u)}return i.shrink(),e.resize({width:i.w,height:i.h}),{image:e,positions:n}}var o=t("@mapbox/shelf-pack"),a=t("../util/image"),s=a.RGBAImage,l=1;e.exports={imagePosition:r,makeImageAtlas:i}},{"../util/image":263,"@mapbox/shelf-pack":5}],88:[function(t,e,n){"use strict";var r=t("@mapbox/shelf-pack"),i=t("../util/image"),o=i.RGBAImage,a=t("./image_atlas"),s=a.imagePosition,l=t("./texture"),u=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new r(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new o({width:64,height:64}),this.dirty=!0};u.prototype.isLoaded=function(){return this.loaded},u.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var n=0,r=e.requestors;n<r.length;n+=1){var i=r[n],o=i.ids,a=i.callback;e._notify(o,a)}this.requestors=[]}},u.prototype.getImage=function(t){return this.images[t]},u.prototype.addImage=function(t,e){this.images[t]=e},u.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},u.prototype.getImages=function(t,e){var n=this,r=!0;if(!this.isLoaded())for(var i=0,o=t;i<o.length;i+=1){var a=o[i];n.images[a]||(r=!1)}this.isLoaded()||r?this._notify(t,e):this.requestors.push({ids:t,callback:e})},u.prototype._notify=function(t,e){for(var n=this,r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=n.images[a];s&&(r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf})}e(null,r)},u.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},u.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var r=n.data.width+2,i=n.data.height+2,a=this.shelfPack.packOne(r,i);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var l=n.data,u=this.atlasImage,c=a.x+1,p=a.y+1,f=l.width,h=l.height;o.copy(l,u,{x:0,y:0},{x:c,y:p},{width:f,height:h}),o.copy(l,u,{x:0,y:h-1},{x:c,y:p-1},{width:f,height:1}),o.copy(l,u,{x:0,y:0},{x:c,y:p+h},{width:f,height:1}),o.copy(l,u,{x:f-1,y:0},{x:c-1,y:p},{width:1,height:h}),o.copy(l,u,{x:0,y:0},{x:c+f,y:p},{width:1,height:h}),this.dirty=!0;var d=s(a,n);return this.patterns[t]={bin:a,position:d},d},u.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)},e.exports=u},{"../util/image":263,"./image_atlas":87,"./texture":93,"@mapbox/shelf-pack":5}],89:[function(t,e,n){"use strict";var r=t("../util/util"),i=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};i.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},i.prototype.addDash=function(t,e){var n=this,i=e?7:0,o=2*i+1;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var l=this.width/a,u=l/2,c=t.length%2==1,p=-i;p<=i;p++)for(var f=n.nextRow+i+p,h=n.width*f,d=c?-t[t.length-1]:0,m=t[0],y=1,v=0;v<this.width;v++){for(;m<v/l;)d=m,m+=t[y],c&&y===t.length-1&&(m+=t[0]),y++;var g=Math.abs(v-d*l),b=Math.abs(v-m*l),_=Math.min(g,b),x=y%2==1,w=void 0;if(e){var k=i?p/i*(u+1):0;if(x){var E=u-Math.abs(k);w=Math.sqrt(_*_+E*E)}else w=u-Math.sqrt(_*_+k*k)}else w=(x?1:-1)*_;n.data[3+4*(h+v)]=Math.max(0,Math.min(255,w+128))}var S={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=o,this.dirty=!0,S},i.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},e.exports=i},{"../util/util":275}],90:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("@mapbox/gl-matrix").mat4,o=t("../source/source_cache"),a=t("../data/extent"),s=t("../source/pixels_to_tile_units"),l=t("../util/util"),u=t("./vertex_array_object"),c=t("../data/array_types"),p=c.RasterBoundsArray,f=c.PosArray,h=t("../data/raster_bounds_attributes"),d=t("../data/pos_attributes"),m=t("../data/program_configuration"),y=m.ProgramConfiguration,v=t("../symbol/cross_tile_symbol_index"),g=t("../shaders"),b=t("./program"),_=t("../gl/context"),x=t("../gl/depth_mode"),w=t("../gl/stencil_mode"),k=t("../gl/color_mode"),E=(t("./texture"),t("./tile_mask")),S=t("../style-spec/util/color"),C={symbol:t("./draw_symbol"),circle:t("./draw_circle"),heatmap:t("./draw_heatmap"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),hillshade:t("./draw_hillshade"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},T=function(t,e){this.context=new _(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new y,this.crossTileSymbolIndex=new v};T.prototype.resize=function(t,e){var n=this,i=this.context.gl;if(this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,a=n.style._order;o<a.length;o+=1){var s=a[o];n.style._layers[s].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},T.prototype.setup=function(){var t=this.context,e=new f;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=t.createVertexBuffer(e,d.members),this.tileExtentVAO=new u,this.tileExtentPatternVAO=new u;var n=new f;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=t.createVertexBuffer(n,d.members),this.debugVAO=new u;var r=new p;r.emplaceBack(0,0,0,0),r.emplaceBack(a,0,a,0),r.emplaceBack(0,a,0,a),r.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=t.createVertexBuffer(r,h.members),this.rasterBoundsVAO=new u;var i=new f;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,d.members),this.viewportVAO=new u},T.prototype.clearStencil=function(){var t=this.context,e=t.gl;t.setColorMode(k.disabled),t.setDepthMode(x.disabled),t.setStencilMode(new w({func:e.ALWAYS,mask:0},0,255,e.ZERO,e.ZERO,e.ZERO));var n=i.create();i.ortho(n,0,this.width,this.height,0,0,1),i.scale(n,n,[e.drawingBufferWidth,e.drawingBufferHeight,0]);var r=this.useProgram("clippingMask");e.uniformMatrix4fv(r.uniforms.u_matrix,!1,n),this.viewportVAO.bind(t,r,this.viewportBuffer,[]),e.drawArrays(e.TRIANGLE_STRIP,0,4)},T.prototype._renderTileClippingMasks=function(t){var e=this,n=this.context,r=n.gl;n.setColorMode(k.disabled),n.setDepthMode(x.disabled);var i=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=e._tileClippingMaskIDs[s.key]=i++;n.setStencilMode(new w({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE));var u=e.useProgram("clippingMask");r.uniformMatrix4fv(u.uniforms.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(e.context,u,e.tileExtentBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}},T.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new w({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},T.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new k([t.CONSTANT_COLOR,t.ONE],new S(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?k.unblended:k.alphaBlended},T.prototype.depthModeForSublayer=function(t,e,n){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=r-1+this.depthRange;return new x(n||this.context.gl.LEQUAL,e,[i,r])},T.prototype.render=function(t,e){var n=this;this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(r.now());for(var i in t.sourceCaches){var o=n.style.sourceCaches[i];o.used&&o.prepare(n.context)}var a=this.style._order,s=l.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type});for(var u in s)!function(t){var e=s[t],r=e.getVisibleCoordinates(),i=r.map(function(t){return e.getTile(t)});E(i,n.context)}(u);this.renderPass="offscreen";var c,p=[];this.depthRboNeedsClear=!0;for(var f=0;f<a.length;f++){var h=n.style._layers[a[f]];h.hasOffscreenPass()&&!h.isHidden(n.transform.zoom)&&(h.source!==(c&&c.id)&&(c=n.style.sourceCaches[h.source],p=[],c&&(p=c.getVisibleCoordinates(),p.reverse())),p.length&&n.renderLayer(n,c,h,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:e.showOverdrawInspector?S.black:S.transparent,depth:1}),this._showOverdrawInspector=e.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var d,m=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var y=n.style._layers[a[n.currentLayer]];y.source!==(d&&d.id)&&(d=n.style.sourceCaches[y.source],m=[],d&&(n.clearStencil(),m=d.getVisibleCoordinates(),d.getSource().isTileClipped&&n._renderTileClippingMasks(m))),n.renderLayer(n,d,y,m)}this.renderPass="translucent";var v,g=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var b=n.style._layers[a[n.currentLayer]];b.source!==(v&&v.id)&&(v=n.style.sourceCaches[b.source],g=[],v&&(n.clearStencil(),g=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(g)),g.reverse()),n.renderLayer(n,v,b,g)}if(this.options.showTileBoundaries){var _=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];_&&C.debug(this,_,_.getVisibleCoordinates())}},T.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},T.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,C[n.type](t,e,n,r))},T.prototype.translatePosMatrix=function(t,e,n,r,o){if(!n[0]&&!n[1])return t;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var l=Math.sin(a),u=Math.cos(a);n=[n[0]*u-n[1]*l,n[0]*l+n[1]*u]}var c=[o?n[0]:s(e,n[0],this.transform.zoom),o?n[1]:s(e,n[1],this.transform.zoom),0],p=new Float32Array(16);return i.translate(p,t,c),p},T.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},T.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},T.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new b(this.context,g[t],e,this._showOverdrawInspector)),this.cache[n]},T.prototype.useProgram=function(t,e){var n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(n.program),n},e.exports=T},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../data/program_configuration":58,"../data/raster_bounds_attributes":59,"../gl/color_mode":65,"../gl/context":66,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":111,"../style-spec/util/color":153,"../symbol/cross_tile_symbol_index":218,"../util/browser":252,"../util/util":275,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_hillshade":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./program":92,"./texture":93,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],91:[function(t,e,n){"use strict";var r=t("../source/pixels_to_tile_units");n.isPatternMissing=function(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);return!n||!r},n.prepare=function(t,e,n){var r=e.context,i=r.gl,o=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);i.uniform1i(n.uniforms.u_image,0),i.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),i.uniform2fv(n.uniforms.u_pattern_br_a,o.br),i.uniform2fv(n.uniforms.u_pattern_tl_b,a.tl),i.uniform2fv(n.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,u=s.height;i.uniform2fv(n.uniforms.u_texsize,[l,u]),i.uniform1f(n.uniforms.u_mix,t.t),i.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),i.uniform2fv(n.uniforms.u_pattern_size_b,a.displaySize),i.uniform1f(n.uniforms.u_scale_a,t.fromScale),i.uniform1f(n.uniforms.u_scale_b,t.toScale),r.activeTexture.set(i.TEXTURE0),e.imageManager.bind(e.context)},n.setTile=function(t,e,n){var i=e.context.gl;i.uniform1f(n.uniforms.u_tile_units_to_pixels,1/r(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=a*(t.tileID.canonical.x+t.tileID.wrap*o),l=a*t.tileID.canonical.y;i.uniform2f(n.uniforms.u_pixel_coord_upper,s>>16,l>>16),i.uniform2f(n.uniforms.u_pixel_coord_lower,65535&s,65535&l)}},{"../source/pixels_to_tile_units":104}],92:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("../shaders"),o=t("../data/program_configuration"),a=(o.ProgramConfiguration,t("./vertex_array_object")),s=(t("../gl/context"),function(t,e,n,o){var a=this,s=t.gl;this.program=s.createProgram();var l=n.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));o&&l.push("#define OVERDRAW_INSPECTOR;");var u=l.concat(i.prelude.fragmentSource,e.fragmentSource).join("\n"),c=l.concat(i.prelude.vertexSource,e.vertexSource).join("\n"),p=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(p,u),s.compileShader(p),s.attachShader(this.program,p);var f=s.createShader(s.VERTEX_SHADER);s.shaderSource(f,c),s.compileShader(f),s.attachShader(this.program,f);for(var h=n.layoutAttributes||[],d=0;d<h.length;d++)s.bindAttribLocation(a.program,d,h[d].name);s.linkProgram(this.program),this.numAttributes=s.getProgramParameter(this.program,s.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var m=0;m<this.numAttributes;m++){var y=s.getActiveAttrib(a.program,m);y&&(a.attributes[y.name]=s.getAttribLocation(a.program,y.name))}for(var v=s.getProgramParameter(this.program,s.ACTIVE_UNIFORMS),g=0;g<v;g++){var b=s.getActiveUniform(a.program,g);b&&(a.uniforms[b.name]=s.getUniformLocation(a.program,b.name))}});s.prototype.draw=function(t,e,n,r,i,o,s,l,u){for(var c,p=this,f=t.gl,h=(c={},c[f.LINES]=2,c[f.TRIANGLES]=3,c)[e],d=0,m=o.get();d<m.length;d+=1){var y=m[d],v=y.vaos||(y.vaos={});(v[n]||(v[n]=new a)).bind(t,p,r,s?s.getPaintVertexBuffers():[],i,y.vertexOffset,l,u),f.drawElements(e,y.primitiveLength*h,f.UNSIGNED_SHORT,y.primitiveOffset*h*2)}},e.exports=s},{"../data/program_configuration":58,"../gl/context":66,"../shaders":97,"../util/browser":252,"./vertex_array_object":95}],93:[function(t,e,n){"use strict";var r=t("../util/window"),i=r.HTMLImageElement,o=r.HTMLCanvasElement,a=r.HTMLVideoElement,s=r.ImageData,l=function(t,e,n,r){this.context=t;var i=e.width,o=e.height;this.size=[i,o],this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};l.prototype.update=function(t,e){var n=t.width,r=t.height;this.size=[n,r];var l=this,u=l.context,c=u.gl;c.bindTexture(c.TEXTURE_2D,this.texture),u.pixelStoreUnpack.set(1),this.format===c.RGBA&&!1!==e&&u.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof i||t instanceof o||t instanceof a||t instanceof s?c.texImage2D(c.TEXTURE_2D,0,this.format,this.format,c.UNSIGNED_BYTE,t):c.texImage2D(c.TEXTURE_2D,0,this.format,n,r,0,this.format,c.UNSIGNED_BYTE,t.data)},l.prototype.bind=function(t,e,n){var r=this,i=r.context,o=i.gl;o.bindTexture(o.TEXTURE_2D,this.texture),t!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,e),this.wrap=e)},l.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},e.exports=l},{"../util/window":254}],94:[function(t,e,n){"use strict";function r(t,e,n,i,o){for(var s=0;s<n.length;s++){var l=n[s];if(i.isLessThan(l.tileID))break;if(e.key===l.tileID.key)return;if(l.tileID.isChildOf(e)){for(var u=e.children(1/0),c=0;c<u.length;c++)r(t,u[c],n.slice(s),i,o);return}}var p=e.overscaledZ-t.overscaledZ,f=new a(p,e.canonical.x-(t.canonical.x<<p),e.canonical.y-(t.canonical.y<<p));o[f.key]=o[f.key]||f}var i=t("../source/tile_id"),o=i.OverscaledTileID,a=i.CanonicalTileID;e.exports=function(t,e){for(var n=t.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),i=0;i<n.length;i++){var a={},s=n[i],l=n.slice(i+1);r(s.tileID.wrapped(),s.tileID,l,new o(0,s.tileID.wrap+1,0,0,0),a),s.setMask(a,e)}}},{"../source/tile_id":114}],95:[function(t,e,n){"use strict";var r=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};r.prototype.bind=function(t,e,n,r,i,o,a,s){var l=this;this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,c=0;!u&&c<r.length;c++)l.boundPaintVertexBuffers[c]!==r[c]&&(u=!0);var p=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||p?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},r.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var f=0,h=n;f<h.length;f+=1)h[f].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,m=n;d<m.length;d+=1){var y=m[d];y.bind(),y.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},r.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=r},{}],96:[function(t,e,n){"use strict";var r=t("../util/util");n.packUint8ToFloat=function(t,e){return t=r.clamp(Math.floor(t),0,255),e=r.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":275}],97:[function(t,e,n){"use strict";var r={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var o in r)!function(t){var e=r[t],n={};e.fragmentSource=e.fragmentSource.replace(i,function(t,e,r,i,o){return n[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(i,function(t,e,r,i,o){var a="float"===i?"vec2":"vec4";return n[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"})}(o);e.exports=r},{}],98:[function(t,e,n){"use strict";var r=t("./image_source"),i=t("../util/window"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||i.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return void this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.prepare=function(){var t=this,e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?e?this.texture.update(this.canvas):this._playing&&(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.canvas)):(this.texture=new s(n,this.canvas,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));for(var i in t.tiles){var l=t.tiles[i];"loaded"!==l.state&&(l.state="loaded",l.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this._playing},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var r=n[e];if(isNaN(r)||r<=0)return!0}return!1},e}(r);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/window":254,"./image_source":102}],99:[function(t,e,n){"use strict";function r(t){var e=a.document.createElement("a");return e.href=t,e.href}var i=t("../util/evented"),o=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,n,r,i){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(i),this._data=n.data,this._options=o.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return void t.fire("error",{error:e});var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire("data",n)})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});var n={dataType:"source",sourceDataType:"content"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire("data",n)}),this},e.prototype._updateWorkerData=function(t){var e=this,n=o.extend({},this.workerOptions),i=this._data;"string"==typeof i?(n.request=this.map._transformRequest(r(i),l.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n,r){e._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[e.id]&&(e._resourceTiming=r.resourceTiming[e.id].slice(0)),t(n)},this.workerID)},e.prototype.loadTile=function(t,e){var n=this,r=void 0===t.workerID||"expired"===t.state?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(r,i,function(i,o){return t.unloadVectorData(),t.aborted?e(null):i?e(i):(t.loadVectorData(o,n.map.painter,"reloadTile"===r),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},e.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},e.prototype.hasTransition=function(){return!1},e}(i);e.exports=c},{"../data/extent":53,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"../util/window":254}],100:[function(t,e,n){"use strict";function r(t,e){var n=t.source,r=t.tileID.canonical;if(!this._geoJSONIndexes[n])return e(null,null);var i=this._geoJSONIndexes[n].getTile(r.z,r.x,r.y);if(!i)return e(null,null);var o=new s(i.features),a=l(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:o,rawData:a.buffer})}var i=t("../util/ajax"),o=t("../util/performance"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),p=t("./vector_tile_worker_source"),f=function(t){function e(e,n,i){t.call(this,e,n,r),i&&(this.loadGeoJSON=i),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var n=this;this.loadGeoJSON(t,function(r,i){if(r||!i)return e(r);if("object"!=typeof i)return e(new Error("Input data is not a valid GeoJSON object."));a(i,!0);try{n._geoJSONIndexes[t.source]=t.cluster?u(t.superclusterOptions).load(i.features):c(i,t.geojsonVtOptions)}catch(r){return e(r)}n.loaded[t.source]={};var s={};if(t.request&&t.request.collectResourceTiming){var l=o.getEntriesByName(t.request.url);l&&(s.resourceTiming={},s.resourceTiming[t.source]=JSON.parse(JSON.stringify(l)))}e(null,s)})},e.prototype.reloadTile=function(e,n){var r=this.loaded[e.source],i=e.uid;return r&&r[i]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},e.prototype.loadGeoJSON=function(t,e){if(t.request)i.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t,e){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source],e()},e}(p);e.exports=f},{"../util/ajax":251,"../util/performance":268,"./geojson_wrapper":101,"./vector_tile_worker_source":116,"geojson-rewind":15,"geojson-vt":19,supercluster:32,"vt-pbf":34}],101:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),i=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),a=function(t){this._feature=t,this.extent=o,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};a.prototype.loadGeometry=function(){var t=this;if(1===this._feature.type){for(var e=[],n=0,i=t._feature.geometry;n<i.length;n+=1){var o=i[n];e.push([new r(o[0],o[1])])}return e}for(var a=[],s=0,l=t._feature.geometry;s<l.length;s+=1){for(var u=l[s],c=[],p=0,f=u;p<f.length;p+=1){var h=f[p];c.push(new r(h[0],h[1]))}a.push(c)}return a},a.prototype.toGeoJSON=function(t,e,n){return i.call(this,t,e,n)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new a(this._features[t])},e.exports=s},{"../data/extent":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],102:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("./tile_id"),o=i.CanonicalTileID,a=t("../geo/lng_lat"),s=t("@mapbox/point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../util/browser"),p=t("../data/extent"),f=t("../data/array_types"),h=f.RasterBoundsArray,d=t("../data/raster_bounds_attributes"),m=t("../render/vertex_array_object"),y=t("../render/texture"),v=function(t){function e(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,u.getImage(this.map._transformRequest(this.url,u.ResourceType.Image),function(e,n){e?t.fire("error",{error:e}):n&&(t.image=c.getImageData(n),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),i=this.centerCoord=r.getCoordinatesCenter(n);i.column=Math.floor(i.column),i.row=Math.floor(i.row),this.tileID=new o(i.zoom,i.column,i.row),this.minzoom=this.maxzoom=i.zoom;var l=n.map(function(t){var e=t.zoomTo(i.zoom);return new s(Math.round((e.column-i.column)*p),Math.round((e.row-i.row)*p))});return this._boundsArray=new h,this._boundsArray.emplaceBack(l[0].x,l[0].y,0,0),this._boundsArray.emplaceBack(l[1].x,l[1].y,p,0),this._boundsArray.emplaceBack(l[3].x,l[3].y,0,p),this._boundsArray.emplaceBack(l[2].x,l[2].y,p,p),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){var t=this;if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,d.members)),this.boundsVAO||(this.boundsVAO=new m),this.texture||(this.texture=new y(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var r in t.tiles){var i=t.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=t.texture)}}},e.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return!1},e}(l);e.exports=v},{"../data/array_types":39,"../data/extent":53,"../data/raster_bounds_attributes":59,"../geo/lng_lat":62,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"./tile_id":114,"@mapbox/point-geometry":4}],103:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,n){var s=function(t,e){if(t)return n(t);if(e){var i=r.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(i.vectorLayers=e.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),n(null,i)}};t.url?i.getJSON(e(a(t.url),i.ResourceType.Source),s):o.frame(function(){return s(null,t)})}},{"../util/ajax":251,"../util/browser":252,"../util/mapbox":267,"../util/util":275}],104:[function(t,e,n){"use strict";var r=t("../data/extent");e.exports=function(t,e,n){return e*(r/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}},{"../data/extent":53}],105:[function(t,e,n){"use strict";function r(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function i(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},f=e[u]=e[u]||[],h=0,d=c;h<d.length;h+=1){var m=d[h];p[m.featureIndex]||(p[m.featureIndex]=!0,f.push(m.feature))}}return e}n.rendered=function(t,e,n,o,a,s,l){var u=t.tilesIn(n);u.sort(r);for(var c=[],p=0,f=u;p<f.length;p+=1){var h=f[p];c.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,o,s,t.id,l)})}return i(c)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}},{}],106:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/util"),o=(t("../util/evented"),t("../util/mapbox").normalizeTileURL),a=t("../util/browser"),s=t("./tile_id"),l=s.OverscaledTileID,u=t("./raster_tile_source"),c=function(t){function e(e,n,r,o){t.call(this,e,n,r,o),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({},n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},e.prototype.loadTile=function(t,e){function n(n,r){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(n)t.state="errored",e(n);else if(r){this.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=a.getImageData(r),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",s,i.bind(this)))}}function i(n,r){n&&(t.state="errored",e(n)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",e(null))}var s=o(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=r.getImage(this.map._transformRequest(s,r.ResourceType.Tile),n.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},e.prototype._getNeighboringTiles=function(t){var e=t.canonical,n=Math.pow(2,e.z),r=(e.x-1+n)%n,i=0===e.x?t.wrap-1:t.wrap,o=(e.x+1+n)%n,a=e.x+1===n?t.wrap+1:t.wrap,s={};return s[new l(t.overscaledZ,i,e.z,r,e.y).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y).key]={backfilled:!1},e.y>0&&(s[new l(t.overscaledZ,i,e.z,r,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y-1).key]={backfilled:!1}),e.y+1<n&&(s[new l(t.overscaledZ,i,e.z,r,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y+1).key]={backfilled:!1}),s},e.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},e}(u);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./raster_tile_source":108,"./tile_id":114}],107:[function(t,e,n){"use strict";var r=t("../data/dem_data"),i=r.DEMData,o=function(){this.loading={},this.loaded={}};o.prototype.loadTile=function(t,e){var n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var o=new i(r);this.loading[n][r]=o,o.loadFromImage(t.rawImageData),delete this.loading[n][r],this.loaded[n]=this.loaded[n]||{},this.loaded[n][r]=o,e(null,o)},o.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},e.exports=o},{"../data/dem_data":52}],108:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,l=t("./tile_bounds"),u=t("../render/texture"),c=function(t){function e(e,n,i,o){t.call(this),this.id=e,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({},n),r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(r.extend(t,n),n.bounds&&(t.tileBounds=new l(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.loadTile=function(t,e){var n=this,r=s(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=i.getImage(this.map._transformRequest(r,i.ResourceType.Tile),function(r,i){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(r)t.state="errored",e(r);else if(i){n.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=n.map.painter.context,a=o.gl;t.texture=n.map.painter.getTileTexture(i.width),t.texture?(t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,i)):(t.texture=new u(o,i,a.RGBA),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},e.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},e.prototype.hasTransition=function(){return!1},e}(o);e.exports=c},{"../render/texture":93,"../util/ajax":251,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],109:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/evented"),o=t("../util/window"),a=!1,s=null;e.exports.evented=new i,e.exports.registerForPluginAvailability=function(t){return s?t({pluginBlobURL:s,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data],{type:"text/javascript"}))},e.exports.clearRTLTextPlugin=function(){a=!1,s=null},e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,r.getArrayBuffer({url:t},function(t,r){t?n(t):r&&(s=e.exports.createBlobURL(r),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null},{"../util/ajax":251,"../util/evented":260,"../util/window":254}],110:[function(t,e,n){"use strict";var r=t("../util/util"),i={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),"raster-dem":t("../source/raster_dem_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,o){var a=new i[e.type](t,e,n,o);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return r.bindAll(["load","abort","unload","serialize","prepare"],a),a},n.getType=function(t){return i[t]},n.setType=function(t,e){i[t]=e}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_dem_tile_source":106,"../source/raster_tile_source":108,"../source/vector_tile_source":115,"../source/video_source":117,"../util/util":275}],111:[function(t,e,n){"use strict";function r(t,e){var n=e.zoomTo(t.canonical.z);return new f((n.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*p,(n.row-t.canonical.y)*p)}function i(t){return"raster"===t||"image"===t||"video"===t}var o=t("./source").create,a=t("./tile"),s=t("../util/evented"),l=t("../util/lru_cache"),u=t("../geo/coordinate"),c=t("../util/util"),p=t("../data/extent"),f=(t("../gl/context"),t("@mapbox/point-geometry")),h=t("../util/browser"),d=t("./tile_id"),m=d.OverscaledTileID,y=function(t){function e(e,n,r){var i=this;t.call(this),this.id=e,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=o(e,n,r,this),this._tiles={},this._cache=new l(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(t){var e=this;this._source.prepare&&this._source.prepare();for(var n in e._tiles)e._tiles[n].upload(t)},e.prototype.getIds=function(){var t=this,e=function(e,n){var r=t._tiles[e].tileID,i=t._tiles[n].tileID,o=new f(r.canonical.x,r.canonical.y).rotate(t.transform.angle),a=new f(i.canonical.x,i.canonical.y).rotate(t.transform.angle);return r.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x};return Object.keys(this._tiles).map(Number).sort(e)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},e.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._resetCache();for(var e in t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire("error",{tile:t,error:r}):this.update(this.transform));t.timeAdded=h.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._source.fire("data",{dataType:"source",tile:t,coord:t.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},e.prototype._backfillDEM=function(t){function e(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}for(var n=this,r=this.getRenderableIds(),i=0;i<r.length;i++){var o=r[i];if(t.neighboringTiles&&t.neighboringTiles[o]){var a=n.getTileByID(o);e(t,a),e(a,t)}}},e.prototype.getTile=function(t){return this.getTileByID(t.key)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,n){var r=this,i=!1;for(var o in r._tiles){var a=r._tiles[o];if(!(n[o]||!a.hasData()||a.tileID.overscaledZ<=t.overscaledZ||a.tileID.overscaledZ>e)){var s=Math.pow(2,a.tileID.canonical.z-t.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===t.canonical.x&&Math.floor(a.tileID.canonical.y/s)===t.canonical.y)for(n[o]=a.tileID,i=!0;a&&a.tileID.overscaledZ-1>t.overscaledZ;){var l=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!l)break;(a=r._tiles[l.key])&&a.hasData()&&(delete n[o],n[l.key]=l)}}}return i},e.prototype.findLoadedParent=function(t,e,n){for(var r=this,i=t.overscaledZ-1;i>=e;i--){var o=t.scaledTo(i);if(!o)return;var a=String(o.key),s=r._tiles[a];if(s&&s.hasData())return n[a]=o,s;if(r._cache.has(a))return n[a]=o,r._cache.get(a)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=e*n,i=Math.floor(5*r),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(o)},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){this.updateCacheSize(t),this._coveredTiles={};var r;this.used?this._source.tileID?r=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new m(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(t){return n._source.hasTile(t)}))):r=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(o-e.maxOverzooming,this._source.minzoom),s=Math.max(o+e.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,o),u={};if(i(this._source.type))for(var p=Object.keys(l),f=0;f<p.length;f++){var d=p[f],y=l[d],v=n._tiles[d];if(v&&(void 0===v.fadeEndTime||v.fadeEndTime>=h.now())){n._findLoadedChildren(y,s,l)&&(l[d]=y);var g=n.findLoadedParent(y,a,u);g&&n._addTile(g.tileID)}}var b;for(b in u)l[b]||(n._coveredTiles[b]=!0);for(b in u)l[b]=u[b];for(var _=c.keysDifference(this._tiles,l),x=0;x<_.length;x++)n._removeTile(_[x])}},e.prototype._updateRetainedTiles=function(t,n){for(var r=this,i={},o={},a=Math.max(n-e.maxOverzooming,this._source.minzoom),s=Math.max(n+e.maxUnderzooming,this._source.minzoom),l=0;l<t.length;l++){var u=t[l],c=r._addTile(u),p=!1;if(c.hasData())i[u.key]=u;else{p=c.wasRequested(),i[u.key]=u;var f=!0;if(n+1>r._source.maxzoom){var h=u.children(r._source.maxzoom)[0],d=r.getTile(h);d&&d.hasData()?i[h.key]=h:f=!1}else{r._findLoadedChildren(u,s,i);for(var m=u.children(r._source.maxzoom),y=0;y<m.length;y++)if(!i[m[y].key]){f=!1;break}}if(!f)for(var v=u.overscaledZ-1;v>=a;--v){var g=u.scaledTo(v);if(o[g.key])break;if(o[g.key]=!0,c=r.getTile(g),!c&&p&&(c=r._addTile(g)),c&&(i[g.key]=g,p=c.wasRequested(),c.hasData()))break}}}return i},e.prototype._addTile=function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t.key))&&this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e));var n=Boolean(e);return n||(e=new a(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire("dataloading",{tile:e,coord:e.tileID,dataType:"source"}),e):null},e.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var r=e.getExpiryTimeout();r&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),delete n._cacheTimers[t]},r))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var n=e.tileID.key;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._resetCache()},e.prototype._resetCache=function(){var t=this;for(var e in t._cacheTimers)clearTimeout(t._cacheTimers[e]);this._cacheTimers={},this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n=[],i=this.getIds(),o=1/0,a=1/0,s=-1/0,l=-1/0,c=t[0].zoom,f=0;f<t.length;f++){var h=t[f];o=Math.min(o,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var d=0;d<i.length;d++){var m=e._tiles[i[d]],y=m.tileID,v=[r(y,new u(o,a,c)),r(y,new u(s,l,c))];if(v[0].x<p&&v[0].y<p&&v[1].x>=0&&v[1].y>=0){for(var g=[],b=0;b<t.length;b++)g.push(r(y,t[b]));n.push({tile:m,tileID:y,queryGeometry:[g],scale:Math.pow(2,e.transform.zoom-m.tileID.overscaledZ)})}}return n},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),n=0,r=e;n<r.length;n+=1){var i=r[n];i.posMatrix=t.transform.calculatePosMatrix(i.toUnwrapped())}return e},e.prototype.hasTransition=function(){var t=this;if(this._source.hasTransition())return!0;if(i(this._source.type))for(var e in t._tiles){var n=t._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=h.now())return!0}return!1},e}(s);y.maxOverzooming=10,y.maxUnderzooming=3,e.exports=y},{"../data/extent":53,"../geo/coordinate":61,"../gl/context":66,"../util/browser":252,"../util/evented":260,"../util/lru_cache":266,"../util/util":275,"./source":110,"./tile":112,"./tile_id":114,"@mapbox/point-geometry":4}],112:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../data/bucket").deserialize,o=(t("../data/feature_index"),t("@mapbox/vector-tile")),a=t("pbf"),s=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),u=(t("../symbol/collision_index"),t("../data/bucket/symbol_bucket")),c=t("../data/array_types"),p=c.RasterBoundsArray,f=c.CollisionBoxArray,h=t("../data/raster_bounds_attributes"),d=t("../data/extent"),m=t("@mapbox/point-geometry"),y=t("../render/texture"),v=t("../data/segment"),g=v.SegmentVector,b=t("../data/index_array_type"),_=b.TriangleIndexArray,x=t("../util/browser"),w=function(t,e){this.tileID=t,this.uid=r.uniqueId(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};w.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<x.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},w.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},w.prototype.loadVectorData=function(t,e,n){var r=this;if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!t)return void(this.collisionBoxArray=new f);if(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=t.collisionBoxArray,this.featureIndex=t.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=i(t.buckets,e.style),n)for(var o in r.buckets){var a=r.buckets[o];a instanceof u&&(a.justReloaded=!0)}t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)},w.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},w.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},w.prototype.getBucket=function(t){return this.buckets[t.id]},w.prototype.upload=function(t){var e=this;for(var n in e.buckets){var r=e.buckets[n];r.uploaded||(r.upload(t),r.uploaded=!0)}var i=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new y(t,this.iconAtlasImage,i.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new y(t,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},w.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a){var s=this;if(!this.featureIndex||!this.collisionBoxArray)return{};var l=0,c={};for(var p in t){var f=s.getBucket(t[p]);f&&(l=Math.max(l,t[p].queryRadius(f)),f instanceof u&&void 0!==f.bucketInstanceId&&(c[f.bucketInstanceId]=!0))}return this.featureIndex.query({queryGeometry:e,scale:n,tileSize:this.tileSize,bearing:i,params:r,additionalRadius:l,collisionBoxArray:this.collisionBoxArray,sourceID:o,collisionIndex:a,bucketInstanceIds:c},t)},w.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new o.VectorTile(new a(this.rawTileData)).layers);var r=e?e.sourceLayer:"",i=this.vtLayers._geojsonTileLayer||this.vtLayers[r];if(i)for(var u=l(e&&e.filter),c={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},p=0;p<i.length;p++){var f=i.feature(p);if(u({zoom:n.tileID.overscaledZ},f)){var h=new s(f,c.z,c.x,c.y);h.tile=c,t.push(h)}}}},w.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},w.prototype.setMask=function(t,e){var n=this;if(!r.deepEqual(this.mask,t)&&(this.mask=t,this.clearMask(),!r.deepEqual(t,{0:!0}))){var i=new p,o=new _;this.segments=new g,this.segments.prepareSegment(0,i,o);for(var a=Object.keys(t),s=0;s<a.length;s++){var l=t[a[s]],u=d>>l.z,c=new m(l.x*u,l.y*u),f=new m(c.x+u,c.y+u),y=n.segments.prepareSegment(4,i,o);i.emplaceBack(c.x,c.y,c.x,c.y),i.emplaceBack(f.x,c.y,f.x,c.y),i.emplaceBack(c.x,f.y,c.x,f.y),i.emplaceBack(f.x,f.y,f.x,f.y);var v=y.vertexLength;o.emplaceBack(v,v+1,v+2),o.emplaceBack(v+1,v+2,v+3),y.vertexLength+=4,y.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(i,h.members),this.maskedIndexBuffer=e.createIndexBuffer(o)}},w.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},w.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=r.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var a=this.expirationTime-e;a?this.expirationTime=i+Math.max(a,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},w.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},e.exports=w},{"../data/array_types":39,"../data/bucket":40,"../data/bucket/symbol_bucket":51,"../data/extent":53,"../data/feature_index":54,"../data/index_array_type":55,"../data/raster_bounds_attributes":59,"../data/segment":60,"../render/texture":93,"../style-spec/feature_filter":148,"../symbol/collision_index":217,"../util/browser":252,"../util/util":275,"../util/vectortile_to_geojson":276,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:30}],113:[function(t,e,n){"use strict";var r=t("../geo/lng_lat_bounds"),i=t("../util/util").clamp,o=function(t,e,n){this.bounds=r.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t){var e={minX:Math.floor(this.lngX(this.bounds.getWest(),t.z)),minY:Math.floor(this.latY(this.bounds.getNorth(),t.z)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),t.z)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),t.z))};return t.x>=e.minX&&t.x<e.maxX&&t.y>=e.minY&&t.y<e.maxY},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var n=i(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r},e.exports=o},{"../geo/lng_lat_bounds":63,"../util/util":275}],114:[function(t,e,n){"use strict";function r(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}function i(t,e,n){for(var r,i="",o=t;o>0;o--)r=1<<o-1,i+=(e&r?1:0)+(n&r?2:0);return i}var o=t("@mapbox/whoots-js"),a=t("../util/web_worker_transfer"),s=a.register,l=t("../geo/coordinate"),u=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=r(0,t,e,n)};u.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},u.prototype.url=function(t,e){var n=o.getTileBBox(this.x,this.y,this.z),r=i(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)};var c=function(t,e){this.wrap=t,this.canonical=e,this.key=r(t,e.z,e.x,e.y)},p=function(t,e,n,i,o){this.overscaledZ=t,this.wrap=e,this.canonical=new u(n,+i,+o),this.key=r(e,t,i,o)};p.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new p(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new p(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},p.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},p.prototype.children=function(t){if(this.overscaledZ>=t)return[new p(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new p(e,this.wrap,e,n,r),new p(e,this.wrap,e,n+1,r),new p(e,this.wrap,e,n,r+1),new p(e,this.wrap,e,n+1,r+1)]},p.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},p.prototype.wrapped=function(){return new p(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},p.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},p.prototype.toUnwrapped=function(){return new c(this.wrap,this.canonical)},p.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},p.prototype.toCoordinate=function(){return new l(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},s("CanonicalTileID",u),s("OverscaledTileID",p,{omit:["posMatrix"]}),e.exports={CanonicalTileID:u,OverscaledTileID:p,UnwrappedTileID:c}},{"../geo/coordinate":61,"../util/web_worker_transfer":278,"@mapbox/whoots-js":12}],115:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("../util/util"),o=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,n,r,o){if(t.call(this),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,i.extend(this,i.pick(n,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(i.extend(t,n),n.bounds&&(t.tileBounds=new s(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return i.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,r){return t.aborted?e(null):n?e(n):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}var r=t.tileID.overscaleFactor(),i=a(t.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(i,l.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*r,type:this.type,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:r,showCollisionBoxes:this.map.showCollisionBoxes};o.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,n.bind(this)):"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",o,n.bind(this),t.workerID)},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.hasTransition=function(){return!1},e}(r);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],116:[function(t,e,n){"use strict";function r(t,e){var n=i.getArrayBuffer(t.request,function(t,n){t?e(t):n&&e(null,{vectorTile:new o.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort(),e()}}var i=t("../util/ajax"),o=t("@mapbox/vector-tile"),a=t("pbf"),s=t("./worker_tile"),l=t("../util/util"),u=t("../util/performance"),c=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||r,this.loading={},this.loaded={}};c.prototype.loadTile=function(t,e){var n=this,r=t.source,i=t.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(t);o.abort=this.loadVectorData(t,function(a,s){if(delete n.loading[r][i],a||!s)return e(a);var c=s.rawData,p={};s.expires&&(p.expires=s.expires),s.cacheControl&&(p.cacheControl=s.cacheControl);var f={};if(t.request&&t.request.collectResourceTiming){var h=u.getEntriesByName(t.request.url);h&&(f.resourceTiming=JSON.parse(JSON.stringify(h)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return e(t);e(null,l.extend({rawTileData:c.slice(0)},n,p,f))}),n.loaded[r]=n.loaded[r]||{},n.loaded[r][i]=o})},c.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,r)}e(t,n)}var r=this.loaded[t.source],i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes,"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},c.prototype.abortTile=function(t,e){var n=this.loading[t.source],r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},c.prototype.removeTile=function(t,e){var n=this.loaded[t.source],r=t.uid;n&&n[r]&&delete n[r],e()},e.exports=c},{"../util/ajax":251,"../util/performance":268,"../util/util":275,"./worker_tile":119,"@mapbox/vector-tile":8,pbf:30}],117:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("./image_source"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,r.getVideo(e.urls,function(e,n){e?t.fire("error",{error:e}):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map._rerender()}),t.map&&t.video.play(),t._finishLoading())})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){var t=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new s(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var r in t.tiles){var i=t.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this.video&&!this.video.paused},e}(i);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"./image_source":102}],118:[function(t,e,n){"use strict";var r=t("../util/actor"),i=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),a=t("./raster_dem_tile_worker_source"),s=t("./geojson_worker_source"),l=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new r(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(l.applyArabicShaping||l.processBidirectionalText)throw new Error("RTL text plugin already registered.");l.applyArabicShaping=t.applyArabicShaping,l.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},u.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type).abortTile(e,n)},u.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type).removeTile(e,n)},u.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t).removeTile(e)},u.prototype.removeSource=function(t,e,n){var r=this.getWorkerSource(t,e.type);void 0!==r.removeSource?r.removeSource(e,n):n()},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{l.applyArabicShaping||l.processBidirectionalText||(this.self.importScripts(e),l.applyArabicShaping&&l.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,i){n.actor.send(e,r,i,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]},u.prototype.getDEMWorkerSource=function(t){return this.demWorkerSources[t]||(this.demWorkerSources[t]=new a),this.demWorkerSources[t]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":210,"../util/actor":250,"./geojson_worker_source":100,"./raster_dem_tile_worker_source":107,"./rtl_text_plugin":109,"./vector_tile_worker_source":116}],119:[function(t,e,n){"use strict";function r(t,e){for(var n=new y(e),r=0,i=t;r<i.length;r+=1)i[r].recalculate(n)}var i=t("../data/feature_index"),o=t("../symbol/symbol_layout"),a=o.performSymbolLayout,s=t("../data/array_types"),l=s.CollisionBoxArray,u=t("../util/dictionary_coder"),c=t("../data/bucket/symbol_bucket"),p=t("../util/util"),f=t("../render/image_atlas"),h=f.makeImageAtlas,d=t("../render/glyph_atlas"),m=d.makeGlyphAtlas,y=t("../style/evaluation_parameters"),v=t("./tile_id"),g=v.OverscaledTileID,b=function(t){this.tileID=new g(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};b.prototype.parse=function(t,e,n,o){function s(){var t=this;if(P)return o(P);if(A&&z){var e=m(A),n=h(z);for(var i in v){var s=v[i];s instanceof c&&(r(s.layers,t.zoom),a(s,A,e.positions,z,n.positions,t.showCollisionBoxes))}this.status="done",o(null,{buckets:p.values(v).filter(function(t){return!t.isEmpty()}),featureIndex:y,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,iconAtlasImage:n.image})}}var f=this;this.status="parsing",this.data=t,this.collisionBoxArray=new l;var d=new u(Object.keys(t.layers).sort()),y=new i(this.tileID,this.overscaling);y.bucketLayerIDs=[];var v={},g={featureIndex:y,iconDependencies:{},glyphDependencies:{}},b=e.familiesBySource[this.source];for(var _ in b){var x=t.layers[_];if(x){1===x.version&&p.warnOnce('Vector tile source "'+f.source+'" layer "'+_+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=d.encode(_),k=[],E=0;E<x.length;E++){var S=x.feature(E);k.push({feature:S,index:E,sourceLayerIndex:w})}for(var C=0,T=b[_];C<T.length;C+=1){var O=T[C],M=O[0];M.minzoom&&f.zoom<Math.floor(M.minzoom)||M.maxzoom&&f.zoom>=M.maxzoom||"none"===M.visibility||(r(O,f.zoom),(v[M.id]=M.createBucket({index:y.bucketLayerIDs.length,layers:O,zoom:f.zoom,pixelRatio:f.pixelRatio,overscaling:f.overscaling,collisionBoxArray:f.collisionBoxArray})).populate(k,g),y.bucketLayerIDs.push(O.map(function(t){return t.id})))}}}var P,A,z,j=p.mapObject(g.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(j).length?n.send("getGlyphs",{uid:this.uid,stacks:j},function(t,e){P||(P=t,A=e,s.call(f))}):A={};var I=Object.keys(g.iconDependencies);I.length?n.send("getImages",{icons:I},function(t,e){P||(P=t,z=e,s.call(f))}):z={},s.call(this)},e.exports=b},{"../data/array_types":39,"../data/bucket/symbol_bucket":51,"../data/feature_index":54,"../render/glyph_atlas":85,"../render/image_atlas":87,"../style/evaluation_parameters":182,"../symbol/symbol_layout":227,"../util/dictionary_coder":257,"../util/util":275,"./tile_id":114}],120:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return o.forEach(function(t){t in e&&(n[t]=e[t])}),n}function i(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=r(t[i],e[t[i].ref]));return t}var o=t("./util/ref_properties");e.exports=i},{"./util/ref_properties":159}],121:[function(t,e,n){"use strict";function r(t,e,n){n.push({command:d.addSource,args:[t,e[t]]})}function i(t,e,n){e.push({command:d.removeSource,args:[t]}),n[t]=!0}function o(t,e,n,o){i(t,n,o),r(t,e,n)}function a(t,e,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!h(t[n][r],e[n][r]))return!1;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!h(t[n][r],e[n][r]))return!1;return!0}function s(t,e,n,s){t=t||{},e=e||{};var l;for(l in t)t.hasOwnProperty(l)&&(e.hasOwnProperty(l)||i(l,n,s));for(l in e)e.hasOwnProperty(l)&&(t.hasOwnProperty(l)?h(t[l],e[l])||("geojson"===t[l].type&&"geojson"===e[l].type&&a(t,e,l)?n.push({command:d.setGeoJSONSourceData,args:[l,e[l].data]}):o(l,e,n,s)):r(l,e,n))}function l(t,e,n,r,i,o){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(h(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(h(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function u(t){return t.id}function c(t,e){return t[e.id]=e,t}function p(t,e,n){t=t||[],e=e||[];var r,i,o,a,s,p,f,m=t.map(u),y=e.map(u),v=t.reduce(c,{}),g=e.reduce(c,{}),b=m.slice(),_=Object.create(null);for(r=0,i=0;r<m.length;r++)o=m[r],g.hasOwnProperty(o)?i++:(n.push({command:d.removeLayer,args:[o]}),b.splice(b.indexOf(o,i),1));for(r=0,i=0;r<y.length;r++)o=y[y.length-1-r],b[b.length-1-r]!==o&&(v.hasOwnProperty(o)?(n.push({command:d.removeLayer,args:[o]}),b.splice(b.lastIndexOf(o,b.length-i),1)):i++,p=b[b.length-r],n.push({command:d.addLayer,args:[g[o],p]}),b.splice(b.length-r,0,o),_[o]=!0);for(r=0;r<y.length;r++)if(o=y[r],a=v[o],s=g[o],!_[o]&&!h(a,s))if(h(a.source,s.source)&&h(a["source-layer"],s["source-layer"])&&h(a.type,s.type)){l(a.layout,s.layout,n,o,null,d.setLayoutProperty),l(a.paint,s.paint,n,o,null,d.setPaintProperty),h(a.filter,s.filter)||n.push({command:d.setFilter,args:[o,s.filter]}),h(a.minzoom,s.minzoom)&&h(a.maxzoom,s.maxzoom)||n.push({command:d.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]});for(f in a)a.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?l(a[f],s[f],n,o,f.slice(6),d.setPaintProperty):h(a[f],s[f])||n.push({command:d.setLayerProperty,args:[o,f,s[f]]}));for(f in s)s.hasOwnProperty(f)&&!a.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?l(a[f],s[f],n,o,f.slice(6),d.setPaintProperty):h(a[f],s[f])||n.push({command:d.setLayerProperty,args:[o,f,s[f]]}))}else n.push({command:d.removeLayer,args:[o]}),p=b[b.lastIndexOf(o)+1],n.push({command:d.addLayer,args:[s,p]})}function f(t,e){if(!t)return[{command:d.setStyle,args:[e]}];var n=[];try{if(!h(t.version,e.version))return[{command:d.setStyle,args:[e]}];h(t.center,e.center)||n.push({command:d.setCenter,args:[e.center]}),h(t.zoom,e.zoom)||n.push({command:d.setZoom,args:[e.zoom]}),h(t.bearing,e.bearing)||n.push({command:d.setBearing,args:[e.bearing]}),h(t.pitch,e.pitch)||n.push({command:d.setPitch,args:[e.pitch]}),h(t.sprite,e.sprite)||n.push({command:d.setSprite,args:[e.sprite]}),h(t.glyphs,e.glyphs)||n.push({command:d.setGlyphs,args:[e.glyphs]}),h(t.transition,e.transition)||n.push({command:d.setTransition,args:[e.transition]}),h(t.light,e.light)||n.push({command:d.setLight,args:[e.light]});var r={},i=[];s(t.sources,e.sources,i,r);var o=[];t.layers&&t.layers.forEach(function(t){r[t.source]?n.push({command:d.removeLayer,args:[t.id]}):o.push(t)}),n=n.concat(i),p(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:d.setStyle,args:[e]}]}return n}var h=t("./util/deep_equal"),d={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=f,e.exports.operations=d},{"./util/deep_equal":155}],122:[function(t,e,n){"use strict";function r(t,e,n){this.message=(t?t+": ":"")+n,null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}e.exports=r},{}],123:[function(t,e,n){"use strict";function r(t){return{type:t}}function i(t){return Array.isArray(t)?"("+t.map(a).join(", ")+")":"("+a(t.type)+"...)"}var o=t("./types"),a=o.toString,s=t("./parsing_context"),l=(t("./evaluation_context"),function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r});l.prototype.evaluate=function(t){return this._evaluate(t,this.args)},l.prototype.eachChild=function(t){this.args.forEach(t)},l.prototype.possibleOutputs=function(){return[void 0]},l.parse=function(t,e){var n=t[0],r=l.definitions[n];if(!r)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(r)?r[0]:r.type,u=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,c=u.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),p=[],f=1;f<t.length;f++){var h=t[f],d=void 0;if(1===c.length){var m=c[0][0];d=Array.isArray(m)?m[f-1]:m.type}var y=e.parse(h,1+p.length,d);if(!y)return null;p.push(y)}for(var v=null,g=0,b=c;g<b.length;g+=1){var _=b[g],x=_[0],w=_[1];if(v=new s(e.registry,e.path,null,e.scope),Array.isArray(x)&&x.length!==p.length)v.error("Expected "+x.length+" arguments, but found "+p.length+" instead.");else{for(var k=0;k<p.length;k++){var E=Array.isArray(x)?x[k]:x.type,S=p[k];v.concat(k+1).checkSubtype(E,S.type)}if(0===v.errors.length)return new l(n,o,w,p)}}if(1===c.length)e.errors.push.apply(e.errors,v.errors);else{var C=c.length?c:u,T=C.map(function(t){return i(t[0])}).join(" | "),O=p.map(function(t){return a(t.type)}).join(", ");e.error("Expected arguments of type "+T+", but found ("+O+") instead.")}return null},l.register=function(t,e){l.definitions=e;for(var n in e)t[n]=l},e.exports={CompoundExpression:l,varargs:r}},{"./evaluation_context":138,"./parsing_context":141,"./types":146}],124:[function(t,e,n){"use strict";var r=t("../types"),i=r.toString,o=r.array,a=r.ValueType,s=r.StringType,l=r.NumberType,u=r.BooleanType,c=r.checkSubtype,p=t("../values"),f=p.typeOf,h=t("../runtime_error"),d={string:s,number:l,boolean:u},m=function(t,e){this.type=t,this.input=e};m.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var n,r;if(t.length>2){var i=t[1];if("string"!=typeof i||!(i in d))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=d[i]}else n=a;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);r=t[2]}var s=o(n,r),l=e.parse(t[t.length-1],t.length-1,a);return l?new m(s,l):null},m.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(c(this.type,f(e)))throw new h("Expected value to be of type "+i(this.type)+", but found "+i(f(e))+" instead.");return e},m.prototype.eachChild=function(t){t(this.input)},m.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},e.exports=m},{"../runtime_error":143,"../types":146,"../values":147}],125:[function(t,e,n){"use strict";var r=t("../types"),i=r.ObjectType,o=r.ValueType,a=r.StringType,s=r.NumberType,l=r.BooleanType,u=t("../runtime_error"),c=t("../types"),p=c.checkSubtype,f=c.toString,h=t("../values"),d=h.typeOf,m={string:a,number:s,boolean:l,object:i},y=function(t,e){this.type=t,this.args=e};y.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=m[n],i=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;i.push(s)}return new y(r,i)},y.prototype.evaluate=function(t){for(var e=this,n=0;n<this.args.length;n++){var r=e.args[n].evaluate(t);if(!p(e.type,d(r)))return r;if(n===e.args.length-1)throw new u("Expected value to be of type "+f(e.type)+", but found "+f(d(r))+" instead.")}return null},y.prototype.eachChild=function(t){this.args.forEach(t)},y.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=y},{"../runtime_error":143,"../types":146,"../values":147}],126:[function(t,e,n){"use strict";var r=t("../types"),i=r.array,o=r.ValueType,a=r.NumberType,s=t("../runtime_error"),l=function(t,e,n){this.type=t,this.index=e,this.input=n};l.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,a),r=e.parse(t[2],2,i(e.expectedType||o));if(!n||!r)return null;var s=r.type;return new l(s.itemType,n,r)},l.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0||e>=n.length)throw new s("Array index out of bounds: "+e+" > "+n.length+".");if(e!==Math.floor(e))throw new s("Array index must be an integer, but found "+e+" instead.");return n[e]},l.prototype.eachChild=function(t){t(this.index),t(this.input)},l.prototype.possibleOutputs=function(){return[void 0]},e.exports=l},{"../runtime_error":143,"../types":146}],127:[function(t,e,n){"use strict";var r=t("../types"),i=r.BooleanType,o=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};o.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],a=1;a<t.length-1;a+=2){var s=e.parse(t[a],a,i);if(!s)return null;var l=e.parse(t[a+1],a+1,n);if(!l)return null;r.push([s,l]),n=n||l.type}var u=e.parse(t[t.length-1],t.length-1,n);return u?new o(n,r,u):null},o.prototype.evaluate=function(t){for(var e=this,n=0,r=e.branches;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];if(o.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},o.prototype.eachChild=function(t){for(var e=this,n=0,r=e.branches;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];t(o),t(a)}t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../types":146}],128:[function(t,e,n){"use strict";var r=t("../types"),i=r.checkSubtype,o=r.ValueType,a=function(t,e){this.type=t,this.args=e};a.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var s=[],l=0,u=t.slice(1);l<u.length;l+=1){var c=u[l],p=e.parse(c,1+s.length,n,void 0,{omitTypeAnnotations:!0});if(!p)return null;n=n||p.type,s.push(p)}return r&&s.some(function(t){return i(r,t.type)})?new a(o,s):new a(n,s)},a.prototype.evaluate=function(t){for(var e=this,n=null,r=0,i=e.args;r<i.length&&null===(n=i[r].evaluate(t));r+=1);return n},a.prototype.eachChild=function(t){this.args.forEach(t)},a.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=a},{"../types":146}],129:[function(t,e,n){"use strict";var r=t("../types"),i=r.ColorType,o=r.ValueType,a=r.NumberType,s=t("../values"),l=s.Color,u=s.validateRGBA,c=t("../runtime_error"),p={"to-number":a,"to-color":i},f=function(t,e){this.type=t,this.args=e};f.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=p[n],i=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;i.push(s)}return new f(r,i)},f.prototype.evaluate=function(t){var e=this;if("color"===this.type.kind){for(var n,r,i=0,o=e.args;i<o.length;i+=1)if(n=o[i].evaluate(t),r=null,"string"==typeof n){var a=t.parseColor(n);if(a)return a}else if(Array.isArray(n)&&!(r=n.length<3||n.length>4?"Invalid rbga value "+JSON.stringify(n)+": expected an array containing either three or four numeric values.":u(n[0],n[1],n[2],n[3])))return new l(n[0]/255,n[1]/255,n[2]/255,n[3]);throw new c(r||"Could not parse color from value '"+("string"==typeof n?n:JSON.stringify(n))+"'")}for(var s=null,p=0,f=e.args;p<f.length;p+=1)if(null!==(s=f[p].evaluate(t))){var h=Number(s);if(!isNaN(h))return h}throw new c("Could not convert "+JSON.stringify(s)+" to number.")},f.prototype.eachChild=function(t){this.args.forEach(t)},f.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=f},{"../runtime_error":143,"../types":146,"../values":147}],130:[function(t,e,n){"use strict";function r(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function i(t){return function(){function e(t,e){this.type=s,this.lhs=t,this.rhs=e}return e.parse=function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var i=n.parse(t[1],1,a);if(!i)return null;var o=n.parse(t[2],2,a);return o?r(i.type)||r(o.type)?i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind?n.error("Cannot compare "+u(i.type)+" and "+u(o.type)+"."):new e(i,o):n.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+u(i.type)+", "+u(o.type)+") instead."):null},e.prototype.evaluate=function(e){return t(this.lhs.evaluate(e),this.rhs.evaluate(e))},e.prototype.eachChild=function(t){t(this.lhs),t(this.rhs)},e.prototype.possibleOutputs=function(){return[!0,!1]},e}()}var o=t("../types"),a=o.ValueType,s=o.BooleanType,l=t("../types"),u=l.toString;e.exports={Equals:i(function(t,e){return t===e}),NotEquals:i(function(t,e){return t!==e})}},{"../types":146}],131:[function(t,e,n){"use strict";function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=S(n,r,i,a);if(s)throw new M(s);return new E(n/255*a,r/255*a,i/255*a,a)}function i(t,e){return t in e}function o(t,e){var n=e[t];return void 0===n?null:n}function a(t,e){return e[0].evaluate(t).length}function s(t,e){var n=e[0],r=e[1];return n.evaluate(t)<r.evaluate(t)}function l(t,e){var n=e[0],r=e[1];return n.evaluate(t)>r.evaluate(t)}function u(t,e){var n=e[0],r=e[1];return n.evaluate(t)<=r.evaluate(t)}function c(t,e){var n=e[0],r=e[1];return n.evaluate(t)>=r.evaluate(t)}function p(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}var f=t("../types"),h=f.NumberType,d=f.StringType,m=f.BooleanType,y=f.ColorType,v=f.ObjectType,g=f.ValueType,b=f.ErrorType,_=f.array,x=f.toString,w=t("../values"),k=w.typeOf,E=w.Color,S=w.validateRGBA,C=t("../compound_expression"),T=C.CompoundExpression,O=C.varargs,M=t("../runtime_error"),P=t("./let"),A=t("./var"),z=t("./literal"),j=t("./assertion"),I=t("./array"),L=t("./coercion"),D=t("./at"),R=t("./match"),N=t("./case"),B=t("./step"),F=t("./interpolate"),U=t("./coalesce"),V=t("./equals"),H=V.Equals,W=V.NotEquals,q={"==":H,"!=":W,array:I,at:D,boolean:j,case:N,coalesce:U,interpolate:F,let:P,literal:z,match:R,number:j,object:j,step:B,string:j,"to-color":L,"to-number":L,var:A};T.register(q,{error:[b,[d],function(t,e){var n=e[0];throw new M(n.evaluate(t))}],typeof:[d,[g],function(t,e){var n=e[0];return x(k(n.evaluate(t)))}],"to-string":[d,[g],function(t,e){var n=e[0];n=n.evaluate(t);var r=typeof n;return null===n||"string"===r||"number"===r||"boolean"===r?String(n):n instanceof E?n.toString():JSON.stringify(n)}],"to-boolean":[m,[g],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[_(h,4),[y],function(t,e){var n=e[0],r=n.evaluate(t),i=r.r,o=r.g,a=r.b,s=r.a;return[255*i/s,255*o/s,255*a/s,s]}],rgb:[y,[h,h,h],r],rgba:[y,[h,h,h,h],r],length:{type:h,overloads:[[[d],a],[[_(g)],a]]},has:{type:m,overloads:[[[d],function(t,e){return i(e[0].evaluate(t),t.properties())}],[[d,v],function(t,e){var n=e[0],r=e[1];return i(n.evaluate(t),r.evaluate(t))}]]},get:{type:g,overloads:[[[d],function(t,e){return o(e[0].evaluate(t),t.properties())}],[[d,v],function(t,e){var n=e[0],r=e[1];return o(n.evaluate(t),r.evaluate(t))}]]},properties:[v,[],function(t){return t.properties()}],"geometry-type":[d,[],function(t){return t.geometryType()}],id:[g,[],function(t){return t.id()}],zoom:[h,[],function(t){return t.globals.zoom}],"heatmap-density":[h,[],function(t){return t.globals.heatmapDensity||0}],"+":[h,O(h),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[h,O(h),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:h,overloads:[[[h,h],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[h],function(t,e){return-e[0].evaluate(t)}]]},"/":[h,[h,h],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[h,[h,h],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[h,[],function(){return Math.LN2}],pi:[h,[],function(){return Math.PI}],e:[h,[],function(){return Math.E}],"^":[h,[h,h],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[h,[h],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[h,[h],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[h,[h],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[h,[h],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[h,[h],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[h,[h],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[h,[h],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[h,[h],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[h,[h],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[h,[h],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[h,O(h),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[h,O(h),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],"filter-==":[m,[d,g],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[m,[g],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[m,[d],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[m,[d,g],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[m,[g],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[m,[d,g],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[m,[g],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[m,[d,g],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[m,[g],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[m,[d,g],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[m,[g],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[m,[g],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[m,[],function(t){return null!==t.id()}],"filter-type-in":[m,[_(d)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[m,[_(g)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[m,[d,_(g)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[m,[d,_(g)],function(t,e){var n=e[0],r=e[1];return p(t.properties()[n.value],r.value,0,r.value.length-1)}],">":{type:m,overloads:[[[h,h],l],[[d,d],l]]},"<":{type:m,overloads:[[[h,h],s],[[d,d],s]]},">=":{type:m,overloads:[[[h,h],c],[[d,d],c]]},"<=":{type:m,overloads:[[[h,h],u],[[d,d],u]]},all:{type:m,overloads:[[[m,m],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[O(m),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:m,overloads:[[[m,m],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[O(m),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[m,[m],function(t,e){return!e[0].evaluate(t)}],upcase:[d,[d],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[d,[d],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[d,O(d),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}]}),e.exports=q},{"../compound_expression":123,"../runtime_error":143,"../types":146,"../values":147,"./array":124,"./assertion":125,"./at":126,"./case":127,"./coalesce":128,"./coercion":129,"./equals":130,"./interpolate":132,"./let":133,"./literal":134,"./match":135,"./step":136,"./var":137}],132:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var i=t("@mapbox/unitbezier"),o=t("../../util/interpolate"),a=t("../types"),s=a.toString,l=a.NumberType,u=t("../stops"),c=u.findStopLessThanOrEqualTo,p=function(t,e,n,r){var i=this;this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=r;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];i.labels.push(l),i.outputs.push(u)}};p.interpolationFactor=function(t,e,n,o){var a=0;if("exponential"===t.name)a=r(e,t.base,n,o);else if("linear"===t.name)a=r(e,1,n,o);else if("cubic-bezier"===t.name){var s=t.controlPoints,l=new i(s[0],s[1],s[2],s[3]);a=l.solve(r(e,1,n,o))}return a},p.parse=function(t,e){var n=t[1],r=t[2],i=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,l)))return null;var u=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var f=0;f<i.length;f+=2){var h=i[f],d=i[f+1],m=f+3,y=f+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(u.length&&u[u.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',m);var v=e.parse(d,y,c);if(!v)return null;c=c||v.type,u.push([h,v])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new p(c,n,r,u):e.error("Type "+s(c)+" is not interpolatable.")},p.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var a=c(e,r),s=e[a],l=e[a+1],u=p.interpolationFactor(this.interpolation,r,s,l),f=n[a].evaluate(t),h=n[a+1].evaluate(t);return o[this.type.kind.toLowerCase()](f,h,u)},p.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,r=e.outputs;n<r.length;n+=1)t(r[n])},p.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=p},{"../../util/interpolate":158,"../stops":145,"../types":146,"@mapbox/unitbezier":7}],133:[function(t,e,n){"use strict";var r=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};r.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},r.prototype.eachChild=function(t){for(var e=this,n=0,r=e.bindings;n<r.length;n+=1)t(r[n][1]);t(this.result)},r.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var o=t[i];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",i);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=e.parse(t[i+1],i+1);if(!a)return null;n.push([o,a])}var s=e.parse(t[t.length-1],t.length-1,void 0,n);return s?new r(n,s):null},r.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},e.exports=r},{}],134:[function(t,e,n){"use strict";var r=t("../values"),i=r.isValue,o=r.typeOf,a=function(t,e){this.type=t,this.value=e};a.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!i(t[1]))return e.error("invalid value");var n=t[1],r=o(n),s=e.expectedType;return"array"!==r.kind||0!==r.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(r=s),new a(r,n)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},a.prototype.possibleOutputs=function(){return[this.value]},e.exports=a},{"../values":147}],135:[function(t,e,n){"use strict";var r=t("../values"),i=r.typeOf,o=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};o.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var a={},s=[],l=2;l<t.length-1;l+=2){var u=t[l],c=t[l+1];Array.isArray(u)||(u=[u]);var p=e.concat(l);if(0===u.length)return p.error("Expected at least one branch label.");for(var f=0,h=u;f<h.length;f+=1){var d=h[f];if("number"!=typeof d&&"string"!=typeof d)return p.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return p.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return p.error("Numeric branch labels must be integer values.");if(n){if(p.checkSubtype(n,i(d)))return null}else n=i(d);if(void 0!==a[String(d)])return p.error("Branch labels must be unique.");a[String(d)]=s.length}var m=e.parse(c,l,r);if(!m)return null;r=r||m.type,s.push(m)}var y=e.parse(t[1],1,n);if(!y)return null;var v=e.parse(t[t.length-1],t.length-1,r);return v?new o(n,r,y,a,s,v):null},o.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},o.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../values":147}],136:[function(t,e,n){"use strict";var r=t("../types"),i=r.NumberType,o=t("../stops"),a=o.findStopLessThanOrEqualTo,s=function(t,e,n){var r=this;this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,o=n;i<o.length;i+=1){var a=o[i],s=a[0],l=a[1];r.labels.push(s),r.outputs.push(l)}};s.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,i)))return null;var o=[],a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType),r.unshift(-1/0);for(var l=0;l<r.length;l+=2){var u=r[l],c=r[l+1],p=l+1,f=l+2;if("number"!=typeof u)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(o.length&&o[o.length-1][0]>=u)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',p);var h=e.parse(c,f,a);if(!h)return null;a=a||h.type,o.push([u,h])}return new s(a,n,o)},s.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[a(e,r)].evaluate(t)},s.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,r=e.outputs;n<r.length;n+=1)t(r[n])},s.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=s},{"../stops":145,"../types":146}],137:[function(t,e,n){"use strict";var r=function(t,e){this.type=e,this.name=t};r.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new r(n,e.scope.get(n).type):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},r.prototype.evaluate=function(t){return t.scope.get(this.name).evaluate(t)},r.prototype.eachChild=function(){},r.prototype.possibleOutputs=function(){return[void 0]},e.exports=r},{}],138:[function(t,e,n){"use strict";var r=t("./scope"),i=t("./values"),o=i.Color,a=["Unknown","Point","LineString","Polygon"],s=function(){this.scope=new r,this._parseColorCache={}};s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},s.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?a[this.feature.type]:this.feature.type:null},s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},s.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},s.prototype.popScope=function(){this.scope=this.scope.parent},s.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=o.parse(t)),e},e.exports=s},{"./scope":144,"./values":147}],139:[function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in _}function i(t,e,n){void 0===n&&(n={});var r=new f(_,[],l(e)),i=r.parse(t);return i?E(!1===n.handleErrors?new C(i):new T(i,e)):S(r.errors)}function o(t,e,n){if(void 0===n&&(n={}),t=i(t,e,n),"error"===t.result)return t;var r=t.value.expression,o=x.isFeatureConstant(r);if(!o&&!e["property-function"])return S([new p("","property expressions not supported")]);var a=x.isGlobalPropertyConstant(r,["zoom"]);if(!a&&!1===e["zoom-function"])return S([new p("","zoom expressions not supported")]);var l=s(r);return l||a?l instanceof p?S([l]):l instanceof v&&"piecewise-constant"===e.function?S([new p("",'"interpolate" expressions cannot be used with this property')]):E(l?o?new M("camera",t.value,l):new M("composite",t.value,l):o?new O("constant",t.value):new O("source",t.value)):S([new p("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function a(t,e){if(A(t))return new L(t,e);if(r(t)){var n=o(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=I.parse(t)),{kind:"constant",evaluate:function(){return i}}}function s(t){var e=null;if(t instanceof b)e=s(t.result);else if(t instanceof g)for(var n=0,r=t.args;n<r.length;n+=1){var i=r[n];if(e=s(i))break}else(t instanceof y||t instanceof v)&&t.input instanceof m&&"zoom"===t.input.name&&(e=t);return e instanceof p?e:(t.eachChild(function(t){var n=s(t);n instanceof p?e=n:!e&&n?e=new p("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new p("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e)}function l(t){var e={color:R,string:N,number:B,enum:N,boolean:F};return"array"===t.type?V(e[t.value]||U,t.length):e[t.type]||null}function u(t){return"color"===t.type&&A(t.default)?new I(0,0,0,0):"color"===t.type?I.parse(t.default)||null:void 0===t.default?null:t.default}var c=t("../util/extend"),p=t("./parsing_error"),f=t("./parsing_context"),h=t("./evaluation_context"),d=t("./compound_expression"),m=d.CompoundExpression,y=t("./definitions/step"),v=t("./definitions/interpolate"),g=t("./definitions/coalesce"),b=t("./definitions/let"),_=t("./definitions"),x=t("./is_constant"),w=t("./runtime_error"),k=t("../util/result"),E=k.success,S=k.error,C=function(t){this.expression=t};C.prototype.evaluate=function(t,e){return this._evaluator||(this._evaluator=new h),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)};var T=function(t){function e(e,n){t.call(this,e),this._warningHistory={},this._defaultValue=u(n),"enum"===n.type&&(this._enumValues=n.values)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.evaluate=function(t,e){this._evaluator||(this._evaluator=new h),this._evaluator.globals=t,this._evaluator.feature=e;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new w("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}},e}(C),O=function(t,e){this.kind=t,this._styleExpression=e};O.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)};var M=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,n instanceof v&&(this._interpolationType=n.interpolation)};M.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)},M.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?v.interpolationFactor(this._interpolationType,t,e,n):0};var P=t("../function"),A=P.isFunction,z=P.createFunction,j=t("./values"),I=j.Color,L=function(t,e){this._parameters=t,this._specification=e,c(this,z(this._parameters,this._specification))};L.deserialize=function(t){return new L(t._parameters,t._specification)},L.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}},e.exports={StyleExpression:C,StyleExpressionWithErrorHandling:T,isExpression:r,createExpression:i,createPropertyExpression:o,normalizePropertyExpression:a,ZoomConstantExpression:O,ZoomDependentExpression:M,StylePropertyFunction:L};var D=t("./types"),R=D.ColorType,N=D.StringType,B=D.NumberType,F=D.BooleanType,U=D.ValueType,V=D.array},{"../function":149,"../util/extend":156,"../util/result":160,"./compound_expression":123,"./definitions":131,"./definitions/coalesce":128,"./definitions/interpolate":132,"./definitions/let":133,"./definitions/step":136,"./evaluation_context":138,"./is_constant":140,"./parsing_context":141,"./parsing_error":142,"./runtime_error":143,"./types":146,"./values":147}],140:[function(t,e,n){"use strict";function r(t){if(t instanceof a){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!r(t)&&(e=!1)}),e}function i(t,e){if(t instanceof a&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!i(t,e)&&(n=!1)}),n}var o=t("./compound_expression"),a=o.CompoundExpression;e.exports={isFeatureConstant:r,isGlobalPropertyConstant:i}},{"./compound_expression":123}],141:[function(t,e,n){"use strict";function r(e){var n=t("./compound_expression"),r=n.CompoundExpression,i=t("./is_constant"),o=i.isGlobalPropertyConstant,a=i.isFeatureConstant;if(e instanceof t("./definitions/var"))return!1;if(e instanceof r&&"error"===e.name)return!1;var s=!0;return e.eachChild(function(t){t instanceof l||(s=!1)}),!!s&&a(e)&&o(e,["zoom","heatmap-density"])}var i=t("./scope"),o=t("./types"),a=o.checkSubtype,s=t("./parsing_error"),l=t("./definitions/literal"),u=t("./definitions/assertion"),c=t("./definitions/array"),p=t("./definitions/coercion"),f=function(t,e,n,r,o){void 0===e&&(e=[]),void 0===r&&(r=new i),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=o,this.expectedType=n};f.prototype.parse=function(e,n,i,o,a){void 0===a&&(a={});var s=this;if(n&&(s=s.concat(n,i,o)),null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return s.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var f=e[0];if("string"!=typeof f)return s.error("Expression name must be a string, but found "+typeof f+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var h=s.registry[f];if(h){var d=h.parse(e,s);if(!d)return null;if(s.expectedType){var m=s.expectedType,y=d.type;if("string"!==m.kind&&"number"!==m.kind&&"boolean"!==m.kind||"value"!==y.kind)if("array"===m.kind&&"value"===y.kind)a.omitTypeAnnotations||(d=new c(m,d));else if("color"!==m.kind||"value"!==y.kind&&"string"!==y.kind){if(s.checkSubtype(s.expectedType,d.type))return null}else a.omitTypeAnnotations||(d=new p(m,[d]));else a.omitTypeAnnotations||(d=new u(m,[d]))}if(!(d instanceof l)&&r(d)){var v=new(t("./evaluation_context"));try{d=new l(d.type,d.evaluate(v))}catch(e){return s.error(e.message),null}}return d}return s.error('Unknown expression "'+f+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?s.error("'undefined' value invalid. Use null instead."):"object"==typeof e?s.error('Bare objects invalid. Use ["literal", {...}] instead.'):s.error("Expected an array, but found "+typeof e+" instead.")},f.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new f(this.registry,r,e||null,i,this.errors)},f.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new s(r,t))},f.prototype.checkSubtype=function(t,e){var n=a(t,e);return n&&this.error(n),n},e.exports=f},{"./compound_expression":123,"./definitions/array":124,"./definitions/assertion":125,"./definitions/coercion":129,"./definitions/literal":134,"./definitions/var":137,"./evaluation_context":138,"./is_constant":140,"./parsing_error":142,"./scope":144,"./types":146}],142:[function(t,e,n){"use strict";var r=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.exports=r},{}],143:[function(t,e,n){"use strict";var r=function(t){this.name="ExpressionEvaluationError",this.message=t};r.prototype.toJSON=function(){return this.message},e.exports=r},{}],144:[function(t,e,n){"use strict";var r=function(t,e){var n=this;void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];n.bindings[a]=s}};r.prototype.concat=function(t){return new r(this,t)},r.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},r.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},e.exports=r},{}],145:[function(t,e,n){"use strict";function r(t,e){for(var n,r,o=t.length,a=0,s=o-1,l=0;a<=s;){if(l=Math.floor((a+s)/2),n=t[l],r=t[l+1],e===n||e>n&&e<r)return l;if(n<e)a=l+1;else{if(!(n>e))throw new i("Input is not a number.");s=l-1}}return Math.max(l-1,0)}var i=t("./runtime_error");e.exports={findStopLessThanOrEqualTo:r}},{"./runtime_error":143}],146:[function(t,e,n){"use strict";function r(t,e){return{kind:"array",itemType:t,N:e}}function i(t){if("array"===t.kind){var e=i(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function o(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!o(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=d;n<r.length;n+=1){var a=r[n];if(!o(a,e))return null}}return"Expected "+i(t)+" but found "+i(e)+" instead."}var a={kind:"null"},s={kind:"number"},l={kind:"string"},u={kind:"boolean"},c={kind:"color"},p={kind:"object"},f={kind:"value"},h={kind:"error"},d=[a,s,l,u,c,p,r(f)];e.exports={NullType:a,NumberType:s,StringType:l,BooleanType:u,ColorType:c,ObjectType:p,ValueType:f,array:r,ErrorType:h,toString:i,checkSubtype:o}},{}],147:[function(t,e,n){"use strict";function r(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function i(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof a)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!i(n[e]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!i(t[r]))return!1;return!0}return!1}function o(t){if(null===t)return l;if("string"==typeof t)return c;if("boolean"==typeof t)return p;if("number"==typeof t)return u;if(t instanceof a)return f;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var s=i[r],y=o(s);if(e){if(e===y)continue;e=d;break}e=y}return m(e||d,n)}return h}var a=t("../util/color"),s=t("./types"),l=s.NullType,u=s.NumberType,c=s.StringType,p=s.BooleanType,f=s.ColorType,h=s.ObjectType,d=s.ValueType,m=s.array;e.exports={Color:a,validateRGBA:r,isValue:i,typeOf:o}},{"../util/color":153,"./types":146}],148:[function(t,e,n){"use strict";function r(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!r(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}function i(t){if(!t)return function(){return!0};r(t)||(t=a(t));var e=h(t,d);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function o(t,e){return t<e?-1:t>e?1:0}function a(t){if(!t)return!0;var e=t[0];return t.length<=1?"any"!==e:"=="===e?s(t[1],t[2],"=="):"!="===e?p(s(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e):"any"===e?l(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(a)):"none"===e?["all"].concat(t.slice(1).map(a).map(p)):"in"===e?u(t[1],t.slice(2)):"!in"===e?p(u(t[1],t.slice(2))):"has"===e?c(t[1]):"!has"!==e||p(c(t[1]))}function s(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function l(t){return["any"].concat(t.map(a))}function u(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(o)]]:["filter-in-small",t,["literal",e]]}}function c(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function p(t){return["!",t]}var f=t("../expression"),h=f.createExpression;e.exports=i,e.exports.isExpressionFilter=r;var d={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":139}],149:[function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function i(t){return t}function o(t,e){var n="color"===e.type,r=t.stops&&"object"==typeof t.stops[0][0],i=r||void 0!==t.property,p=r||!i,f=t.type||("interpolated"===e.function?"exponential":"interval");if(n&&(t=m({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],d.parse(t[1])]})),t.default?t.default=d.parse(t.default):t.default=d.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!h[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var y,v,b;if("exponential"===f)y=u;else if("interval"===f)y=l;else if("categorical"===f){y=s,v=Object.create(null);for(var _=0,x=t.stops;_<x.length;_+=1){var w=x[_];v[w[0]]=w[1]}b=typeof t.stops[0][0]}else{if("identity"!==f)throw new Error('Unknown function type "'+f+'"');y=c}if(r){for(var k={},E=[],S=0;S<t.stops.length;S++){var C=t.stops[S],T=C[0].zoom;void 0===k[T]&&(k[T]={zoom:T,type:t.type,property:t.property,default:t.default,stops:[]},E.push(T)),k[T].stops.push([C[0].value,C[1]])}for(var O=[],M=0,P=E;M<P.length;M+=1){var A=P[M];O.push([k[A].zoom,o(k[A],e)])}return{kind:"composite",interpolationFactor:g.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:O.map(function(t){return t[0]}),evaluate:function(n,r){var i=n.zoom;return u({stops:O,base:t.base},e,i).evaluate(i,r)}}}return p?{kind:"camera",interpolationFactor:"exponential"===f?g.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(t){return t[0]}),evaluate:function(n){var r=n.zoom;return y(t,e,r,v,b)}}:{kind:"source",evaluate:function(n,r){var i=r&&r.properties?r.properties[t.property]:void 0;return void 0===i?a(t.default,e.default):y(t,e,i,v,b)}}}function a(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function s(t,e,n,r,i){return a(typeof n===i?r[n]:void 0,t.default,e.default)}function l(t,e,n){if("number"!==y(n))return a(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=p(t.stops,n);return t.stops[i][1]}function u(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==y(n))return a(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[o-1][0])return t.stops[o-1][1];var s=p(t.stops,n),l=f(n,r,t.stops[s][0],t.stops[s+1][0]),u=t.stops[s][1],c=t.stops[s+1][1],d=v[e.type]||i;if(t.colorSpace&&"rgb"!==t.colorSpace){var m=h[t.colorSpace];d=function(t,e){return m.reverse(m.interpolate(m.forward(t),m.forward(e),l))}}return"function"==typeof u.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=u.evaluate.apply(void 0,t),r=c.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return d(n,r,l)}}:d(u,c,l)}function c(t,e,n){return"color"===e.type?n=d.parse(n):y(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),a(n,t.default,e.default)}function p(t,e){for(var n,r,i=t.length,o=0,a=i-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),n=t[s][0],r=t[s+1][0],e===n||e>n&&e<r)return s;n<e?o=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}function f(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var h=t("../util/color_spaces"),d=t("../util/color"),m=t("../util/extend"),y=t("../util/get_type"),v=t("../util/interpolate"),g=t("../expression/definitions/interpolate");e.exports={createFunction:o,isFunction:r}},{"../expression/definitions/interpolate":132,"../util/color":153,"../util/color_spaces":154,"../util/extend":156,"../util/get_type":157,"../util/interpolate":158}],150:[function(t,e,n){"use strict";function r(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",i=0,o=t;i<o.length;i+=1)n+=r(o[i])+",";return n+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+r(t[a[l]])+",";return s+"}"}function i(t){for(var e="",n=0,i=a;n<i.length;n+=1)e+="/"+r(t[i[n]]);return e}function o(t){for(var e={},n=0;n<t.length;n++){var r=i(t[n]),o=e[r];o||(o=e[r]=[]),o.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}var a=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":159}],151:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":152}],152:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],153:[function(t,e,n){"use strict";var r=t("csscolorparser"),i=r.parseCSSColor,o=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};o.parse=function(t){if(t){if(t instanceof o)return t;if("string"==typeof t){var e=i(t);if(e)return new o(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},o.prototype.toString=function(){var t=this,e=function(e){return Math.round(255*e/t.a)};return"rgba("+[this.r,this.g,this.b].map(e).concat(this.a).join(",")+")"},o.black=new o(0,0,0,1),o.white=new o(1,1,1,1),o.transparent=new o(0,0,0,0),e.exports=o},{csscolorparser:13}],154:[function(t,e,n){"use strict";function r(t){return t>w?Math.pow(t,1/3):t/x+b}function i(t){return t>_?t*t*t:x*(t-b)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t.r),n=a(t.g),i=a(t.b),o=r((.4124564*e+.3575761*n+.1804375*i)/y),s=r((.2126729*e+.7151522*n+.072175*i)/v);return{l:116*s-16,a:500*(o-s),b:200*(s-r((.0193339*e+.119192*n+.9503041*i)/g)),alpha:t.a}}function l(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=v*i(e),n=y*i(n),r=g*i(r),new d(o(3.2404542*n-1.5371385*e-.4985314*r),o(-.969266*n+1.8760108*e+.041556*r),o(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function u(t,e,n){return{l:m(t.l,e.l,n),a:m(t.a,e.a,n),b:m(t.b,e.b,n),alpha:m(t.alpha,e.alpha,n)}}function c(t){var e=s(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*E;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}}function p(t){var e=t.h*k,n=t.c;return l({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}function f(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function h(t,e,n){return{h:f(t.h,e.h,n),c:m(t.c,e.c,n),l:m(t.l,e.l,n),alpha:m(t.alpha,e.alpha,n)}}var d=t("./color"),m=t("./interpolate").number,y=.95047,v=1,g=1.08883,b=4/29,_=6/29,x=3*_*_,w=_*_*_,k=Math.PI/180,E=180/Math.PI;e.exports={lab:{forward:s,reverse:l,interpolate:u},hcl:{forward:c,reverse:p,interpolate:h}}},{"./color":153,"./interpolate":158}],155:[function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!r(t[i],e[i]))return!1;return!0}return t===e}e.exports=r},{}],156:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}},{}],157:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],158:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}function i(t,e,n){return new a(r(t.r,e.r,n),r(t.g,e.g,n),r(t.b,e.b,n),r(t.a,e.a,n))}function o(t,e,n){return t.map(function(t,i){return r(t,e[i],n)})}var a=t("./color");e.exports={number:r,color:i,array:o}},{"./color":153}],159:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],160:[function(t,e,n){"use strict";function r(t){return{result:"success",value:t}}function i(t){return{result:"error",value:t}}e.exports={success:r,error:i}},{}],161:[function(t,e,n){"use strict";function r(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function i(t){return Array.isArray(t)?t.map(i):r(t)}e.exports=r,e.exports.deep=i},{}],162:[function(t,e,n){"use strict";var r=t("../util/extend"),i=t("../util/unbundle_jsonlint"),o=t("../expression"),a=o.isExpression,s=t("../function"),l=s.isFunction;e.exports=function(e){var n=t("./validate_function"),o=t("./validate_expression"),s=t("./validate_object"),u={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},c=e.value,p=e.valueSpec,f=e.styleSpec;return p.function&&l(i(c))?n(e):p.function&&a(i.deep(c))?o(e):p.type&&u[p.type]?u[p.type](e):s(r({},e,{valueSpec:p.type?f[p.type]:p}))}},{"../expression":139,"../function":149,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate_array":163,"./validate_boolean":164,"./validate_color":165,"./validate_constants":166,"./validate_enum":167,"./validate_expression":168,"./validate_filter":169,"./validate_function":170,"./validate_layer":172,"./validate_light":174,"./validate_number":175,"./validate_object":176,"./validate_source":179,"./validate_string":180}],163:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||i;if("array"!==r(e))return[new o(l,e,"array expected, "+r(e)+" found")];if(n.length&&e.length!==n.length)return[new o(l,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new o(l,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var p=[],f=0;f<e.length;f++)p=p.concat(u({array:e,arrayIndex:f,value:e[f],valueSpec:c,style:a,styleSpec:s,key:l+"["+f+"]"}));return p}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],164:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"boolean"!==o?[new i(n,e,"boolean expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],165:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=i(n);return"string"!==a?[new r(e,n,"color expected, "+a+" found")]:null===o(n)?[new r(e,n,'color expected, "'+n+'" found')]:[]}},{"../error/validation_error":122,"../util/get_type":157,csscolorparser:13}],166:[function(t,e,n){"use strict";var r=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value;return n?[new r(e,n,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":122}],167:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(i(n))&&a.push(new r(e,n,"expected one of ["+o.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(o.values).indexOf(i(n))&&a.push(new r(e,n,"expected one of ["+Object.keys(o.values).join(", ")+"], "+JSON.stringify(n)+" found")),a}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161}],168:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../expression"),o=i.createExpression,a=i.createPropertyExpression,s=t("../util/unbundle_jsonlint");e.exports=function(t){var e=("property"===t.expressionContext?a:o)(s.deep(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new r(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new r(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":122,"../expression":139,"../util/unbundle_jsonlint":161}],169:[function(t,e,n){"use strict";function r(t){var e=t.value,n=t.key;if("array"!==s(e))return[new i(n,e,"array expected, "+s(e)+" found")];var o,u=t.styleSpec,c=[];if(e.length<1)return[new i(n,e,"filter array must have at least 1 element")];switch(c=c.concat(a({key:n+"[0]",value:e[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),l(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===l(e[1])&&c.push(new i(n,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&c.push(new i(n,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&"string"!==(o=s(e[1]))&&c.push(new i(n+"[1]",e[1],"string expected, "+o+" found"));for(var p=2;p<e.length;p++)o=s(e[p]),"$type"===l(e[1])?c=c.concat(a({key:n+"["+p+"]",value:e[p],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&c.push(new i(n+"["+p+"]",e[p],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var f=1;f<e.length;f++)c=c.concat(r({key:n+"["+f+"]",value:e[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=s(e[1]),2!==e.length?c.push(new i(n,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==o&&c.push(new i(n+"[1]",e[1],"string expected, "+o+" found"))}return c}var i=t("../error/validation_error"),o=t("./validate_expression"),a=t("./validate_enum"),s=t("../util/get_type"),l=t("../util/unbundle_jsonlint"),u=t("../util/extend"),c=t("../feature_filter"),p=c.isExpressionFilter;e.exports=function(t){return p(l.deep(t.value))?o(u({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):r(t)}},{"../error/validation_error":122,"../feature_filter":148,"../util/extend":156,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_expression":168}],170:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),l=t("./validate_number"),u=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===y)return[new r(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&e.push(new r(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==i(n))return[new r(s,n,"array expected, "+i(n)+" found")];if(2!==n.length)return[new r(s,n,"array length 2 expected, length "+n.length+" found")];if(_){if("object"!==i(n[0]))return[new r(s,n,"object expected, "+i(n[0])+" found")];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(d&&d>u(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];u(n[0].zoom)!==d&&(d=u(n[0].zoom),h=void 0,v={}),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:c}}))}else e=e.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return e.concat(o({key:s+"[1]",value:n[1],valueSpec:m,style:t.style,styleSpec:t.styleSpec}))}function c(t,e){var n=i(t.value),o=u(t.value),a=null!==t.value?t.value:e;if(f){if(n!==f)return[new r(t.key,a,n+" stop domain type must match previous stop domain type "+f)]}else f=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new r(t.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==n&&"categorical"!==y){var s="number expected, "+n+" found";return m["property-function"]&&void 0===y&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(t.key,a,s)]}return"categorical"!==y||"number"!==n||isFinite(o)&&Math.floor(o)===o?"categorical"!==y&&"number"===n&&void 0!==h&&o<h?[new r(t.key,a,"stop domain values must appear in ascending order")]:(h=o,"categorical"===y&&o in v?[new r(t.key,a,"stop domain values must be unique")]:(v[o]=!0,[])):[new r(t.key,a,"integer expected, found "+o)]}function p(t){return o({key:t.key,value:t.value,valueSpec:m,style:t.style,styleSpec:t.styleSpec})}var f,h,d,m=t.valueSpec,y=u(t.value.type),v={},g="categorical"!==y&&void 0===t.value.property,b=!g,_="array"===i(t.value.stops)&&"array"===i(t.value.stops[0])&&"object"===i(t.value.stops[0][0]),x=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:p}});return"identity"===y&&g&&x.push(new r(t.key,t.value,'missing required property "property"')),"identity"===y||t.value.stops||x.push(new r(t.key,t.value,'missing required property "stops"')),"exponential"===y&&"piecewise-constant"===t.valueSpec.function&&x.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(b&&!t.valueSpec["property-function"]?x.push(new r(t.key,t.value,"property functions not supported")):g&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&x.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==y&&!_||void 0!==t.value.property||x.push(new r(t.key,t.value,'"property" property is required')),x}},{"../error/validation_error":122,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_array":163,"./validate_number":175,"./validate_object":176}],171:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=i(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new r(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":122,"./validate_string":180}],172:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("./validate"),c=t("../util/extend");e.exports=function(t){var e=[],n=t.value,p=t.key,f=t.style,h=t.styleSpec;n.type||n.ref||e.push(new r(p,n,'either "type" or "ref" is required'));var d=i(n.type),m=i(n.ref);if(n.id)for(var y=i(n.id),v=0;v<t.arrayIndex;v++){var g=f.layers[v];i(g.id)===y&&e.push(new r(p,n.id,'duplicate layer id "'+n.id+'", previously used at line '+g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(p,n[t],'"'+t+'" is prohibited for ref layers'))});var b;f.layers.forEach(function(t){i(t.id)===m&&(b=t)}),b?b.ref?e.push(new r(p,n.ref,"ref cannot reference another ref layer")):d=i(b.type):e.push(new r(p,n.ref,'ref layer "'+m+'" not found'))}else if("background"!==d)if(n.source){var _=f.sources&&f.sources[n.source],x=_&&i(_.type);_?"vector"===x&&"raster"===d?e.push(new r(p,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===x&&"raster"!==d?e.push(new r(p,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==x||n["source-layer"]?"raster-dem"===x&&"hillshade"!==d&&e.push(new r(p,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):e.push(new r(p,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new r(p,n.source,'source "'+n.source+'" not found'))}else e.push(new r(p,n,'missing required property "source"'));return e=e.concat(o({key:p,value:n,valueSpec:h.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return u({key:p+".type",value:n.type,valueSpec:h.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(c({layerType:d},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(c({layerType:d},t))}}})}}}))}},{"../error/validation_error":122,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_filter":169,"./validate_layout_property":173,"./validate_object":176,"./validate_paint_property":177}],173:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"layout")}},{"./validate_property":178}],174:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,l=[],u=i(e);if(void 0===e)return l;if("object"!==u)return l=l.concat([new r("light",e,"object expected, "+u+" found")]);for(var c in e){var p=c.match(/^(.*)-transition$/);l=p&&a[p[1]]&&a[p[1]].transition?l.concat(o({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?l.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):l.concat([new r(c,e[c],'unknown property "'+c+'"')])}return l}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],175:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=r(n);return"number"!==a?[new i(e,n,"number expected, "+a+" found")]:"minimum"in o&&n<o.minimum?[new i(e,n,n+" is less than the minimum value "+o.minimum)]:"maximum"in o&&n>o.maximum?[new i(e,n,n+" is greater than the maximum value "+o.maximum)]:[]}},{"../error/validation_error":122,"../util/get_type":157}],176:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],p=i(n);if("object"!==p)return[new r(e,n,"object expected, "+p+" found")];for(var f in n){var h=f.split(".")[0],d=a[h]||a["*"],m=void 0;if(s[h])m=s[h];else if(a[h])m=o;else if(s["*"])m=s["*"];else{if(!a["*"]){c.push(new r(e,n[f],'unknown property "'+f+'"'));continue}m=o}c=c.concat(m({key:(e?e+".":e)+f,value:n[f],valueSpec:d,style:l,styleSpec:u,object:n,objectKey:f},n))}for(var y in a)s[y]||a[y].required&&void 0===a[y].default&&void 0===n[y]&&c.push(new r(e,n,'missing required property "'+y+'"'));return c}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],177:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"paint")}},{"./validate_property":178}],178:[function(t,e,n){"use strict";var r=t("./validate"),i=t("../error/validation_error"),o=t("../util/get_type"),a=t("../function"),s=a.isFunction,l=t("../util/unbundle_jsonlint");e.exports=function(t,e){var n=t.key,a=t.style,u=t.styleSpec,c=t.value,p=t.objectKey,f=u[e+"_"+t.layerType];if(!f)return[];var h=p.match(/^(.*)-transition$/);if("paint"===e&&h&&f[h[1]]&&f[h[1]].transition)return r({key:n,value:c,valueSpec:u.transition,style:a,styleSpec:u});var d=t.valueSpec||f[p];if(!d)return[new i(n,c,'unknown property "'+p+'"')];var m;if("string"===o(c)&&d["property-function"]&&!d.tokens&&(m=/^{([^}]+)}$/.exec(c)))return[new i(n,c,'"'+p+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(m[1])+" }`.")];var y=[];return"symbol"===t.layerType&&("text-field"===p&&a&&!a.glyphs&&y.push(new i(n,c,'use of "text-field" requires a style "glyphs" property')),"text-font"===p&&s(l.deep(c))&&"identity"===l(c.type)&&y.push(new i(n,c,'"text-font" does not support identity functions'))),y.concat(r({key:t.key,value:c,valueSpec:d,style:a,styleSpec:u,expressionContext:"property",propertyKey:p}))}},{"../error/validation_error":122,"../function":149,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162}],179:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var u=i(e.type),c=[];switch(u){case"vector":case"raster":case"raster-dem":if(c=c.concat(o({key:n,value:e,valueSpec:s["source_"+u.replace("-","_")],style:t.style,styleSpec:s})),"url"in e)for(var p in e)["type","url","tileSize"].indexOf(p)<0&&c.push(new r(n+"."+p,e[p],'a source with a "url" property may not include a "'+p+'" property'));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:l,styleSpec:s});case"canvas":return o({key:n,value:e,valueSpec:s.source_canvas,style:l,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:l,styleSpec:s})}}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_object":176}],180:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"string"!==o?[new i(n,e,"string expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],181:[function(t,e,n){"use strict";function r(t,e){e=e||l;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u,"*":function(){return[]}}})),t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),i(n)}function i(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return i(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("./reference/latest"),u=t("./validate/validate_glyphs_url");r.source=o(t("./validate/validate_source")),r.light=o(t("./validate/validate_light")),r.layer=o(t("./validate/validate_layer")),r.filter=o(t("./validate/validate_filter")),r.paintProperty=o(t("./validate/validate_paint_property")),r.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=r},{"./reference/latest":151,"./validate/validate":162,"./validate/validate_constants":166,"./validate/validate_filter":169,"./validate/validate_glyphs_url":171,"./validate/validate_layer":172,"./validate/validate_layout_property":173,"./validate/validate_light":174,"./validate/validate_paint_property":177,"./validate/validate_source":179}],182:[function(t,e,n){"use strict";var r=t("./zoom_history"),i=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new r,this.transition={})};i.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},e.exports=i},{"./zoom_history":212}],183:[function(t,e,n){"use strict";var r=t("../style-spec/reference/latest"),i=t("../util/util"),o=t("../util/evented"),a=t("./validate_style"),s=t("../util/util"),l=s.sphericalToCartesian,u=(t("../style-spec/util/color"),t("../style-spec/util/interpolate")),c=t("./properties"),p=c.Properties,f=c.Transitionable,h=(c.Transitioning,c.PossiblyEvaluated,c.DataConstantProperty),d=function(){this.specification=r.light.position};d.prototype.possiblyEvaluate=function(t,e){return l(t.expression.evaluate(e))},d.prototype.interpolate=function(t,e,n){return{x:u.number(t.x,e.x,n),y:u.number(t.y,e.y,n),z:u.number(t.z,e.z,n)}};var m=new p({anchor:new h(r.light.anchor),position:new d,color:new h(r.light.color),intensity:new h(r.light.intensity)}),y=function(t){function e(e){t.call(this),this._transitionable=new f(m),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLight=function(){return this._transitionable.serialize()},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var r=t[n];i.endsWith(n,"-transition")?e._transitionable.setTransition(n.slice(0,-"-transition".length),r):e._transitionable.setValue(n,r)}},e.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},e.prototype.hasTransition=function(){return this._transitioning.hasTransition()},e.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,i.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:r})))},e}(o);e.exports=y},{"../style-spec/reference/latest":151,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/evented":260,"../util/util":275,"./properties":188,"./validate_style":211}],184:[function(t,e,n){"use strict";var r=t("../util/mapbox"),i=r.normalizeGlyphsURL,o=t("../util/ajax"),a=t("./parse_glyph_pbf");e.exports=function(t,e,n,r,s){var l=256*e,u=l+255,c=r(i(n).replace("{fontstack}",t).replace("{range}",l+"-"+u),o.ResourceType.Glyphs);o.getArrayBuffer(c,function(t,e){if(t)s(t);else if(e){for(var n={},r=0,i=a(e.data);r<i.length;r+=1){var o=i[r];n[o.id]=o}s(null,n)}})}},{"../util/ajax":251,"../util/mapbox":267,"./parse_glyph_pbf":186}],185:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/browser"),o=t("../util/mapbox"),a=o.normalizeSpriteURL,s=t("../util/image"),l=s.RGBAImage;e.exports=function(t,e,n){function o(){if(c)n(c);else if(s&&u){var t=i.getImageData(u),e={};for(var r in s){var o=s[r],a=o.width,p=o.height,f=o.x,h=o.y,d=o.sdf,m=o.pixelRatio,y=new l({width:a,height:p});l.copy(t,y,{x:f,y:h},{x:0,y:0},{width:a,height:p}),e[r]={data:y,pixelRatio:m,sdf:d}}n(null,e)}}var s,u,c,p=i.devicePixelRatio>1?"@2x":"";r.getJSON(e(a(t,p,".json"),r.ResourceType.SpriteJSON),function(t,e){c||(c=t,s=e,o())}),r.getImage(e(a(t,p,".png"),r.ResourceType.SpriteImage),function(t,e){c||(c=t,u=e,o())})}},{"../util/ajax":251,"../util/browser":252,"../util/image":263,"../util/mapbox":267}],186:[function(t,e,n){"use strict";function r(t,e,n){1===t&&n.readMessage(i,e)}function i(t,e,n){if(3===t){var r=n.readMessage(o,{}),i=r.id,a=r.bitmap,l=r.width,c=r.height,p=r.left,f=r.top,h=r.advance;e.push({id:i,bitmap:new s({width:l+2*u,height:c+2*u},a),metrics:{width:l,height:c,left:p,top:f,advance:h}})}}function o(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var a=t("../util/image"),s=a.AlphaImage,l=t("pbf"),u=3;e.exports=function(t){return new l(t).readFields(r,[])},e.exports.GLYPH_PBF_BORDER=u},{"../util/image":263,pbf:30}],187:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("../symbol/placement"),o=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};o.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this;this._currentTileIndex<t.length;){var a=t[o._currentTileIndex];if(e.placeLayerTile(r,a,n,o._seenCrossTileIDs),o._currentTileIndex++,i())return!0}};var a=function(t,e,n,r,o){this.placement=new i(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};a.prototype.isDone=function(){return this._done},a.prototype.continuePlacement=function(t,e,n){for(var i=this,a=r.now(),s=function(){var t=r.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var l=t[i._currentPlacementIndex],u=e[l],c=i.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=c)&&(!u.maxzoom||u.maxzoom>c)){if(i._inProgressLayer||(i._inProgressLayer=new o),i._inProgressLayer.continuePlacement(n[u.source],i.placement,i._showCollisionBoxes,u,s))return;delete i._inProgressLayer}i._currentPlacementIndex--}this._done=!0},a.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement},e.exports=a},{"../symbol/placement":223,"../util/browser":252}],188:[function(t,e,n){"use strict";var r=t("../util/util"),i=r.clone,o=r.extend,a=r.easeCubicInOut,s=t("../style-spec/util/interpolate"),l=t("../style-spec/expression"),u=l.normalizePropertyExpression,c=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),p=c.register,f=function(t,e){this.property=t,this.value=e,this.expression=u(void 0===e?t.specification.default:e,t.specification)};f.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},f.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var h=function(t){this.property=t,this.value=new f(t,void 0)};h.prototype.transitioned=function(t,e){return new m(this.property,this.value,e,o({},t.transition,this.transition),t.now)},h.prototype.untransitioned=function(){return new m(this.property,this.value,null,{},0)};var d=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};d.prototype.getValue=function(t){return i(this._values[t].value.value)},d.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new h(this._values[t].property)),this._values[t].value=new f(this._values[t].property,null===e?void 0:i(e))},d.prototype.getTransition=function(t){return i(this._values[t].transition)},d.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new h(this._values[t].property)),this._values[t].transition=i(e)||void 0},d.prototype.serialize=function(){for(var t=this,e={},n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n],o=t.getValue(i);void 0!==o&&(e[i]=o);var a=t.getTransition(i);void 0!==a&&(e[i+"-transition"]=a)}return e},d.prototype.transitioned=function(t,e){for(var n=this,r=new y(this._properties),i=0,o=Object.keys(n._values);i<o.length;i+=1){var a=o[i];r._values[a]=n._values[a].transitioned(t,e._values[a])}return r},d.prototype.untransitioned=function(){for(var t=this,e=new y(this._properties),n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n];e._values[i]=t._values[i].untransitioned()}return e};var m=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};m.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,a(i))}return n};var y=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};y.prototype.possiblyEvaluate=function(t){for(var e=this,n=new b(this._properties),r=0,i=Object.keys(e._values);r<i.length;r+=1){var o=i[r];n._values[o]=e._values[o].possiblyEvaluate(t)}return n},y.prototype.hasTransition=function(){for(var t=this,e=0,n=Object.keys(t._values);e<n.length;e+=1){var r=n[e];if(t._values[r].prior)return!0}return!1};var v=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};v.prototype.getValue=function(t){return i(this._values[t].value)},v.prototype.setValue=function(t,e){this._values[t]=new f(this._values[t].property,null===e?void 0:i(e))},v.prototype.serialize=function(){for(var t=this,e={},n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n],o=t.getValue(i);void 0!==o&&(e[i]=o)}return e},v.prototype.possiblyEvaluate=function(t){for(var e=this,n=new b(this._properties),r=0,i=Object.keys(e._values);r<i.length;r+=1){var o=i[r];n._values[o]=e._values[o].possiblyEvaluate(t)}return n};var g=function(t,e,n){this.property=t,this.value=e,this.globals=n};g.prototype.isConstant=function(){return"constant"===this.value.kind},g.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},g.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var b=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};b.prototype.get=function(t){return this._values[t]};var _=function(t){this.specification=t};_.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},_.prototype.interpolate=function(t,e,n){var r=s[this.specification.type];return r?r(t,e,n):t};var x=function(t){this.specification=t};x.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new g(this,{kind:"constant",value:t.expression.evaluate(e)},e):new g(this,t.expression,e)},x.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==e.value.value){var r=s[this.specification.type];return r?new g(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.globals):t}},x.prototype.evaluate=function(t,e,n){return"constant"===t.kind?t.value:t.evaluate(e,n)};var w=function(t){this.specification=t};w.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}},w.prototype._calculate=function(t,e,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.crossFadingFactor();return i>r.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}},w.prototype.interpolate=function(t){return t};var k=function(t){this.specification=t};k.prototype.possiblyEvaluate=function(){},k.prototype.interpolate=function(){};var E=function(t){var e=this;this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={};for(var n in t){var r=t[n],i=e.defaultPropertyValues[n]=new f(r,void 0),o=e.defaultTransitionablePropertyValues[n]=new h(r);e.defaultTransitioningPropertyValues[n]=o.untransitioned(),e.defaultPossiblyEvaluatedValues[n]=i.possiblyEvaluate({})}};p("DataDrivenProperty",x),p("DataConstantProperty",_),p("CrossFadedProperty",w),p("HeatmapColorProperty",k),e.exports={PropertyValue:f,Transitionable:d,Transitioning:y,Layout:v,PossiblyEvaluatedPropertyValue:g,PossiblyEvaluated:b,DataConstantProperty:_,DataDrivenProperty:x,CrossFadedProperty:w,HeatmapColorProperty:k,Properties:E}},{"../style-spec/expression":139,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/util":275,"../util/web_worker_transfer":278}],189:[function(t,e,n){"use strict";function r(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].statistics.max}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=a.convert(e);"viewport"===n&&o._rotate(-r);for(var s=[],l=0;l<t.length;l++){for(var u=t[l],c=[],p=0;p<u.length;p++)c.push(u[p].sub(o._mult(i)));s.push(c)}return s}var a=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:r,translateDistance:i,translate:o}},{"@mapbox/point-geometry":4}],190:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("./style_layer"),o=t("./load_sprite"),a=t("../render/image_manager"),s=t("../render/glyph_manager"),l=t("./light"),u=t("../render/line_atlas"),c=t("../util/util"),p=t("../util/ajax"),f=t("../util/mapbox"),h=t("../util/browser"),d=t("../util/dispatcher"),m=t("./validate_style"),y=t("../source/source").getType,v=t("../source/source").setType,g=t("../source/query_features"),b=t("../source/source_cache"),_=(t("../source/geojson_source"),t("../style-spec/reference/latest")),x=t("../util/global_worker_pool"),w=t("../style-spec/deref"),k=t("../style-spec/diff"),E=t("../source/rtl_text_plugin"),S=t("./pauseable_placement"),C=t("./zoom_history"),T=t("../symbol/cross_tile_symbol_index"),O=c.pick(k.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),M=c.pick(k.operations,["setCenter","setZoom","setBearing","setPitch"]),P=function(t){function e(e,n){var r=this;void 0===n&&(n={}),t.call(this),this.map=e,this.dispatcher=new d(x(),this),this.imageManager=new a,this.glyphManager=new s(e._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new u(256,512),this.crossTileSymbolIndex=new T,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new C,this._loaded=!1,this._resetUpdates();var i=this;this._rtlTextPluginCallback=E.registerForPluginAvailability(function(t){i.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in i.sourceCaches)i.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var i in r._layers){var o=r._layers[i];o.source===n.id&&r._validateLayer(o)}}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadURL=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"});var r="boolean"==typeof e.validate?e.validate:!f.isMapboxURL(t);t=f.normalizeStyleURL(t,e.accessToken);var i=this.map._transformRequest(t,p.ResourceType.Style);p.getJSON(i,function(t,e){t?n.fire("error",{error:t}):e&&n._load(e,r)})},e.prototype.loadJSON=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"}),h.frame(function(){n._load(t,!1!==e.validate)})},e.prototype._load=function(t,e){var n=this;if(!e||!m.emitErrors(this,m(t))){this._loaded=!0,this.stylesheet=t;for(var r in t.sources)n.addSource(r,t.sources[r],{validate:!1});t.sprite?o(t.sprite,this.map._transformRequest,function(t,e){if(t)n.fire("error",t);else if(e)for(var r in e)n.imageManager.addImage(r,e[r]);n.imageManager.setLoaded(!0),n.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var a=w(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,u=a;s<u.length;s+=1){var c=u[s];c=i.create(c),c.setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new l(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var r=e.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire("error",{error:new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')})}}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype.hasTransitions=function(){var t=this;if(this.light&&this.light.hasTransition())return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].hasTransition())return!0;for(var n in t._layers)if(t._layers[n].hasTransition())return!0;return!1},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t){var e=this;if(this._loaded){if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(n.length||r.length)&&this._updateWorkerLayers(n,r);for(var i in e._updatedSources){var o=e._updatedSources[i];"reload"===o?e._reloadSource(i):"clear"===o&&e._clearSource(i)}for(var a in e._updatedPaintProps)e._layers[a].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var s in e.sourceCaches)e.sourceCaches[s].used=!1;for(var l=0,u=e._order;l<u.length;l+=1){var c=u[l],p=e._layers[c];p.recalculate(t),!p.isHidden(t.zoom)&&p.source&&(e.sourceCaches[p.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},e.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),m.emitErrors(this,m(t)))return!1;t=c.clone(t),t.layers=w(t.layers);var n=k(this.serialize(),t).filter(function(t){return!(t.command in M)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in O)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addImage=function(t,e){if(this.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},e.prototype.getImage=function(t){return this.imageManager.getImage(t)},e.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},e.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(m.source,"sources."+t,e,null,n))){this.map&&this.map._collectResourceTiming&&(e.collectResourceTiming=!0);var i=this.sourceCaches[t]=new b(t,e,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){var e=this;if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in e._layers)if(e._layers[n].source===t)return e.fire("error",{error:new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')});var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},e.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if("object"==typeof t.source&&(this.addSource(r,t.source),t=c.clone(t),t=c.extend(t,{source:r})),!this._validate(m.layer,"layers."+r,t,{arrayIndex:-1},n)){var o=i.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var a=e?this._order.indexOf(e):this._order.length;if(e&&-1===a)return void this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')});if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o)}},e.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var n=this._order.indexOf(t);this._order.splice(n,1);var r=e?this._order.indexOf(e):this._order.length;if(e&&-1===r)return void this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')});this._order.splice(r,0,t),this._layerOrderChanged=!0},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")});r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);return n?c.deepEqual(n.filter,e)?void 0:null===e||void 0===e?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(m.filter,"layers."+n.id+".filter",e)||(n.filter=c.clone(e),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});c.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r))},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(r.getPaintProperty(e),n)){var i=r._transitionablePaint._values[e].value.isDataDriven();r.setPaintProperty(e,n),(r._transitionablePaint._values[e].value.isDataDriven()||i)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[t]=!0}},e.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],r=this._order.length-1;r>=0;r--)for(var i=e._order[r],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s[i];if(l)for(var u=0,c=l;u<c.length;u+=1){var p=c[u];n.push(p)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,r){var i=this;e&&e.filter&&this._validate(m.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=e.layers;a<s.length;a+=1){var l=s[a],u=i._layers[l];if(!u)return i.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."}),[];o[u.source]=!0}}var c=[];for(var p in i.sourceCaches)if(!e.layers||o[p]){var f=g.rendered(i.sourceCaches[p],i._layers,t,e,n,r,i.placement?i.placement.collisionIndex:null);c.push(f)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(m.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?g.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return y(t)?n(new Error('A source type called "'+t+'" already exists.')):(v(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t){this._checkLoaded();var e=this.light.getLight(),n=!1;for(var r in t)if(!c.deepEqual(t[r],e[r])){n=!0;break}if(n){var i={now:h.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(i)}},e.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&m.emitErrors(this,t.call(m,c.extend({key:e,style:this.serialize(),value:n,styleSpec:_},r)))},e.prototype._remove=function(){var t=this;E.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._generateCollisionBoxes=function(){var t=this;for(var e in t.sourceCaches)t._reloadSource(e)},e.prototype._updatePlacement=function(t,e,n){for(var r=this,i=!1,o=!1,a={},s=0,l=r._order;s<l.length;s+=1){var u=l[s],c=r._layers[u];if("symbol"===c.type){if(!a[c.source]){var p=r.sourceCaches[c.source];a[c.source]=p.getRenderableIds().map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var f=r.crossTileSymbolIndex.addLayer(c,a[c.source]);i=i||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.now()))&&(this.pauseablePlacement=new S(t,this._order,d,e,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,h.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var m=0,y=r._order;m<y.length;m+=1){var v=y[m],g=r._layers[v];"symbol"===g.type&&r.placement.updateLayerOpacities(g,a[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.now())},e.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},e.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},e}(r);e.exports=P},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":109,"../source/source":110,"../source/source_cache":111,"../style-spec/deref":120,"../style-spec/diff":121,"../style-spec/reference/latest":151,"../symbol/cross_tile_symbol_index":218,"../util/ajax":251,"../util/browser":252,"../util/dispatcher":258,"../util/evented":260,"../util/global_worker_pool":262,"../util/mapbox":267,"../util/util":275,"./light":183,"./load_sprite":185,"./pauseable_placement":187,"./style_layer":191,"./validate_style":211,"./zoom_history":212}],191:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../style-spec/reference/latest"),o=t("./validate_style"),a=t("../util/evented"),s=t("./properties"),l=s.Layout,u=s.Transitionable,c=(s.Transitioning,s.Properties,function(t){function e(e,n){var r=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},n.layout&&(this._unevaluatedLayout=new l(n.layout)),this._transitionablePaint=new u(n.paint);for(var i in e.paint)r.setPaintProperty(i,e.paint[i],{validate:!1});for(var o in e.layout)r.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(null!==e&&void 0!==e){var r="layers."+this.id+".layout."+t;if(this._validate(o.layoutProperty,r,t,e,n))return}if("visibility"===t)return void(this.visibility="none"===e?e:"visible");this._unevaluatedLayout.setValue(t,e)},e.prototype.getPaintProperty=function(t){return r.endsWith(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(null!==e&&void 0!==e){var i="layers."+this.id+".paint."+t;if(this._validate(o.paintProperty,i,t,e,n))return}r.endsWith(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),r.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,r,a){return(!a||!1!==a.validate)&&o.emitErrors(this,t.call(o,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:i,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(a));e.exports=c;var p={circle:t("./style_layer/circle_style_layer"),heatmap:t("./style_layer/heatmap_style_layer"),hillshade:t("./style_layer/hillshade_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:t("./style_layer/background_style_layer"),raster:t("./style_layer/raster_style_layer")};c.create=function(t){return new p[t.type](t)}},{"../style-spec/reference/latest":151,"../util/evented":260,"../util/util":275,"./properties":188,"./style_layer/background_style_layer":192,"./style_layer/circle_style_layer":194,"./style_layer/fill_extrusion_style_layer":196,"./style_layer/fill_style_layer":198,"./style_layer/heatmap_style_layer":200,"./style_layer/hillshade_style_layer":202,"./style_layer/line_style_layer":204,"./style_layer/raster_style_layer":206,"./style_layer/symbol_style_layer":208,"./validate_style":211}],192:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("./background_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r));e.exports=a},{"../properties":188,"../style_layer":191,"./background_style_layer_properties":193}],193:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty),l=(i.HeatmapColorProperty,new o({"background-color":new a(r.paint_background["background-color"]),"background-pattern":new s(r.paint_background["background-pattern"]),"background-opacity":new a(r.paint_background["background-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],194:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/circle_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsBufferedMultiPoint,s=t("../query_utils"),l=s.getMaximumPaintValue,u=s.translateDistance,c=s.translate,p=t("./circle_style_layer_properties"),f=t("../properties"),h=(f.Transitionable,f.Transitioning,f.PossiblyEvaluated,function(t){function e(e){t.call(this,e,p)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(t){var e=t;return l("circle-radius",this,e)+l("circle-stroke-width",this,e)+u(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=c(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i,o),l=this.paint.get("circle-radius").evaluate(e)*o,u=this.paint.get("circle-stroke-width").evaluate(e)*o;return a(s,n,l+u)},e}(r));e.exports=h},{"../../data/bucket/circle_bucket":42,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./circle_style_layer_properties":195}],195:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"circle-radius":new s(r.paint_circle["circle-radius"]),"circle-color":new s(r.paint_circle["circle-color"]),"circle-blur":new s(r.paint_circle["circle-blur"]),"circle-opacity":new s(r.paint_circle["circle-opacity"]),"circle-translate":new a(r.paint_circle["circle-translate"]),"circle-translate-anchor":new a(r.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(r.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(r.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(r.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(r.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(r.paint_circle["circle-stroke-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],196:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_extrusion_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_extrusion_style_layer_properties"),p=t("../properties"),f=(p.Transitionable,p.Transitioning,p.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=u(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i,o);return a(s,n)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(r));e.exports=f},{"../../data/bucket/fill_extrusion_bucket":46,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_extrusion_style_layer_properties":197}],197:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=i.CrossFadedProperty,u=(i.HeatmapColorProperty,new o({"fill-extrusion-opacity":new a(r["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(r["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(r["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(r["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new l(r["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(r["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(r["paint_fill-extrusion"]["fill-extrusion-base"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],198:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_style_layer_properties"),p=t("../properties"),f=(p.Transitionable,p.Transitioning,p.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=u(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i,o);return a(s,n)},e}(r));e.exports=f},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_style_layer_properties":199}],199:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=i.CrossFadedProperty,u=(i.HeatmapColorProperty,new o({"fill-antialias":new a(r.paint_fill["fill-antialias"]),"fill-opacity":new s(r.paint_fill["fill-opacity"]),"fill-color":new s(r.paint_fill["fill-color"]),"fill-outline-color":new s(r.paint_fill["fill-outline-color"]),"fill-translate":new a(r.paint_fill["fill-translate"]),"fill-translate-anchor":new a(r.paint_fill["fill-translate-anchor"]),"fill-pattern":new l(r.paint_fill["fill-pattern"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],200:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/heatmap_bucket"),o=t("../../util/image").RGBAImage,a=t("./heatmap_style_layer_properties"),s=t("../properties"),l=(s.Transitionable,s.Transitioning,s.PossiblyEvaluated,function(t){function e(e){t.call(this,e,a),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.setPaintProperty=function(e,n,r){t.prototype.setPaintProperty.call(this,e,n,r),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),n=e.length,r=4;r<n;r+=4){var i=t.evaluate({heatmapDensity:r/n});e[r+0]=Math.floor(255*i.r/i.a),e[r+1]=Math.floor(255*i.g/i.a),e[r+2]=Math.floor(255*i.b/i.a),e[r+3]=Math.floor(255*i.a)}this.colorRamp=new o({width:256,height:1},e),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(r));e.exports=l},{"../../data/bucket/heatmap_bucket":47,"../../util/image":263,"../properties":188,"../style_layer":191,"./heatmap_style_layer_properties":201}],201:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=(i.CrossFadedProperty,i.HeatmapColorProperty),u=new o({"heatmap-radius":new s(r.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(r.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(r.paint_heatmap["heatmap-intensity"]),"heatmap-color":new l(r.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(r.paint_heatmap["heatmap-opacity"])});e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],202:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("./hillshade_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(r));e.exports=a},{"../properties":188,"../style_layer":191,"./hillshade_style_layer_properties":203}],203:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"hillshade-illumination-direction":new a(r.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(r.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(r.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(r.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(r.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(r.paint_hillshade["hillshade-accent-color"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],204:[function(t,e,n){"use strict";function r(t,e){return e>0?e+2*t:t}function i(t,e){for(var n=[],r=new o(0,0),i=0;i<t.length;i++){for(var a=t[i],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],p=a[l+1],f=0===l?r:c.sub(u)._unit()._perp(),h=l===a.length-1?r:p.sub(c)._unit()._perp(),d=f._add(h)._unit(),m=d.x*h.x+d.y*h.y;d._mult(1/m),s.push(d._mult(e)._add(c))}n.push(s)}return n}var o=t("@mapbox/point-geometry"),a=t("../style_layer"),s=t("../../data/bucket/line_bucket"),l=t("../../util/intersection_tests"),u=l.multiPolygonIntersectsBufferedMultiLine,c=t("../query_utils"),p=c.getMaximumPaintValue,f=c.translateDistance,h=c.translate,d=t("./line_style_layer_properties"),m=t("../../util/util"),y=m.extend,v=t("../evaluation_parameters"),g=t("../properties"),b=(g.Transitionable,g.Transitioning,g.Layout,g.PossiblyEvaluated,g.DataDrivenProperty),_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new v(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r){return n=y({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r)},e}(b),x=new _(d.paint.properties["line-width"].specification);x.useIntegerZoom=!0;var w=function(t){function e(e){t.call(this,e,d)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=x.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new s(t)},e.prototype.queryRadius=function(t){var e=t,n=r(p("line-width",this,e),p("line-gap-width",this,e)),i=p("line-offset",this,e);return n/2+Math.abs(i)+f(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,o,a,s){var l=h(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,s),c=s/2*r(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),p=this.paint.get("line-offset").evaluate(e);return p&&(n=i(n,p*s)),u(l,n,c)},e}(a);e.exports=w},{"../../data/bucket/line_bucket":49,"../../util/intersection_tests":264,"../../util/util":275,"../evaluation_parameters":182,"../properties":188,"../query_utils":189,"../style_layer":191,"./line_style_layer_properties":205,"@mapbox/point-geometry":4}],205:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=i.CrossFadedProperty,u=(i.HeatmapColorProperty,new o({"line-cap":new a(r.layout_line["line-cap"]),"line-join":new s(r.layout_line["line-join"]),"line-miter-limit":new a(r.layout_line["line-miter-limit"]),"line-round-limit":new a(r.layout_line["line-round-limit"])})),c=new o({"line-opacity":new s(r.paint_line["line-opacity"]),"line-color":new s(r.paint_line["line-color"]),"line-translate":new a(r.paint_line["line-translate"]),"line-translate-anchor":new a(r.paint_line["line-translate-anchor"]),"line-width":new s(r.paint_line["line-width"]),"line-gap-width":new s(r.paint_line["line-gap-width"]),"line-offset":new s(r.paint_line["line-offset"]),"line-blur":new s(r.paint_line["line-blur"]),"line-dasharray":new l(r.paint_line["line-dasharray"]),"line-pattern":new l(r.paint_line["line-pattern"])});e.exports={paint:c,layout:u}},{"../../style-spec/reference/latest":151,"../properties":188}],206:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("./raster_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r));e.exports=a},{"../properties":188,"../style_layer":191,"./raster_style_layer_properties":207}],207:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"raster-opacity":new a(r.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(r.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(r.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(r.paint_raster["raster-brightness-max"]),"raster-saturation":new a(r.paint_raster["raster-saturation"]),"raster-contrast":new a(r.paint_raster["raster-contrast"]),"raster-fade-duration":new a(r.paint_raster["raster-fade-duration"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],208:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/symbol_bucket"),o=t("../../util/token"),a=t("../../style-spec/expression"),s=a.isExpression,l=t("./symbol_style_layer_properties"),u=t("../properties"),c=(u.Transitionable,u.Transitioning,u.Layout,u.PossiblyEvaluated,function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n=this.layout.get(t).evaluate(e),r=this._unevaluatedLayout._values[t];return r.isDataDriven()||s(r.value)?n:o(e.properties,n)},e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(r));e.exports=c},{"../../data/bucket/symbol_bucket":51,"../../style-spec/expression":139,"../../util/token":274,"../properties":188,"../style_layer":191,"./symbol_style_layer_properties":209}],209:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,l=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"symbol-placement":new a(r.layout_symbol["symbol-placement"]),"symbol-spacing":new a(r.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(r.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(r.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(r.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(r.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(r.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(r.layout_symbol["icon-size"]),"icon-text-fit":new a(r.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(r.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(r.layout_symbol["icon-image"]),"icon-rotate":new s(r.layout_symbol["icon-rotate"]),"icon-padding":new a(r.layout_symbol["icon-padding"]),"icon-keep-upright":new a(r.layout_symbol["icon-keep-upright"]),"icon-offset":new s(r.layout_symbol["icon-offset"]),"icon-anchor":new s(r.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(r.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(r.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(r.layout_symbol["text-rotation-alignment"]),"text-field":new s(r.layout_symbol["text-field"]),"text-font":new s(r.layout_symbol["text-font"]),"text-size":new s(r.layout_symbol["text-size"]),"text-max-width":new s(r.layout_symbol["text-max-width"]),"text-line-height":new a(r.layout_symbol["text-line-height"]),"text-letter-spacing":new s(r.layout_symbol["text-letter-spacing"]),"text-justify":new s(r.layout_symbol["text-justify"]),"text-anchor":new s(r.layout_symbol["text-anchor"]),"text-max-angle":new a(r.layout_symbol["text-max-angle"]),"text-rotate":new s(r.layout_symbol["text-rotate"]),"text-padding":new a(r.layout_symbol["text-padding"]),"text-keep-upright":new a(r.layout_symbol["text-keep-upright"]),"text-transform":new s(r.layout_symbol["text-transform"]),"text-offset":new s(r.layout_symbol["text-offset"]),"text-allow-overlap":new a(r.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(r.layout_symbol["text-ignore-placement"]),"text-optional":new a(r.layout_symbol["text-optional"])})),u=new o({"icon-opacity":new s(r.paint_symbol["icon-opacity"]),"icon-color":new s(r.paint_symbol["icon-color"]),"icon-halo-color":new s(r.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(r.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(r.paint_symbol["icon-halo-blur"]),"icon-translate":new a(r.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(r.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(r.paint_symbol["text-opacity"]),"text-color":new s(r.paint_symbol["text-color"]),"text-halo-color":new s(r.paint_symbol["text-halo-color"]),"text-halo-width":new s(r.paint_symbol["text-halo-width"]),"text-halo-blur":new s(r.paint_symbol["text-halo-blur"]),"text-translate":new a(r.paint_symbol["text-translate"]),"text-translate-anchor":new a(r.paint_symbol["text-translate-anchor"])});e.exports={paint:u,layout:l}},{"../../style-spec/reference/latest":151,"../properties":188}],210:[function(t,e,n){"use strict";var r=t("./style_layer"),i=t("../util/util"),o=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var n=this,s=0,l=t;s<l.length;s+=1){var u=l[s];n._layerConfigs[u.id]=u;var c=n._layers[u.id]=r.create(u);c._featureFilter=o(c.filter)}for(var p=0,f=e;p<f.length;p+=1){var h=f[p];delete n._layerConfigs[h],delete n._layers[h]}this.familiesBySource={};for(var d=a(i.values(this._layerConfigs)),m=0,y=d;m<y.length;m+=1){var v=y[m],g=v.map(function(t){return n._layers[t.id]}),b=g[0];if("none"!==b.visibility){var _=b.source||"",x=n.familiesBySource[_];x||(x=n.familiesBySource[_]={});var w=b.sourceLayer||"_geojsonTileLayer",k=x[w];k||(k=x[w]=[]),k.push(g)}}},e.exports=s},{"../style-spec/feature_filter":148,"../style-spec/group_by_layout":150,"../util/util":275,"./style_layer":191}],211:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i.message;t.fire("error",{error:new Error(o)})}return!0}return!1}},{"../style-spec/validate_style.min":181}],212:[function(t,e,n){"use strict";var r=function(){this.first=!0};r.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))},e.exports=r},{}],213:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),i=t("../util/web_worker_transfer"),o=i.register,a=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);o("Anchor",a),e.exports=a},{"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],214:[function(t,e,n){"use strict";function r(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a-1],p=t[a],f=t[a+1];if(!f)return!1;var h=c.angleTo(p)-p.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=p.dist(f)}return!0}e.exports=r},{}],215:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],f=l[c+1];p.x<e&&f.x<e||(p.x<e?p=new i(e,p.y+(f.y-p.y)*((e-p.x)/(f.x-p.x)))._round():f.x<e&&(f=new i(e,p.y+(f.y-p.y)*((e-p.x)/(f.x-p.x)))._round()),p.y<n&&f.y<n||(p.y<n?p=new i(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round():f.y<n&&(f=new i(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round()),p.x>=r&&f.x>=r||(p.x>=r?p=new i(r,p.y+(f.y-p.y)*((r-p.x)/(f.x-p.x)))._round():f.x>=r&&(f=new i(r,p.y+(f.y-p.y)*((r-p.x)/(f.x-p.x)))._round()),p.y>=o&&f.y>=o||(p.y>=o?p=new i(p.x+(f.x-p.x)*((o-p.y)/(f.y-p.y)),o)._round():f.y>=o&&(f=new i(p.x+(f.x-p.x)*((o-p.y)/(f.y-p.y)),o)._round()),u&&p.equals(u[u.length-1])||(u=[p],a.push(u)),u.push(f)))))}return a}var i=t("@mapbox/point-geometry");e.exports=r},{"@mapbox/point-geometry":4}],216:[function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s,l,u,c){var p=a.top*s-l,f=a.bottom*s+l,h=a.left*s-l,d=a.right*s+l;if(this.boxStartIndex=t.length,u){var m=f-p,y=d-h;m>0&&(m=Math.max(10*s,m),this._addLineCollisionCircles(t,e,n,n.segment,y,m,r,i,o,c))}else t.emplaceBack(n.x,n.y,h,p,d,f,r,i,o,0,0);this.boxEndIndex=t.length};r.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,l,u){var c=o/2,p=Math.floor(i/c),f=1+.4*Math.log(u)/Math.LN2,h=Math.floor(p*f/2),d=-o/2,m=n,y=r+1,v=d,g=-i/2,b=g-i/4;do{if(--y<0){if(v>g)return;y=0;break}v-=e[y].dist(m),m=e[y]}while(v>b);for(var _=e[y].dist(e[y+1]),x=-h;x<p+h;x++){var w=x*c,k=g+w;if(w<0&&(k+=w),w>i&&(k+=w-i),!(k<v)){for(;v+_<k;){if(v+=_,++y+1>=e.length)return;_=e[y].dist(e[y+1])}var E=k-v,S=e[y],C=e[y+1],T=C.sub(S)._unit()._mult(E)._add(S)._round(),O=Math.abs(k-d)<c?0:.8*(k-d);t.emplaceBack(T.x,T.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,O)}}},e.exports=r},{}],217:[function(t,e,n){"use strict";function r(t,e,n){t[e+4]=n?1:0}var i=t("@mapbox/point-geometry"),o=t("../util/intersection_tests"),a=t("./grid_index"),s=t("@mapbox/gl-matrix"),l=(s.mat4,t("../symbol/projection")),u=function(t,e,n){void 0===e&&(e=new a(t.width+200,t.height+200,25)),void 0===n&&(n=new a(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};u.prototype.placeCollisionBox=function(t,e,n,r){var i=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),o=n*i.perspectiveRatio,a=t.x1*o+i.point.x,s=t.y1*o+i.point.y,l=t.x2*o+i.point.x,u=t.y2*o+i.point.y;return!e&&this.grid.hitTest(a,s,l,u)?{box:[],offscreen:!1}:{box:[a,s,l,u],offscreen:this.isOffscreen(a,s,l,u)}},u.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},u.prototype.placeCollisionCircles=function(t,e,n,o,a,s,u,c,p,f,h,d,m){var y=this,v=[],g=this.projectAnchor(f,s.anchorX,s.anchorY),b={},_=p/24,x=s.lineOffsetX*p,w=s.lineOffsetY*p,k=new i(s.anchorX,s.anchorY),E=l.project(k,h).point,S=l.placeFirstAndLastGlyph(_,c,x,w,!1,E,k,s,u,h,b,!0),C=!1,T=!0,O=g.perspectiveRatio*o,M=1/(o*n),P=0,A=0;S&&(P=this.approximateTileDistance(S.first.tileDistance,S.first.angle,M,g.cameraDistance,m),A=this.approximateTileDistance(S.last.tileDistance,S.last.angle,M,g.cameraDistance,m));for(var z=0;z<t.length;z+=5){var j=t[z],I=t[z+1],L=t[z+2],D=t[z+3];if(!S||D<-P||D>A)r(t,z,!1);else{var R=y.projectPoint(f,j,I),N=L*O;if(v.length>0){var B=R.x-v[v.length-4],F=R.y-v[v.length-3];if(N*N*2>B*B+F*F&&z+8<t.length){var U=t[z+8];if(U>-P&&U<A){r(t,z,!1);continue}}}var V=z/5;if(v.push(R.x,R.y,N,V),r(t,z,!0),T=T&&y.isOffscreen(R.x-N,R.y-N,R.x+N,R.y+N),!e&&y.grid.hitTestCircle(R.x,R.y,N)){if(!d)return{circles:[],offscreen:!1};C=!0}}}return{circles:C?[]:v,offscreen:T}},u.prototype.queryRenderedSymbols=function(t,e,n,r,a,s){var l=this,u={},c=[];if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return c;for(var p=this.transform.calculatePosMatrix(e.toUnwrapped()),f=[],h=1/0,d=1/0,m=-1/0,y=-1/0,v=0;v<t.length;v++)for(var g=t[v],b=0;b<g.length;b++){var _=l.projectPoint(p,g[b].x,g[b].y);h=Math.min(h,_.x),d=Math.min(d,_.y),m=Math.max(m,_.x),y=Math.max(y,_.y),f.push(_)}for(var x=e.key,w=[],k=this.grid.query(h,d,m,y),E=0;E<k.length;E++)k[E].sourceID===a&&k[E].tileID===x&&s[k[E].bucketInstanceId]&&w.push(k[E].boxIndex);for(var S=this.ignoredGrid.query(h,d,m,y),C=0;C<S.length;C++)S[C].sourceID===a&&S[C].tileID===x&&s[S[C].bucketInstanceId]&&w.push(S[C].boxIndex);for(var T=0;T<w.length;T++){var O=r.get(w[T]),M=O.sourceLayerIndex,P=O.featureIndex,A=O.bucketIndex;if(void 0===u[M]&&(u[M]={}),void 0===u[M][P]&&(u[M][P]={}),!u[M][P][A]){var z=l.projectAndGetPerspectiveRatio(p,O.anchorPointX,O.anchorPointY),j=n*z.perspectiveRatio,I=O.x1*j+z.point.x,L=O.y1*j+z.point.y,D=O.x2*j+z.point.x,R=O.y2*j+z.point.y,N=[new i(I,L),new i(D,L),new i(D,R),new i(I,R)];o.polygonIntersectsPolygon(f,N)&&(u[M][P][A]=!0,c.push(w[T]))}}return c},u.prototype.insertCollisionBox=function(t,e,n,r,i,o){var a=e?this.ignoredGrid:this.grid,s={tileID:n,sourceID:r,bucketInstanceId:i,boxIndex:o};a.insert(s,t[0],t[1],t[2],t[3])},u.prototype.insertCollisionCircles=function(t,e,n,r,i,o){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:n,sourceID:r,bucketInstanceId:i,boxIndex:o+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},u.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},u.prototype.projectPoint=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),new i((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},u.prototype.projectAndGetPerspectiveRatio=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),{point:new i((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},u.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},e.exports=u},{"../symbol/projection":224,"../util/intersection_tests":264,"./grid_index":220,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],218:[function(t,e,n){"use strict";var r=t("../data/extent"),i=512/r/2,o=function(t,e,n){var r=this;this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.key;r.indexedSymbolInstances[s]||(r.indexedSymbolInstances[s]=[]),r.indexedSymbolInstances[s].push({crossTileID:a.crossTileID,coord:r.getScaledCoordinates(a,t)})}};o.prototype.getScaledCoordinates=function(t,e){var n=e.canonical.z-this.tileID.canonical.z,o=i/Math.pow(2,n),a=t.anchor;return{x:Math.floor((e.canonical.x*r+a.x)*o),y:Math.floor((e.canonical.y*r+a.y)*o)}},o.prototype.findMatches=function(t,e,n){for(var r=this,i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,a=t;o<a.length;o+=1){var s=a[o];if(!s.crossTileID){var l=r.indexedSymbolInstances[s.key];if(l)for(var u=r.getScaledCoordinates(s,e),c=0,p=l;c<p.length;c+=1){var f=p[c];if(Math.abs(f.coord.x-u.x)<=i&&Math.abs(f.coord.y-u.y)<=i&&!n[f.crossTileID]){n[f.crossTileID]=!0,s.crossTileID=f.crossTileID;break}}}}};var a=function(){this.maxCrossTileID=0};a.prototype.generate=function(){return++this.maxCrossTileID};var s=function(){this.indexes={},this.usedCrossTileIDs={}};s.prototype.addBucket=function(t,e,n){var r=this;if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var i=0,a=e.symbolInstances;i<a.length;i+=1)a[i].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var s=this.usedCrossTileIDs[t.overscaledZ];for(var l in r.indexes){var u=r.indexes[l];if(Number(l)>t.overscaledZ)for(var c in u){var p=u[c];p.tileID.isChildOf(t)&&p.findMatches(e.symbolInstances,t,s)}else{var f=t.scaledTo(Number(l)),h=u[f.key];h&&h.findMatches(e.symbolInstances,t,s)}}for(var d=0,m=e.symbolInstances;d<m.length;d+=1){var y=m[d];y.crossTileID||(y.crossTileID=n.generate(),s[y.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new o(t,e.symbolInstances,e.bucketInstanceId),!0},s.prototype.removeBucketCrossTileIDs=function(t,e){var n=this;for(var r in e.indexedSymbolInstances)for(var i=0,o=e.indexedSymbolInstances[r];i<o.length;i+=1){var a=o[i];delete n.usedCrossTileIDs[t][a.crossTileID]}},s.prototype.removeStaleBuckets=function(t){var e=this,n=!1;for(var r in e.indexes){var i=e.indexes[r];for(var o in i)t[i[o].bucketInstanceId]||(e.removeBucketCrossTileIDs(r,i[o]),delete i[o],n=!0)}return n};var l=function(){this.layerIndexes={},this.crossTileIDs=new a,this.maxBucketInstanceId=0};l.prototype.addLayer=function(t,e){var n=this,r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new s);for(var i=!1,o={},a=0,l=e;a<l.length;a+=1){var u=l[a],c=u.getBucket(t);c&&(c.bucketInstanceId||(c.bucketInstanceId=++n.maxBucketInstanceId),r.addBucket(u.tileID,c,n.crossTileIDs)&&(i=!0),o[c.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},l.prototype.pruneUnusedLayers=function(t){var e=this,n={};t.forEach(function(t){n[t]=!0});for(var r in e.layerIndexes)n[r]||delete e.layerIndexes[r]},e.exports=l},{"../data/extent":53}],219:[function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,l,u){var c=r?.6*a*s:0,p=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),f=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-p*s<e/4&&(e=p*s+e/4);var h=2*a;return i(t,f?e/2*l%e:(p/2+h)*s*l%e,e,c,n,p*s,f,!1,u)}function i(t,e,n,r,l,u,c,p,f){for(var h=u/2,d=0,m=0;m<t.length-1;m++)d+=t[m].dist(t[m+1]);for(var y=0,v=e-n,g=[],b=0;b<t.length-1;b++){for(var _=t[b],x=t[b+1],w=_.dist(x),k=x.angleTo(_);v+n<y+w;){v+=n;var E=(v-y)/w,S=o(_.x,x.x,E),C=o(_.y,x.y,E);if(S>=0&&S<f&&C>=0&&C<f&&v-h>=0&&v+h<=d){var T=new a(S,C,k,b);T._round(),r&&!s(t,T,u,r,l)||g.push(T)}}y+=w}return p||g.length||c||(g=i(t,y/2,n,r,l,u,c,!0,f)),g}var o=t("../style-spec/util/interpolate").number,a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../style-spec/util/interpolate":158,"../symbol/anchor":213,"./check_max_angle":214}],220:[function(t,e,n){"use strict";var r=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};r.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},r.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},r.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},r.prototype._query=function(t,e,n,r,i){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var o=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r)o=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:i,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,n,r,this._queryCell,o,a)}return i?o.length>0:o},r.prototype._queryCircle=function(t,e,n,r){var i=t-n,o=t+n,a=e-n,s=e+n;if(o<0||i>this.width||s<0||a>this.height)return!r&&[];var l=[],u={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(i,a,o,s,this._queryCellCircle,l,u),r?l.length>0:l},r.prototype.query=function(t,e,n,r){return this._query(t,e,n,r,!1)},r.prototype.hitTest=function(t,e,n,r){return this._query(t,e,n,r,!0)},r.prototype.hitTestCircle=function(t,e,n){return this._queryCircle(t,e,n,!0)},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this,l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,f=u;p<f.length;p+=1){var h=f[p];if(!l.box[h]){l.box[h]=!0;var d=4*h;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]){if(a.hitTest)return o.push(!0),!0;o.push(s.boxKeys[h])}}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,v=0,g=m;v<g.length;v+=1){var b=g[v];if(!l.circle[b]){l.circle[b]=!0;var _=3*b;if(s._circleAndRectCollide(y[_],y[_+1],y[_+2],t,e,n,r)){if(a.hitTest)return o.push(!0),!0;o.push(s.circleKeys[b])}}}},r.prototype._queryCellCircle=function(t,e,n,r,i,o,a){var s=this,l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,f=0,h=c;f<h.length;f+=1){var d=h[f];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(s._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3]))return o.push(!0),!0}}var y=this.circleCells[i];if(null!==y)for(var v=this.circles,g=0,b=y;g<b.length;g+=1){var _=b[g];if(!u.circle[_]){u.circle[_]=!0;var x=3*_;if(s._circlesCollide(v[x],v[x+1],v[x+2],l.x,l.y,l.radius))return o.push(!0),!0}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this,l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),f=l;f<=c;f++)for(var h=u;h<=p;h++){var d=s.xCellCount*h+f;if(i.call(s,t,e,n,r,d,o,a))return}},r.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},r.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},r.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},r.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,f=c-u;return p*p+f*f<=n*n},e.exports=r},{}],221:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),l++}function n(t,e,n){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(t,e,n){var r=o[e];return delete o[e],o[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function i(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var o={},a={},s=[],l=0,u=0;u<t.length;u++){var c=t[u],p=c.geometry,f=c.text;if(f){var h=i(f,p),d=i(f,p,!0);if(h in a&&d in o&&a[h]!==o[d]){var m=r(h,d,p),y=n(h,d,s[m].geometry);delete o[h],delete a[d],a[i(f,s[y].geometry,!0)]=y,s[m].geometry=null}else h in a?n(h,d,p):d in o?r(h,d,p):(e(u),o[h]=l-1,a[d]=l-1)}else e(u)}return s.filter(function(t){return t.geometry})}},{}],222:[function(t,e,n){"use strict";var r=t("../util/web_worker_transfer"),i=r.register,o=function(){this.opacity=0,this.targetOpacity=0,this.time=0};o.prototype.clone=function(){var t=new o;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},i("OpacityState",o),e.exports=o},{"../util/web_worker_transfer":278}],223:[function(t,e,n){"use strict";function r(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}function i(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*m+e*y+n*v+e*g+n*b+e*_+n*x+e}var o=t("./collision_index"),a=t("../data/extent"),s=t("./symbol_size"),l=t("./projection"),u=t("../style/style_layer/symbol_style_layer_properties").layout,c=t("../source/pixels_to_tile_units"),p=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};p.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var f=function(t,e,n,r,i){this.text=new p(t?t.text:null,e,n,i),this.icon=new p(t?t.icon:null,e,r,i)};f.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var h=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},d=function(t,e){this.transform=t.clone(),this.collisionIndex=new o(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};d.prototype.placeLayerTile=function(t,e,n,r){var i=e.getBucket(t);if(i){var o=i.layers[0].layout,s=Math.pow(2,this.transform.zoom-e.tileID.overscaledZ),u=e.tileSize/a,p=this.transform.calculatePosMatrix(e.tileID.toUnwrapped()),f=l.getLabelPlaneMatrix(p,"map"===o.get("text-pitch-alignment"),"map"===o.get("text-rotation-alignment"),this.transform,c(e,1,this.transform.zoom)),h=l.getLabelPlaneMatrix(p,"map"===o.get("icon-pitch-alignment"),"map"===o.get("icon-rotation-alignment"),this.transform,c(e,1,this.transform.zoom));this.placeLayerBucket(i,p,f,h,s,u,n,r,e.collisionBoxArray,e.tileID.key,t.source)}},d.prototype.placeLayerBucket=function(t,e,n,r,i,o,a,l,c,p,f){for(var d=this,m=t.layers[0].layout,y=s.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,u.properties["text-size"]),v=!t.hasTextData()||m.get("text-optional"),g=!t.hasIconData()||m.get("icon-optional"),b=0,_=t.symbolInstances;b<_.length;b+=1){var x=_[b];if(!l[x.crossTileID]){var w=!1,k=!1,E=!0,S=null,C=null,T=null;x.collisionArrays||(x.collisionArrays=t.deserializeCollisionBoxes(c,x.textBoxStartIndex,x.textBoxEndIndex,x.iconBoxStartIndex,x.iconBoxEndIndex)),x.collisionArrays.textBox&&(S=d.collisionIndex.placeCollisionBox(x.collisionArrays.textBox,m.get("text-allow-overlap"),o,e),w=S.box.length>0,E=E&&S.offscreen);var O=x.collisionArrays.textCircles;if(O){var M=t.text.placedSymbolArray.get(x.placedTextSymbolIndices[0]),P=s.evaluateSizeForFeature(t.textSizeData,y,M);C=d.collisionIndex.placeCollisionCircles(O,m.get("text-allow-overlap"),i,o,x.key,M,t.lineVertexArray,t.glyphOffsetArray,P,e,n,a,"map"===m.get("text-pitch-alignment")),w=m.get("text-allow-overlap")||C.circles.length>0,E=E&&C.offscreen}x.collisionArrays.iconBox&&(T=d.collisionIndex.placeCollisionBox(x.collisionArrays.iconBox,m.get("icon-allow-overlap"),o,e),k=T.box.length>0,E=E&&T.offscreen),v||g?g?v||(k=k&&w):w=k&&w:k=w=k&&w,w&&S&&d.collisionIndex.insertCollisionBox(S.box,m.get("text-ignore-placement"),p,f,t.bucketInstanceId,x.textBoxStartIndex),k&&T&&d.collisionIndex.insertCollisionBox(T.box,m.get("icon-ignore-placement"),p,f,t.bucketInstanceId,x.iconBoxStartIndex),w&&C&&d.collisionIndex.insertCollisionCircles(C.circles,m.get("text-ignore-placement"),p,f,t.bucketInstanceId,x.textBoxStartIndex),d.placements[x.crossTileID]=new h(w,k,E||t.justReloaded),l[x.crossTileID]=!0}}t.justReloaded=!1},d.prototype.commit=function(t,e){var n=this;this.commitTime=e;var r=!1,i=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var a in n.placements){var s=n.placements[a],l=o[a];l?(n.opacities[a]=new f(l,i,s.text,s.icon),r=r||s.text!==l.text.placed||s.icon!==l.icon.placed):(n.opacities[a]=new f(null,i,s.text,s.icon,s.skipFade),r=r||s.text||s.icon)}for(var u in o){var c=o[u];if(!n.opacities[u]){var p=new f(c,i,!1,!1);p.isHidden()||(n.opacities[u]=p,r=r||c.text.placed||c.icon.placed)}}r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},d.prototype.updateLayerOpacities=function(t,e){for(var n=this,r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.getBucket(t);s&&n.updateBucketOpacities(s,r,a.collisionBoxArray)}},d.prototype.updateBucketOpacities=function(t,e,n){var o=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var a=t.layers[0].layout,s=new f(null,0,a.get("text-allow-overlap"),a.get("icon-allow-overlap"),!0),l=0;l<t.symbolInstances.length;l++){var u=t.symbolInstances[l],c=e[u.crossTileID],p=o.opacities[u.crossTileID];p?c&&(p=s):(p=s,o.opacities[u.crossTileID]=p),e[u.crossTileID]=!0;var h=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,d=u.numIconVertices>0;if(h){for(var m=i(p.text),y=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,v=0;v<y;v++)t.text.opacityVertexArray.emplaceBack(m);for(var g=0,b=u.placedTextSymbolIndices;g<b.length;g+=1){var _=b[g];t.text.placedSymbolArray.get(_).hidden=p.text.isHidden()}}if(d){for(var x=i(p.icon),w=0;w<u.numIconVertices/4;w++)t.icon.opacityVertexArray.emplaceBack(x);t.icon.placedSymbolArray.get(l).hidden=p.icon.isHidden()}u.collisionArrays||(u.collisionArrays=t.deserializeCollisionBoxes(n,u.textBoxStartIndex,u.textBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex));var k=u.collisionArrays;if(k){k.textBox&&t.hasCollisionBoxData()&&r(t.collisionBox.collisionVertexArray,p.text.placed,!1),k.iconBox&&t.hasCollisionBoxData()&&r(t.collisionBox.collisionVertexArray,p.icon.placed,!1);var E=k.textCircles;if(E&&t.hasCollisionCircleData())for(var S=0;S<E.length;S+=5){var C=c||0===E[S+4];r(t.collisionCircle.collisionVertexArray,p.text.placed,C)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},d.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},d.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},d.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},d.prototype.setStale=function(){this.stale=!0};var m=Math.pow(2,25),y=Math.pow(2,24),v=Math.pow(2,17),g=Math.pow(2,16),b=Math.pow(2,9),_=Math.pow(2,8),x=Math.pow(2,1);e.exports=d},{"../data/extent":53,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"./collision_index":217,"./projection":224,"./symbol_size":228}],224:[function(t,e,n){"use strict";function r(t,e,n,r,i){var o=v.identity(new Float32Array(16));return e?(v.identity(o),v.scale(o,o,[1/i,1/i,1]),n||v.rotateZ(o,o,r.angle)):(v.scale(o,o,[r.width/2,-r.height/2,1]),v.translate(o,o,[1,-1,0]),v.multiply(o,o,t)),o}function i(t,e,n,r,i){var o=v.identity(new Float32Array(16));return e?(v.multiply(o,o,t),v.scale(o,o,[i,i,1]),n||v.rotateZ(o,o,-r.angle)):(v.scale(o,o,[1,-1,1]),v.translate(o,o,[-1,-1,0]),v.scale(o,o,[2/r.width,2/r.height,1])),o}function o(t,e){var n=[t.x,t.y,0,1];d(n,n,e);var r=n[3];return{point:new m(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function a(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function s(t,e,n,r,i,s,l,u){var p=r?t.textSizeData:t.iconSizeData,f=b.evaluateSizeForZoom(p,n.transform.zoom,w.properties[r?"text-size":"icon-size"]),d=[256/n.width*2+1,256/n.height*2+1],y=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;y.clear();for(var v=t.lineVertexArray,_=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=n.transform.width/n.transform.height,E=!1,S=0;S<_.length;S++){var C=_.get(S);if(C.hidden||C.writingMode===k.vertical&&!E)h(C.numGlyphs,y);else{E=!1;var T=[C.anchorX,C.anchorY,0,1];if(g.transformMat4(T,T,e),a(T,d)){var O=T[3],M=.5+O/n.transform.cameraToCenterDistance*.5,P=b.evaluateSizeForFeature(p,f,C),A=l?P*M:P/M,z=new m(C.anchorX,C.anchorY),j=o(z,i).point,I={},L=c(C,A,!1,u,e,i,s,t.glyphOffsetArray,v,y,j,z,I,x);E=L.useVertical,(L.notEnoughRoom||E||L.needsFlipping&&c(C,A,!0,u,e,i,s,t.glyphOffsetArray,v,y,j,z,I,x).notEnoughRoom)&&h(C.numGlyphs,y)}else h(C.numGlyphs,y)}}r?t.text.dynamicLayoutVertexBuffer.updateData(y):t.icon.dynamicLayoutVertexBuffer.updateData(y)}function l(t,e,n,r,i,o,a,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,y=e.getoffsetX(s.glyphStartIndex),v=e.getoffsetX(h-1),g=f(t*y,n,r,i,o,a,s.segment,d,m,l,u,c,p);if(!g)return null;var b=f(t*v,n,r,i,o,a,s.segment,d,m,l,u,c,p);return b?{first:g,last:b}:null}function u(t,e,n,r){return t===k.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*r?{useVertical:!0}:(t===k.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function c(t,e,n,r,i,a,s,c,h,d,y,v,g,b){var _,w=e/24,k=t.lineOffsetX*e,E=t.lineOffsetY*e;if(t.numGlyphs>1){var S=t.glyphStartIndex+t.numGlyphs,C=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,O=l(w,c,k,E,n,y,v,t,h,a,g,!1);if(!O)return{notEnoughRoom:!0};var M=o(O.first.point,s).point,P=o(O.last.point,s).point;if(r&&!n){var A=u(t.writingMode,M,P,b);if(A)return A}_=[O.first];for(var z=t.glyphStartIndex+1;z<S-1;z++)_.push(f(w*c.getoffsetX(z),k,E,n,y,v,t.segment,C,T,h,a,g,!1));_.push(O.last)}else{if(r&&!n){var j=o(v,i).point,I=t.lineStartIndex+t.segment+1,L=new m(h.getx(I),h.gety(I)),D=o(L,i),R=D.signedDistanceFromCamera>0?D.point:p(v,L,j,1,i),N=u(t.writingMode,j,R,b);if(N)return N}var B=f(w*c.getoffsetX(t.glyphStartIndex),k,E,n,y,v,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,h,a,g,!1);if(!B)return{notEnoughRoom:!0};_=[B]}for(var F=0,U=_;F<U.length;F+=1){var V=U[F];x(d,V.point,V.angle)}return{}}function p(t,e,n,r,i){var a=o(t.add(t.sub(e)._unit()),i).point,s=n.sub(a);return n.add(s._mult(r/s.mag()))}function f(t,e,n,r,i,a,s,l,u,c,f,h,d){var y=r?t-e:t+e,v=y>0?1:-1,g=0;r&&(v*=-1,g=Math.PI),v<0&&(g+=Math.PI);for(var b=v>0?l+s:l+s+1,_=b,x=i,w=i,k=0,E=0,S=Math.abs(y);k+E<=S;){if((b+=v)<l||b>=u)return null;if(w=x,void 0===(x=h[b])){var C=new m(c.getx(b),c.gety(b)),T=o(C,f);if(T.signedDistanceFromCamera>0)x=h[b]=T.point;else{var O=b-v;x=p(0===k?a:new m(c.getx(O),c.gety(O)),C,w,S-k+1,f)}}k+=E,E=w.dist(x)}var M=(S-k)/E,P=x.sub(w),A=P.mult(M)._add(w);return A._add(P._unit()._perp()._mult(n*v)),{point:A,angle:g+Math.atan2(x.y-w.y,x.x-w.x),tileDistance:d?{prevTileDistance:b-v===_?0:c.gettileUnitDistanceFromAnchor(b-v),lastSegmentViewportDistance:S-k}:null}}function h(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(E,3*r)}}function d(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var m=t("@mapbox/point-geometry"),y=t("@mapbox/gl-matrix"),v=y.mat4,g=y.vec4,b=t("./symbol_size"),_=t("../data/bucket/symbol_bucket"),x=_.addDynamicAttributes,w=t("../style/style_layer/symbol_style_layer_properties").layout,k=t("../symbol/shaping").WritingMode;e.exports={updateLineLabels:s,getLabelPlaneMatrix:r,getGlCoordMatrix:i,project:o,placeFirstAndLastGlyph:l,xyTransformMat4:d};var E=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":51,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/shaping":226,"./symbol_size":228,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],225:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,s){var l,u,c,p,f=e.image,h=n.layout,d=e.top-1/f.pixelRatio,m=e.left-1/f.pixelRatio,y=e.bottom+1/f.pixelRatio,v=e.right+1/f.pixelRatio;if("none"!==h.get("icon-text-fit")&&i){var g=v-m,b=y-d,_=h.get("text-size").evaluate(s)/24,x=i.left*_,w=i.right*_,k=i.top*_,E=i.bottom*_,S=w-x,C=E-k,T=h.get("icon-text-fit-padding")[0],O=h.get("icon-text-fit-padding")[1],M=h.get("icon-text-fit-padding")[2],P=h.get("icon-text-fit-padding")[3],A="width"===h.get("icon-text-fit")?.5*(C-b):0,z="height"===h.get("icon-text-fit")?.5*(S-g):0,j="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?S:g,I="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?C:b;l=new o(x+z-P,k+A-T),u=new o(x+z+O+j,k+A-T),c=new o(x+z+O+j,k+A+M+I),p=new o(x+z-P,k+A+M+I)}else l=new o(m,d),u=new o(v,d),c=new o(v,y),p=new o(m,y);var L=n.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(L){var D=Math.sin(L),R=Math.cos(L),N=[R,-D,D,R];l._matMult(N),u._matMult(N),p._matMult(N),c._matMult(N)}return[{tl:l,tr:u,bl:p,br:c,tex:{x:f.textureRect.x-1,y:f.textureRect.y-1,w:f.textureRect.w+2,h:f.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function i(t,e,n,r,i,a,l){for(var u=n.layout.get("text-rotate").evaluate(a)*Math.PI/180,c=n.layout.get("text-offset").evaluate(a).map(function(t){return 24*t}),p=e.positionedGlyphs,f=[],h=0;h<p.length;h++){var d=p[h],m=l[d.glyph];if(m){var y=m.rect;if(y){var v=s+1,g=m.metrics.advance/2,b=r?[d.x+g,d.y]:[0,0],_=r?[0,0]:[d.x+g+c[0],d.y+c[1]],x=m.metrics.left-v-g+_[0],w=-m.metrics.top-v+_[1],k=x+y.w,E=w+y.h,S=new o(x,w),C=new o(k,w),T=new o(x,E),O=new o(k,E);if(r&&d.vertical){var M=new o(-g,g),P=-Math.PI/2,A=new o(5,0);S._rotateAround(P,M)._add(A),C._rotateAround(P,M)._add(A),T._rotateAround(P,M)._add(A),O._rotateAround(P,M)._add(A)}if(u){var z=Math.sin(u),j=Math.cos(u),I=[j,-z,z,j];S._matMult(I),C._matMult(I),T._matMult(I),O._matMult(I)}f.push({tl:S,tr:C,bl:T,br:O,tex:y,writingMode:e.writingMode,glyphOffset:b})}}}return f}var o=t("@mapbox/point-geometry"),a=t("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;e.exports={getIconQuads:r,getGlyphQuads:i}},{"../style/parse_glyph_pbf":186,"@mapbox/point-geometry":4}],226:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}function i(t,e,n,i,o,a,s,l,u,p){var h=t.trim();p===b.vertical&&(h=v(h));var d,m=[],y={positionedGlyphs:m,text:h,top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:p},_=g.processBidirectionalText;return d=_?_(h,c(h,s,n,e)):r(h,c(h,s,n,e)),f(y,e,d,i,o,a,p,s,u),!!m.length&&y}function o(t,e,n,r){for(var i=0,o=0;o<t.length;o++){var a=r[t.charCodeAt(o)];a&&(i+=a.metrics.advance+e)}return i/Math.max(1,Math.ceil(i/n))}function a(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function s(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function l(t,e,n,r,i,o){for(var s=null,l=a(e,n,i,o),u=0,c=r;u<c.length;u+=1){var p=c[u],f=e-p.x,h=a(f,n,i,o)+p.badness;h<=l&&(s=p,l=h)}return{index:t,x:e,priorBreak:s,badness:l}}function u(t){return t?u(t.priorBreak).concat(t.index):[]}function c(t,e,n,r){if(!n)return[];if(!t)return[];for(var i=[],a=o(t,e,n,r),c=0,p=0;p<t.length;p++){var f=t.charCodeAt(p),h=r[f];h&&!_[f]&&(c+=h.metrics.advance+e),p<t.length-1&&(x[f]||y.charAllowsIdeographicBreaking(f))&&i.push(l(p+1,c,a,i,s(f,t.charCodeAt(p+1)),!1))}return u(l(t.length,c,a,i,0,!0))}function p(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function f(t,e,n,r,i,o,a,s,l){for(var u=0,c=-17,f=0,m=t.positionedGlyphs,v="right"===o?1:"left"===o?0:.5,g=0,_=n;g<_.length;g+=1){var x=_[g];if(x=x.trim(),x.length){for(var w=m.length,k=0;k<x.length;k++){var E=x.charCodeAt(k),S=e[E];S&&(y.charHasUprightVerticalOrientation(E)&&a!==b.horizontal?(m.push({glyph:E,x:u,y:0,vertical:!0}),u+=l+s):(m.push({glyph:E,x:u,y:c,vertical:!1}),u+=S.metrics.advance+s))}if(m.length!==w){var C=u-s;f=Math.max(C,f),h(m,e,w,m.length-1,v)}u=0,c+=r}else c+=r}var T=p(i),O=T.horizontalAlign,M=T.verticalAlign;d(m,v,O,M,f,r,n.length);var P=n.length*r;t.top+=-M*P,t.bottom=t.top+P,t.left+=-O*f,t.right=t.left+f}function h(t,e,n,r,i){if(i){var o=e[t[r].glyph];if(o)for(var a=o.metrics.advance,s=(t[r].x+a)*i,l=n;l<=r;l++)t[l].x-=s}}function d(t,e,n,r,i,o,a){for(var s=(e-n)*i,l=(-r*a+.5)*o,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}function m(t,e,n){var r=p(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*i,u=l+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:l,right:u}}var y=t("../util/script_detection"),v=t("../util/verticalize_punctuation"),g=t("../source/rtl_text_plugin"),b={horizontal:1,vertical:2,horizontalOnly:3};e.exports={shapeText:i,shapeIcon:m,WritingMode:b};var _={};_[9]=!0,_[10]=!0,_[11]=!0,_[12]=!0,_[13]=!0,_[32]=!0;var x={};x[10]=!0,x[32]=!0,x[38]=!0,x[40]=!0,x[41]=!0,x[43]=!0,x[45]=!0,x[47]=!0,x[173]=!0,x[183]=!0,x[8203]=!0,x[8208]=!0,x[8211]=!0,x[8231]=!0},{"../source/rtl_text_plugin":109,"../util/script_detection":269,"../util/verticalize_punctuation":277}],227:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=E/s,t.compareText={},t.iconsNeedLinear=!1;var l=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var p=t.textSizeData.zoomRange,f=p.min,y=p.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new C(f)),u["text-size"].possiblyEvaluate(new C(y))]}if("composite"===t.iconSizeData.functionType){var v=t.iconSizeData.zoomRange,g=v.min,b=v.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new C(g)),u["icon-size"].possiblyEvaluate(new C(b))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new C(t.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new C(t.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new C(18));for(var w=24*l.get("text-line-height"),k="map"===l.get("text-rotation-alignment")&&"line"===l.get("symbol-placement"),S=l.get("text-keep-upright"),T=0,O=t.features;T<O.length;T+=1){var M=O[T],P=l.get("text-font").evaluate(M).join(","),A=e[P]||{},z=n[P]||{},j={},I=M.text;if(I){var L=x.allowsVerticalWritingMode(I),D=l.get("text-offset").evaluate(M).map(function(t){return 24*t}),R=24*l.get("text-letter-spacing").evaluate(M),N=x.allowsLetterSpacing(I)?R:0,B=l.get("text-anchor").evaluate(M),F=l.get("text-justify").evaluate(M),U="line"!==l.get("symbol-placement")?24*l.get("text-max-width").evaluate(M):0;j.horizontal=h(I,A,U,w,B,F,N,D,24,m.horizontal),L&&k&&S&&(j.vertical=h(I,A,U,w,B,F,N,D,24,m.vertical))}var V=void 0;if(M.icon){var H=r[M.icon];H&&(V=d(o[M.icon],l.get("icon-offset").evaluate(M),l.get("icon-anchor").evaluate(M)),void 0===t.sdfIcons?t.sdfIcons=H.sdf:t.sdfIcons!==H.sdf&&_.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),H.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(j.horizontal||V)&&i(t,M,j,V,z,c)}a&&t.generateCollisionDebugBuffers()}function i(t,e,n,r,i,o){var p=o.layoutTextSize.evaluate(e),f=o.layoutIconSize.evaluate(e),h=o.textMaxSize.evaluate(e);void 0===h&&(h=p);var d=t.layers[0].layout,m=d.get("text-offset").evaluate(e),y=d.get("icon-offset").evaluate(e),v=p/24,g=t.tilePixelRatio*v,b=t.tilePixelRatio*h/24,_=t.tilePixelRatio*f,x=t.tilePixelRatio*d.get("symbol-spacing"),S=d.get("text-padding")*t.tilePixelRatio,C=d.get("icon-padding")*t.tilePixelRatio,T=d.get("text-max-angle")/180*Math.PI,O="map"===d.get("text-rotation-alignment")&&"line"===d.get("symbol-placement"),M="map"===d.get("icon-rotation-alignment")&&"line"===d.get("symbol-placement"),P=d.get("symbol-placement"),A=x/2,z=function(s,l){l.x<0||l.x>=E||l.y<0||l.y>=E||t.symbolInstances.push(a(t,l,s,n,r,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,S,O,m,_,C,M,y,{zoom:t.zoom},e,i,o))};if("line"===P)for(var j=0,I=c(e.geometry,0,0,E,E);j<I.length;j+=1)for(var L=I[j],D=u(L,x,T,n.vertical||n.horizontal,r,24,b,t.overscaling,E),R=0,N=D;R<N.length;R+=1){var B=N[R],F=n.horizontal;F&&s(t,F.text,A,B)||z(L,B)}else if("Polygon"===e.type)for(var U=0,V=k(e.geometry,0);U<V.length;U+=1){var H=V[U],W=w(H,16);z(H[0],new l(W.x,W.y,0))}else if("LineString"===e.type)for(var q=0,G=e.geometry;q<G.length;q+=1){var Z=G[q];z(Z,new l(Z[0].x,Z[0].y,0))}else if("Point"===e.type)for(var X=0,Y=e.geometry;X<Y.length;X+=1)for(var K=Y[X],$=0,J=K;$<J.length;$+=1){var Q=J[$];z([Q],new l(Q.x,Q.y,0))}}function o(t,e,n,r,i,o,a,s,l,u,c,p,f){var h=v(e,n,r,i,o,a,p),d=t.textSizeData,m=null;return"source"===d.functionType?m=[10*r.layout.get("text-size").evaluate(a)]:"composite"===d.functionType&&(m=[10*f.compositeTextSizes[0].evaluate(a),10*f.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,h,m,s,i,a,u,e,l.lineStartIndex,l.lineLength),c.push(t.text.placedSymbolArray.length-1),4*h.length}function a(t,e,n,r,i,a,s,l,u,c,f,h,d,y,v,x,w,k,E,C,T,O){var M,P,A=t.addToLineVertexArray(e,n),z=0,j=0,I=0,L=r.horizontal?r.horizontal.text:"",D=[];r.horizontal&&(M=new b(s,n,e,l,u,c,r.horizontal,f,h,d,t.overscaling),j+=o(t,e,r.horizontal,a,d,E,C,y,A,r.vertical?m.horizontal:m.horizontalOnly,D,T,O),r.vertical&&(I+=o(t,e,r.vertical,a,d,E,C,y,A,m.vertical,D,T,O)));var R=M?M.boxStartIndex:t.collisionBoxArray.length,N=M?M.boxEndIndex:t.collisionBoxArray.length;if(i){var B=g(e,i,a,w,r.horizontal,E,C);P=new b(s,n,e,l,u,c,i,v,x,!1,t.overscaling),z=4*B.length;var F=t.iconSizeData,U=null;"source"===F.functionType?U=[10*a.layout.get("icon-size").evaluate(C)]:"composite"===F.functionType&&(U=[10*O.compositeIconSizes[0].evaluate(C),10*O.compositeIconSizes[1].evaluate(C)]),t.addSymbols(t.icon,B,U,k,w,C,!1,e,A.lineStartIndex,A.lineLength)}var V=P?P.boxStartIndex:t.collisionBoxArray.length,H=P?P.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=S.MAX_GLYPHS&&_.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:L,textBoxStartIndex:R,textBoxEndIndex:N,iconBoxStartIndex:V,iconBoxEndIndex:H,textOffset:y,iconOffset:k,anchor:e,line:n,featureIndex:l,feature:C,numGlyphVertices:j,numVerticalGlyphVertices:I,numIconVertices:z,textOpacityState:new p,iconOpacityState:new p,isDuplicate:!1,placedTextSymbolIndices:D,crossTileID:0}}function s(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var l=t("./anchor"),u=t("./get_anchors"),c=t("./clip_line"),p=t("./opacity_state"),f=t("./shaping"),h=f.shapeText,d=f.shapeIcon,m=f.WritingMode,y=t("./quads"),v=y.getGlyphQuads,g=y.getIconQuads,b=t("./collision_feature"),_=t("../util/util"),x=t("../util/script_detection"),w=t("../util/find_pole_of_inaccessibility"),k=t("../util/classify_rings"),E=t("../data/extent"),S=t("../data/bucket/symbol_bucket"),C=t("../style/evaluation_parameters");t("@mapbox/point-geometry");e.exports={performSymbolLayout:r}},{"../data/bucket/symbol_bucket":51,"../data/extent":53,"../style/evaluation_parameters":182,"../util/classify_rings":255,"../util/find_pole_of_inaccessibility":261,"../util/script_detection":269,"../util/util":275,"./anchor":213,"./clip_line":215,"./collision_feature":216,"./get_anchors":219,"./opacity_state":222,"./quads":225,"./shaping":226,"@mapbox/point-geometry":4}],228:[function(t,e,n){"use strict";function r(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate({zoom:t+1})};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;i=Math.max(0,i-1);for(var o=i;o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate({zoom:t+1}),zoomRange:a,sizeRange:{min:n.evaluate({zoom:a.min}),max:n.evaluate({zoom:a.max})},propertyValue:e.value}}function i(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?l.number(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize}function o(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=s(r,n.specification),l=u.clamp(a.interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+l*(o.max-o.min)}}var c=t.propertyValue,p=t.zoomRange,f=s(c,n.specification);return{uSizeT:u.clamp(f.interpolationFactor(e,p.min,p.max),0,1),uSize:0}}var a=t("../style-spec/expression"),s=a.normalizePropertyExpression,l=t("../style-spec/util/interpolate"),u=t("../util/util");e.exports={getSizeData:r,evaluateSizeForFeature:i,evaluateSizeForZoom:o}},{"../style-spec/expression":139,"../style-spec/util/interpolate":158,"../util/util":275}],229:[function(t,e,n){"use strict";var r=t("../source/rtl_text_plugin");e.exports=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n);return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":109}],230:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("@mapbox/point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){g("mouseout",t)}function a(e){t.doubleClickZoom.isActive()||t.stop(),k=r.mousePos(_,e),g("mousedown",e),w=!0}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();x&&!n&&g("contextmenu",x),x=null,w=!1,g("mouseup",e)}function l(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==_;)n=n.parentNode;n===_&&g("mousemove",e)}}function u(t){for(var e=t.toElement||t.target;e&&e!==_;)e=e.parentNode;e===_&&g("mouseover",t)}function c(e){t.stop(),b("touchstart",e),!e.touches||e.touches.length>1||(E?(clearTimeout(E),E=null,g("dblclick",e)):E=setTimeout(d,300))}function p(t){b("touchmove",t)}function f(t){b("touchend",t)}function h(t){b("touchcancel",t)}function d(){E=null}function m(t){r.mousePos(_,t).equals(k)&&g("click",t)}function y(t){g("dblclick",t),t.preventDefault()}function v(e){var n=t.dragRotate&&t.dragRotate.isActive();w||n?w&&(x=e):g("contextmenu",e),e.preventDefault()}function g(e,n){var i=r.mousePos(_,n);return t.fire(e,{lngLat:t.unproject(i),point:i,originalEvent:n})}function b(e,n){var o=r.touchPos(_,n),a=o.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new i(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var _=t.getCanvasContainer(),x=null,w=!1,k=null,E=null;for(var S in o)t[S]=new o[S](t,e),e.interactive&&e[S]&&t[S].enable(e[S]);_.addEventListener("mouseout",n,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",l,!1),_.addEventListener("mouseover",u,!1),_.addEventListener("touchstart",c,!1),_.addEventListener("touchend",f,!1),_.addEventListener("touchmove",p,!1),_.addEventListener("touchcancel",h,!1),_.addEventListener("click",m,!1),_.addEventListener("dblclick",y,!1),_.addEventListener("contextmenu",v,!1)}},{"../util/dom":259,"./handler/box_zoom":239,"./handler/dblclick_zoom":240,"./handler/drag_pan":241,"./handler/drag_rotate":242,"./handler/keyboard":243,"./handler/scroll_zoom":244,"./handler/touch_zoom_rotate":245,"@mapbox/point-geometry":4}],231:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../style-spec/util/interpolate").number,o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("@mapbox/point-geometry"),u=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=l.convert(t).mult(-1),this.panTo(this.transform.center,r.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var i=e.padding;e.padding={top:i,bottom:i,right:i,left:i}}if(!r.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=s.convert(t);var o=[(e.padding.left-e.padding.right)/2,(e.padding.top-e.padding.bottom)/2],a=Math.min(e.padding.right,e.padding.left),u=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=l.convert(e.offset),p=this.transform,f=p.project(t.getNorthWest()),h=p.project(t.getSouthEast()),d=h.sub(f),m=(p.width-2*a-2*Math.abs(c.x))/d.x,y=(p.height-2*u-2*Math.abs(c.y))/d.y;return y<0||m<0?(r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=p.unproject(f.add(h).div(2)),e.zoom=Math.min(p.scaleZoom(p.scale*Math.min(m,y)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),i&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t),!1===t.animate&&(t.duration=0);var o=this.transform,s=this.getZoom(),u=this.getBearing(),c=this.getPitch(),p="zoom"in t?+t.zoom:s,f="bearing"in t?this._normalizeBearing(t.bearing,u):u,h="pitch"in t?+t.pitch:c,d=o.centerPoint.add(l.convert(t.offset)),m=o.pointLocation(d),y=a.convert(t.center||m);this._normalizeCenter(y);var v,g,b=o.project(m),_=o.project(y).sub(b),x=o.zoomScale(p-s);return t.around&&(v=a.convert(t.around),g=o.locationPoint(v)),this.zooming=p!==s,this.rotating=u!==f,this.pitching=h!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(n.zooming&&(o.zoom=i(s,p,t)),n.rotating&&(o.bearing=i(u,f,t)),n.pitching&&(o.pitch=i(c,h,t)),v)o.setLocationAtPoint(v,g);else{var r=o.zoomScale(o.zoom-s),a=p>s?Math.min(2,x):Math.max(.5,x),l=Math.pow(a,1-t),m=o.unproject(b.add(_.mult(t*l)).mult(r));o.setLocationAtPoint(o.renderWorldCopies?m.wrap():m,d)}n._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._afterEase(e)},t.delayEndEvents):n._afterEase(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._afterEase=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(C*C-S*S+(t?-1:1)*P*P*T*T)/(2*(t?C:S)*P*T);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return o(t)/s(t)}var c=this;this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var p=this.transform,f=this.getZoom(),h=this.getBearing(),d=this.getPitch(),m="zoom"in t?r.clamp(+t.zoom,p.minZoom,p.maxZoom):f,y="bearing"in t?this._normalizeBearing(t.bearing,h):h,v="pitch"in t?+t.pitch:d,g=p.zoomScale(m-f),b=p.centerPoint.add(l.convert(t.offset)),_=p.pointLocation(b),x=a.convert(t.center||_);this._normalizeCenter(x);var w=p.project(_),k=p.project(x).sub(w),E=t.curve,S=Math.max(p.width,p.height),C=S/g,T=k.mag();if("minZoom"in t){var O=r.clamp(Math.min(t.minZoom,f,m),p.minZoom,p.maxZoom),M=S/p.zoomScale(O-f);E=Math.sqrt(M/T*2)}var P=E*E,A=n(0),z=function(t){return s(A)/s(A+E*t)},j=function(t){return S*((s(A)*u(A+E*t)-o(A))/P)/T},I=(n(1)-A)/E;if(Math.abs(T)<1e-6||!isFinite(I)){if(Math.abs(S-C)<1e-6)return this.easeTo(t,e);var L=C<S?-1:1;I=Math.abs(Math.log(C/S))/E,j=function(){return 0},z=function(t){return Math.exp(L*E*t)}}if("duration"in t)t.duration=+t.duration;else{var D="screenSpeed"in t?+t.screenSpeed/E:+t.speed;t.duration=1e3*I/D}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=h!==y,this.pitching=v!==d,this._prepareEase(e,!1),this._ease(function(t){var n=t*I,r=1/z(n);p.zoom=f+p.scaleZoom(r),c.rotating&&(p.bearing=i(h,y,t)),c.pitching&&(p.pitch=i(d,v,t));var o=p.unproject(w.add(k.mult(j(n))).mult(r));p.setLocationAtPoint(p.renderWorldCopies?o.wrap():o,b),c._fireMoveEvents(e)},function(){return c._afterEase(e)},t),this},e.prototype.isEasing=function(){return!!this._isEasing},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._onFrame&&this._finishAnimation(),this},e.prototype._ease=function(t,e,n){var r=this;!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=o.now(),this._isEasing=!0,this._easeOptions=n,this._startAnimation(function(e){var n=Math.min((o.now()-r._easeStart)/r._easeOptions.duration,1);t(r._easeOptions.easing(n)),1===n&&r.stop()},function(){r._isEasing=!1,e()}))},e.prototype._updateCamera=function(){this._onFrame&&this._onFrame(this.transform)},e.prototype._startAnimation=function(t,e){return void 0===e&&(e=function(){}),this.stop(),this._onFrame=t,this._finishFn=e,this._update(),this},e.prototype._finishAnimation=function(){delete this._onFrame;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e}(u);e.exports=c},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":158,"../util/browser":252,"../util/evented":260,"../util/util":275,"@mapbox/point-geometry":4}],232:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/config"),a=function(t){this.options=t,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(t){var n=e.reduce(function(t,n,r){return n.value&&(t+=n.key+"="+n.value+(r<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r].getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),t.length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=a},{"../../util/config":256,"../../util/dom":259,"../../util/util":275}],233:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=function(){this._fullscreen=!1,i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullScreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":259,"../../util/util":275,"../../util/window":254}],234:[function(t,e,n){"use strict";function r(t){void 0!==i?t(i):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){i="denied"!==e.state,t(i)}):(i=!!s.navigator.geolocation,t(i))}var i,o=t("../../util/evented"),a=t("../../util/dom"),s=t("../../util/window"),l=t("../../util/util"),u=t("../../geo/lng_lat"),c=t("../marker"),p={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},f=function(t){function e(e){t.call(this),this.options=l.extend({},p,e),l.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),a.remove(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new u(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=a.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new c(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},e}(o);e.exports=f},{"../../geo/lng_lat":62,"../../util/dom":259,"../../util/evented":260,"../../util/util":275,"../../util/window":254,"../marker":248}],235:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=function(){i.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){this._map=t,this._container=r.create("div","mapboxgl-ctrl");var e=r.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=o},{"../../util/dom":259,"../../util/util":275}],236:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../handler/drag_rotate"),a={showCompass:!0,showZoom:!0},s=function(t){var e=this;this.options=i.extend({},a,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()})),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};s.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},s.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new o(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},s.prototype.onRemove=function(){r.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},s.prototype._createButton=function(t,e,n){var i=r.create("button",t,this._container);return i.type="button",i.setAttribute("aria-label",e),i.addEventListener("click",n),i},e.exports=s},{"../../util/dom":259,"../../util/util":275,"../handler/drag_rotate":242}],237:[function(t,e,n){"use strict";function r(t,e,n){var r=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=o(t.unproject([0,a]),t.unproject([r,a]));if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?i(e,r,l/5280,"mi"):i(e,r,l,"ft")}else if(n&&"nautical"===n.unit){var u=s/1852;i(e,r,u,"nm")}else i(e,r,s,"m")}function i(t,e,n,r){var i=a(n),o=i/n;"m"===r&&i>=1e3&&(i/=1e3,r="km"),t.style.width=e*o+"px",t.innerHTML=i+r}function o(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos((e.lng-t.lng)*n);return 6371e3*Math.acos(Math.min(o,1))}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),l=t("../../util/util"),u=function(t){this.options=t,l.bindAll(["_onMove"],this)};u.prototype.getDefaultPosition=function(){return"bottom-left"},u.prototype._onMove=function(){r(this._map,this._container,this.options)},u.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},u.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=u},{"../../util/dom":259,"../../util/util":275}],238:[function(t,e,n){"use strict"},{}],239:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),o=(new i).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":63,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],240:[function(t,e,n){"use strict";var r=t("../../util/util"),i=function(t){this._map=t,r.bindAll(["_onDblClick","_onZoomEnd"],this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.isActive=function(){return!!this._active},i.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},i.prototype._onDblClick=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},i.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},e.exports=i},{"../../util/util":275}],241:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=i.bezier(0,0,.3,1),l=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp","_onDragFrame","_onDragFinished"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.isActive=function(){return!!this._active},l.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},l.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},l.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._previousPos=r.mousePos(this._el,t),this._inertia=[[a.now(),this._previousPos]])},l.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this._lastMoveEvent=t,t.preventDefault();var e=r.mousePos(this._el,t);if(this._drainInertiaBuffer(),this._inertia.push([a.now(),e]),!this._previousPos)return void(this._previousPos=e);this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()}},l.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;e&&(t.setLocationAtPoint(t.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",e),this._fireEvent("move",e),this._previousPos=this._pos,delete this._lastMoveEvent)},l.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,delete this._pos,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},r=this._inertia;if(r.length<2)return void n();var i=r[r.length-1],o=r[0],a=i[1].sub(o[1]),l=(i[0]-o[0])/1e3;if(0===l||i[1].equals(o[1]))return void n();var u=a.mult(.3/l),c=u.mag();c>1400&&(c=1400,u._unit()._mult(c));var p=c/750,f=u.mult(-p/2);this._map.panBy(f,{duration:1e3*p,easing:s,noMoveStart:!0},{originalEvent:t})}},l.prototype._onUp=function(t){this._onDragFinished(t)},l.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},l.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},l.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},l.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button)},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],242:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=i.bezier(0,0,.25,1),l=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,i.bindAll(["_onDown","_onMove","_onUp","_onDragFrame","_onDragFinished"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.isActive=function(){return!!this._active},l.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},l.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},l.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,n=t.button;if(void 0!==o.InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(n=0),n!==e)return}else if(t.ctrlKey||0!==t.button)return;r.disableDrag(),o.document.addEventListener("mousemove",this._onMove,{capture:!0}),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[a.now(),this._map.getBearing()]],this._previousPos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},l.prototype._onMove=function(t){this._lastMoveEvent=t;var e=r.mousePos(this._el,t);if(!this._previousPos)return void(this._previousPos=e);this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()},l.prototype._onUp=function(t){o.document.removeEventListener("mousemove",this._onMove,{capture:!0}),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),r.enableDrag(),this._onDragFinished(t)},l.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;if(e){var n=this._previousPos,r=this._pos,i=.8*(n.x-r.x),o=-.5*(n.y-r.y),s=t.bearing-i,l=t.pitch-o,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([a.now(),this._map._normalizeBearing(s,c[1])]),t.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._previousPos=this._pos}},l.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)return void o();var a=i[0],l=i[i.length-1],u=i[i.length-2],c=n._normalizeBearing(r,u[1]),p=l[1]-a[1],f=p<0?-1:1,h=(l[0]-a[0])/1e3;if(0===p||0===h)return void o();var d=Math.abs(p*(.25/h));d>180&&(d=180);var m=d/180;c+=f*d*(m/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*m,easing:s,noMoveStart:!0},{originalEvent:t})}},l.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],243:[function(t,e,n){"use strict";function r(t){return t*(2-t)}var i=t("../../util/util"),o=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onKeyDown"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},o.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(a=1,t.preventDefault());break;default:return}var s=this._map,l=s.getZoom(),u={duration:300,delayEndEvents:500,easing:r,zoom:e?Math.round(l)+e*(t.shiftKey?2:1):l,bearing:s.getBearing()+15*n,pitch:s.getPitch()+10*i,offset:[100*-o,100*-a],center:s.getCenter()};s.easeTo(u,{originalEvent:t})}},e.exports=o},{"../../util/util":275}],244:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/browser"),a=t("../../util/window"),s=t("../../style-spec/util/interpolate").number,l=t("../../geo/lng_lat"),u=a.navigator.userAgent.toLowerCase(),c=-1!==u.indexOf("firefox"),p=-1!==u.indexOf("safari")&&-1===u.indexOf("chrom"),f=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,i.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};f.prototype.isEnabled=function(){return!!this._enabled},f.prototype.isActive=function(){return!!this._active},f.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},f.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},f.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,c&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,p&&(e/=3));var n=o.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()},f.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},f.prototype._start=function(t){if(this._delta){this._active=!0,this._map.moving=!0,this._map.zooming=!0,this._map.fire("movestart",{originalEvent:t}),this._map.fire("zoomstart",{originalEvent:t}),clearTimeout(this._finishTimeout);var e=r.mousePos(this._el,t);this._around=l.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._map._startAnimation(this._onScrollFrame,this._onScrollFinished)}},f.prototype._onScrollFrame=function(t){if(this.isActive()){if(0!==this._delta){var e="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);var r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}if("wheel"===this._type){var i=Math.min((o.now()-this._lastWheelEventTime)/200,1),a=this._easing(i);t.zoom=s(this._startZoom,this._targetZoom,a),1===i&&this._map.stop()}else t.zoom=this._targetZoom,this._map.stop();t.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire("move",{originalEvent:this._lastWheelEvent}),this._map.fire("zoom",{originalEvent:this._lastWheelEvent})}},f.prototype._onScrollFinished=function(){var t=this;this.isActive()&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.moving=!1,t._map.zooming=!1,t._map.fire("zoomend"),t._map.fire("moveend"),delete t._targetZoom},200))},f.prototype._smoothOutEasing=function(t){var e=i.ease;if(this._prevEase){var n=this._prevEase,r=(o.now()-n.start)/n.duration,a=n.easing(r+.01)-n.easing(r),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);e=i.bezier(s,l,.25,1)}return this._prevEase={start:o.now(),duration:t,easing:e},e},e.exports=f},{"../../geo/lng_lat":62,"../../style-spec/util/interpolate":158,"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],245:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=i.bezier(0,0,.15,1),l=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onStart","_onMove","_onEnd"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},l.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},l.prototype.disableRotation=function(){this._rotationDisabled=!0},l.prototype.enableRotation=function(){this._rotationDisabled=!1},l.prototype._onStart=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},l.prototype._onMove=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),i=e.add(n).div(2),o=e.sub(n),s=o.mag()/this._startVec.mag(),l=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var c={duration:0,around:u.unproject(i)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+l),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=u.transform.scaleZoom(this._startScale*s)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),s,i]),u.easeTo(c,{originalEvent:t})}else{var p=Math.abs(1-s)>.15;Math.abs(l)>10?this._gestureIntent="rotate":p&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},l.prototype._onEnd=function(t){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],i=e[0],a=n.transform.scaleZoom(this._startScale*r[1]),l=n.transform.scaleZoom(this._startScale*i[1]),u=a-l,c=(r[0]-i[0])/1e3,p=r[2];if(0===c||a===l)return void n.snapToNorth({},{originalEvent:t});var f=.15*u/c;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var h=1e3*Math.abs(f/(12*.15)),d=a+f*h/2e3;d<0&&(d=0),n.easeTo({zoom:d,duration:h,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(p)},{originalEvent:t})},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],246:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/window"),o=t("../util/throttle"),a=function(){r.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=o(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(t){return this._map=t,i.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return i.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},a.prototype._onHashChange=function(){var t=i.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var t=this.getHashString();i.history.replaceState("","",t)},e.exports=a},{"../util/throttle":272,"../util/util":275,"../util/window":254}],247:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var i=t("../util/util"),o=t("../util/browser"),a=t("../util/window"),s=t("../util/window"),l=s.HTMLImageElement,u=s.HTMLElement,c=t("../util/dom"),p=t("../util/ajax"),f=t("../style/style"),h=t("../style/evaluation_parameters"),d=t("../render/painter"),m=t("../geo/transform"),y=t("./hash"),v=t("./bind_handlers"),g=t("./camera"),b=t("../geo/lng_lat"),_=t("../geo/lng_lat_bounds"),x=t("@mapbox/point-geometry"),w=t("./control/attribution_control"),k=t("./control/logo_control"),E=t("@mapbox/mapbox-gl-supported"),S=t("../util/image"),C=S.RGBAImage;t("./events");var T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},O=function(t){function e(e){if(e=i.extend({},T,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new m(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming;var r=e.transformRequest;if(this._transformRequest=r?function(t,e){return r(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var o=a.document.getElementById(e.container);if(!o)throw new Error("Container '"+e.container+"' not found.");this._container=o}else{if(!(e.container instanceof u))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),v(this,e),this._hash=e.hash&&(new y).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new w),this.addControl(new k,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new _(this.transform.pointLocation(new x(0,this.transform.height)),this.transform.pointLocation(new x(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new x(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new x(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new _([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=_.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(b.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(x.convert(t))},e.prototype.on=function(e,n,r){var o=this;if(void 0===r)return t.prototype.on.call(this,e,n);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:n,listener:r,delegates:{mousemove:function(a){var s=o.getLayer(n)?o.queryRenderedFeatures(a.point,{layers:[n]}):[];s.length?t||(t=!0,r.call(o,i.extend({features:s},a,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function(t){(o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(o,i.extend({},t,{type:e})))},mouseout:function(t){a&&(a=!1,r.call(o,i.extend({},t,{type:e})))}}}}var s=function(t){var e=o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&r.call(o,i.extend({features:e},t))};return{layer:n,listener:r,delegates:(l={},l[e]=s,l)};var l}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a);for(var s in a.delegates)o.on(s,a.delegates[s]);return this},e.prototype.off=function(e,n,r){var i=this;if(void 0===r)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===n&&s.listener===r){for(var l in s.delegates)i.off(l,s.delegates[l]);return o.splice(a,1),i}}return this},e.prototype.queryRenderedFeatures=function(t,e){return 2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&function(t){return t instanceof x||Array.isArray(t)}(arguments[0])?(t=arguments[0],e={}):1===arguments.length?(t=void 0,e=arguments[0]):(t=void 0,e={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[x.convert([0,0]),x.convert([this.transform.width,this.transform.height])]);var n;if(t instanceof x||"number"==typeof t[0])n=[x.convert(t)];else{var r=[x.convert(t[0]),x.convert(t[1])];n=[r[0],new x(r[1].x,r[0].y),r[1],new x(r[0].x,r[1].y),r[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){i.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new f(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e],r=n._tiles;for(var i in r){var o=r[i];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var i=n.sdf;if(void 0===i&&(i=!1),e instanceof l){var a=o.getImageData(e),s=a.width,u=a.height,c=a.data;this.style.addImage(t,{data:new C({width:s,height:u},c),pixelRatio:r,sdf:i})}else{if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var p=e.width,f=e.height,h=e.data;this.style.addImage(t,{data:new C({width:p,height:f},h.slice(0)),pixelRatio:r,sdf:i})}},e.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire("error",{error:new Error("Missing required image id")}),!1)},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){p.getImage(this._transformRequest(t,p.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0),this},e.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=c.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=c.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=c.create("div","mapboxgl-ctrl-"+t,r)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=i.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},E.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);if(!e)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new d(e,this.transform)},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},e.prototype._render=function(){this._updateCamera();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,n=o.now();this.style.zoomHistory.update(e,n);var r=new h(e,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(r)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),r(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=o.frame(function(){t._frameId=null,t._render()}))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(g);e.exports=O},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":90,"../style/evaluation_parameters":182,"../style/style":190,"../util/ajax":251,"../util/browser":252,"../util/dom":259,"../util/image":263,"../util/util":275,"../util/window":254,"./bind_handlers":230,"./camera":231,"./control/attribution_control":232,"./control/logo_control":235,"./events":238,"./hash":246,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],248:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("../geo/lng_lat"),o=t("@mapbox/point-geometry"),a=t("../util/smart_wrap"),s=t("../util/util"),l=s.bindAll,u=function(t,e){if(l(["_update","_onMapClick"],this),!t){t=r.create("div");var n=r.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var i=r.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],c=0,p=u;c<p.length;c+=1){var f=p[c],h=r.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",f.rx),h.setAttributeNS(null,"ry",f.ry),s.appendChild(h)}var d=r.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill","#3FB1CE");var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(m);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"opacity","0.25"),y.setAttributeNS(null,"fill","#000000");var v=r.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),y.appendChild(v);var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var b=r.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var x=r.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),b.appendChild(_),b.appendChild(x),a.appendChild(s),a.appendChild(d),a.appendChild(y),a.appendChild(g),a.appendChild(b),n.appendChild(a),t.appendChild(n);var w=[0,-14];e&&e.offset||(e?e.offset=w:e={offset:w})}this._offset=o.convert(e&&e.offset||[0,0]),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};u.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(t){return this._lngLat=i.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},u.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},u.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},u.prototype.getOffset=function(){return this._offset},u.prototype.setOffset=function(t){return this._offset=o.convert(t),this._update(),this},e.exports=u},{"../geo/lng_lat":62,"../util/dom":259,"../util/smart_wrap":270,"../util/util":275,"@mapbox/point-geometry":4}],249:[function(t,e,n){"use strict";function r(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l(-e,e),bottom:new l(0,-t),"bottom-left":new l(e,-e),"bottom-right":new l(-e,-e),left:new l(t,0),right:new l(-t,0)}}if(t instanceof l||Array.isArray(t)){var n=l.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return r(new l(0,0))}var i=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat"),l=t("@mapbox/point-geometry"),u=t("../util/window"),c=t("../util/smart_wrap"),p={closeButton:!0,closeOnClick:!0},f=function(t){function e(e){t.call(this),this.options=i.extend(Object.create(p),e),i.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=s.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(u.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=u.document.createDocumentFragment(),r=u.document.createElement("body");for(r.innerHTML=t;e=r.firstChild;)n.appendChild(e);return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=c(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,n=r(this.options.offset);if(!e){var i=this._container.offsetWidth,o=this._container.offsetHeight;e=t.y+n.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<i/2?e.push("left"):t.x>this._map.transform.width-i/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=t.add(n[e]).round(),l={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},u=this._container.classList;for(var p in l)u.remove("mapboxgl-popup-anchor-"+p);u.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,l[e]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(o);e.exports=f},{"../geo/lng_lat":62,"../util/dom":259,"../util/evented":260,"../util/smart_wrap":270,"../util/util":275,"../util/window":254,"@mapbox/point-geometry":4}],250:[function(t,e,n){"use strict";var r=t("./util"),i=t("./web_worker_transfer"),o=i.serialize,a=i.deserialize,s=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,r.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};s.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var a=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:o(e,a)},a)},s.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var s=function(t,e){var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?String(t):null,data:o(e,r)},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(new Error(r.error)):e&&e(null,a(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,a(r.data),s);else if(void 0!==r.id&&this.parent.getWorkerSource){var l=r.type.split("."),u=this.parent.getWorkerSource(r.sourceMapId,l[0]);u[l[1]](a(r.data),s)}else this.parent[r.type](a(r.data))}},s.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=s},{"./util":275,"./web_worker_transfer":278}],251:[function(t,e,n){"use strict";function r(t){var e=new o.XMLHttpRequest;e.open("GET",t.url,!0);for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}function i(t){var e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}var o=t("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};n.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=r(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new s(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=r(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var t=n.response;if(0===t.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:t,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new s(n.statusText,n.status))},n.send(),n};n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)e(t);else if(n){var r=new o.Image,i=o.URL||o.webkitURL;r.onload=function(){e(null,r),i.revokeObjectURL(r.src)};var a=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?i.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},n.getVideo=function(t,e){var n=o.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var a=o.document.createElement("source");i(t[r])||(n.crossOrigin="Anonymous"),a.src=t[r],n.appendChild(a)}return n}},{"./window":254}],252:[function(t,e,n){"use strict";var r=t("./window"),i=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;e.exports={now:i,frame:function(t){return o(t)},cancelFrame:function(t){return a(t)},getImageData:function(t){var e=r.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},hardwareConcurrency:r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},supportsWebp:!1};var s=r.document.createElement("img");s.onload=function(){e.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":254}],253:[function(t,e,n){"use strict";var r=t("webworkify"),i=t("../window"),o=i.URL.createObjectURL(new r(t("../../source/worker"),{bare:!0}));e.exports=function(){return new i.Worker(o)}},{"../../source/worker":118,"../window":254,webworkify:36}],254:[function(t,e,n){"use strict";e.exports=self},{}],255:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var i=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,l=[],u=0;u<n;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[t[u]]):a.push(t[u]))}if(a&&l.push(a),e>1)for(var p=0;p<l.length;p++)l[p].length<=e||(i(l[p],e,1,l[p].length-1,r),l[p]=l[p].slice(0,e));return l}},{"./util":275,quickselect:31}],256:[function(t,e,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=r},{}],257:[function(t,e,n){"use strict";var r=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];e._stringToNumber[r]=n,e._numberToString[n]=r}};r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]},e.exports=r},{}],258:[function(t,e,n){"use strict";var r=t("./util"),i=t("./actor"),o=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=o[a],l=new i(s,e,n.id);l.name="Worker "+a,n.actors.push(l)}};o.prototype.broadcast=function(t,e,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},o.prototype.send=function(t,e,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":250,"./util":275}],259:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e];return t[0]}var i=t("@mapbox/point-geometry"),o=t("./window");n.create=function(t,e,n){var r=o.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r},n.createNS=function(t,e){return o.document.createElementNS(t,e)};var a,s=o.document.documentElement.style,l=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){l&&(a=s[l],s[l]="none")},n.enableDrag=function(){l&&(s[l]=a)};var u=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[u]=e};var c=function(t){t.preventDefault(),t.stopPropagation(),o.removeEventListener("click",c,!0)};n.suppressClick=function(){o.addEventListener("click",c,!0),o.setTimeout(function(){o.removeEventListener("click",c,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new i(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],o="touchend"===e.type?e.changedTouches:e.touches,a=0;a<o.length;a++)r.push(new i(o[a].clientX-n.left-t.clientLeft,o[a].clientY-n.top-t.clientTop));return r},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":254,"@mapbox/point-geometry":4}],260:[function(t,e,n){"use strict";function r(t,e,n){n[t]=n[t]||[],n[t].push(e)}function i(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var o=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},r(t,e,this._listeners),this},a.prototype.off=function(t,e){return i(t,e,this._listeners),i(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},r(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var r=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0,s=r;a<s.length;a+=1)s[a].call(n,e);for(var l=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0,c=l;u<c.length;u+=1){var p=c[u];i(t,p,n._oneTimeListeners),p.call(n,e)}this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":275}],261:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function i(t,e,n,r){this.p=new l(t,e),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var c=o[a],p=o[l];c.y>t.y!=p.y>t.y&&t.x<(p.x-c.x)*(t.y-c.y)/(p.y-c.y)+c.x&&(n=!n),r=Math.min(r,u(t,c,p))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,o=t[0],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l],p=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*p,r+=(u.y+c.y)*p,e+=3*p}return new i(n/e,r/e,0,t)}var s=t("tinyqueue"),l=t("@mapbox/point-geometry"),u=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var o=1/0,u=1/0,c=-1/0,p=-1/0,f=t[0],h=0;h<f.length;h++){var d=f[h];(!h||d.x<o)&&(o=d.x),(!h||d.y<u)&&(u=d.y),(!h||d.x>c)&&(c=d.x),(!h||d.y>p)&&(p=d.y)}var m=c-o,y=p-u,v=Math.min(m,y),g=v/2,b=new s(null,r);if(0===v)return new l(o,u);for(var _=o;_<c;_+=v)for(var x=u;x<p;x+=v)b.push(new i(_+g,x+g,g,t));for(var w=a(t),k=b.length;b.length;){var E=b.pop();(E.d>w.d||!w.d)&&(w=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,k)),E.max-w.d<=e||(g=E.h/2,b.push(new i(E.p.x-g,E.p.y-g,g,t)),b.push(new i(E.p.x+g,E.p.y-g,g,t)),b.push(new i(E.p.x-g,E.p.y+g,g,t)),b.push(new i(E.p.x+g,E.p.y+g,g,t)),k+=4)}return n&&(console.log("num probes: "+k),console.log("best distance: "+w.d)),w.p}},{"./intersection_tests":264,"@mapbox/point-geometry":4,tinyqueue:33}],262:[function(t,e,n){"use strict";var r,i=t("./worker_pool");e.exports=function(){return r||(r=new i),r}},{"./worker_pool":279}],263:[function(t,e,n){"use strict";function r(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function i(t,e,n){var i=e.width,a=e.height;if(i!==t.width||a!==t.height){var s=r({},{width:i,height:a},n);o(t,s,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,a)},n),t.width=i,t.height=a,t.data=s.data}}function o(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}var a=t("./web_worker_transfer"),s=a.register,l=function(t,e){r(this,t,1,e)};l.prototype.resize=function(t){i(this,t,1)},l.prototype.clone=function(){return new l({width:this.width,height:this.height},new Uint8Array(this.data))},l.copy=function(t,e,n,r,i){o(t,e,n,r,i,1)};var u=function(t,e){r(this,t,4,e)};u.prototype.resize=function(t){i(this,t,4)},u.prototype.clone=function(){return new u({width:this.width,height:this.height},new Uint8Array(this.data))},u.copy=function(t,e,n,r,i){o(t,e,n,r,i,4)},s("AlphaImage",l),s("RGBAImage",u),e.exports={AlphaImage:l,RGBAImage:u}},{"./web_worker_transfer":278}],264:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(h(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(h(t,e[r]))return!0;return!!l(t,e)}function i(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];if(h(i,l))return!0;if(c(l,i,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return f(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(f(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(f(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(l(a,e[u]))return!0}return!1}function a(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var l=0;l<i.length;l++)if(h(a,i[l]))return!0;if(s(a,i,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(l(t,e))return!0;for(var r=0;r<e.length;r++)if(c(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(c(t[i],e,n))return!0;return!1}function l(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(u(r,i,a,s))return!0}return!1}function u(t,e,n,r){return m(t,n,r)!==m(e,n,r)&&m(t,e,n)!==m(t,e,r)}function c(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(p(t,e[i-1],e[i])<r)return!0;return!1}function p(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function f(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,l=n.length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function h(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var d=t("./util"),m=d.isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:i,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:p}},{"./util":275}],265:[function(t,e,n){"use strict";var r={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=r},{}],266:[function(t,e,n){"use strict";var r=function(t,e){this.max=t,this.onRemove=e,this.reset()};r.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.getAndRemove(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.get=function(t){return this.has(t)?this.data[t]:null},r.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},r.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.getAndRemove(e.order[0]);n&&e.onRemove(n)}return this},e.exports=r},{}],267:[function(t,e,n){"use strict";function r(t,e){var n=a(l.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!l.REQUIRE_ACCESS_TOKEN)return s(t);if(!(e=e||l.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function i(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(l.ACCESS_TOKEN||""))}function a(t){var e=t.match(f);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var l=t("./config"),u=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=i,n.normalizeStyleURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,r(n,e)},n.normalizeGlyphsURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,r(n,e)},n.normalizeSourceURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,e)},n.normalizeSpriteURL=function(t,e,n,o){var l=a(t);return i(t)?(l.path="/styles/v1"+l.path+"/sprite"+e+n,r(l,o)):(l.path+=""+e+n,s(l))};var p=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!i(e))return t;var r=a(t),l=u.devicePixelRatio>=2||512===n?"@2x":"",c=u.supportsWebp?".webp":"$1";return r.path=r.path.replace(p,""+l+c),o(r.params),s(r)};var f=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":252,"./config":256}],268:[function(t,e,n){"use strict";e.exports={getEntriesByName:function(t){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(t)}}},{}],269:[function(t,e,n){"use strict";var r=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsIdeographicBreaking(i.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(n.charHasUprightVerticalOrientation(i.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsLetterSpacing(i.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!r.Arabic(t)&&!r["Arabic Supplement"](t)&&!r["Arabic Extended-A"](t)&&!r["Arabic Presentation Forms-A"](t)&&!r["Arabic Presentation Forms-B"](t)},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!r["Bopomofo Extended"](t)||!!r.Bopomofo(t)||!!r["CJK Compatibility Forms"](t)||!!r["CJK Compatibility Ideographs"](t)||!!r["CJK Compatibility"](t)||!!r["CJK Radicals Supplement"](t)||!!r["CJK Strokes"](t)||!!r["CJK Symbols and Punctuation"](t)||!!r["CJK Unified Ideographs Extension A"](t)||!!r["CJK Unified Ideographs"](t)||!!r["Enclosed CJK Letters and Months"](t)||!!r["Halfwidth and Fullwidth Forms"](t)||!!r.Hiragana(t)||!!r["Ideographic Description Characters"](t)||!!r["Kangxi Radicals"](t)||!!r["Katakana Phonetic Extensions"](t)||!!r.Katakana(t)||!!r["Vertical Forms"](t)||!!r["Yi Radicals"](t)||!!r["Yi Syllables"](t))},n.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!r["Bopomofo Extended"](t)||!!r.Bopomofo(t)||!(!r["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!r["CJK Compatibility Ideographs"](t)||!!r["CJK Compatibility"](t)||!!r["CJK Radicals Supplement"](t)||!!r["CJK Strokes"](t)||!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!r["CJK Unified Ideographs Extension A"](t)||!!r["CJK Unified Ideographs"](t)||!!r["Enclosed CJK Letters and Months"](t)||!!r["Hangul Compatibility Jamo"](t)||!!r["Hangul Jamo Extended-A"](t)||!!r["Hangul Jamo Extended-B"](t)||!!r["Hangul Jamo"](t)||!!r["Hangul Syllables"](t)||!!r.Hiragana(t)||!!r["Ideographic Description Characters"](t)||!!r.Kanbun(t)||!!r["Kangxi Radicals"](t)||!!r["Katakana Phonetic Extensions"](t)||!(!r.Katakana(t)||12540===t)||!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!r["Unified Canadian Aboriginal Syllabics"](t)||!!r["Unified Canadian Aboriginal Syllabics Extended"](t)||!!r["Vertical Forms"](t)||!!r["Yijing Hexagram Symbols"](t)||!!r["Yi Syllables"](t)||!!r["Yi Radicals"](t))},n.charHasNeutralVerticalOrientation=function(t){return!(!r["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||!(!r["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||!!r["Letterlike Symbols"](t)||!!r["Number Forms"](t)||!(!r["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||!(!r["Control Pictures"](t)||9251===t)||!!r["Optical Character Recognition"](t)||!!r["Enclosed Alphanumerics"](t)||!!r["Geometric Shapes"](t)||!(!r["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||!(!r["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||!!r["CJK Symbols and Punctuation"](t)||!!r.Katakana(t)||!!r["Private Use Area"](t)||!!r["CJK Compatibility Forms"](t)||!!r["Small Form Variants"](t)||!!r["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":265}],270:[function(t,e,n){"use strict";var r=t("../geo/lng_lat");e.exports=function(t,e,n){if(t=new r(t.lng,t.lat),e){var i=new r(t.lng-360,t.lat),o=new r(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(e);n.locationPoint(i).distSqr(e)<a?t=i:n.locationPoint(o).distSqr(e)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":62}],271:[function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map(function(t){var a=i(t.type),s=n=o(n,Math.max(e,a)),l=t.components||1;return r=Math.max(r,a),n+=a*l,{name:t.name,type:t.type,components:l,offset:s}}),size:o(n,Math.max(r,e)),alignment:e}}function i(t){return a[t].BYTES_PER_ELEMENT}function o(t,e){return Math.ceil(t/e)*e}var a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},s=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},l=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};l.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},l.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},l.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},l.prototype.clear=function(){this.length=0},l.prototype.resize=function(t){this.reserve(t),this.length=t},l.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},l.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},e.exports.StructArray=l,e.exports.Struct=s,e.exports.viewTypes=a,e.exports.createLayout=r},{}],272:[function(t,e,n){"use strict";e.exports=function(t,e){var n=!1,r=0,i=function(){r=0,n&&(t(),r=setTimeout(i,e),n=!1)};return function(){return n=!0,r||i(),r}}},{}],273:[function(t,e,n){"use strict";function r(t,e,n,r){function i(e,i,a){var u,c,p,f;if(a>=0&&a<=o)for(u=e;u<i;u++)c=Math.floor(u/o),p=(u%o+o)%o,0!==c&&!0!==r||(f=new l(n,c,t,p,a),s[f.key]=f)}void 0===r&&(r=!0);var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,i),a(e[2],e[3],e[0],0,o,i),Object.keys(s).map(function(t){return s[t]})}function i(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,p=e.dx<0,f=o;f<a;f++){var h=l*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,d=u*Math.max(0,Math.min(e.dy,f+p-e.y0))+e.x0;i(Math.floor(d),Math.ceil(h),f)}}function a(t,e,n,r,a,s){var l,u=i(t,e),c=i(e,n),p=i(n,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>p.dy&&(l=u,u=p,p=l),c.dy>p.dy&&(l=c,c=p,p=l),u.dy&&o(p,u,r,a,s),c.dy&&o(p,c,r,a,s)}var s=(t("../geo/coordinate"),t("../source/tile_id")),l=s.OverscaledTileID;e.exports=r},{"../geo/coordinate":61,"../source/tile_id":114}],274:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}e.exports=r},{}],275:[function(t,e,n){"use strict";var r=t("@mapbox/unitbezier"),i=t("../geo/coordinate");t("@mapbox/point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,i){var o=new r(t,e,n,i);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n};var o=1;n.uniqueId=function(){return o++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,o=-1/0,a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),o=Math.max(o,t[a].row);var s=r-e,l=o-n,u=Math.max(s,l),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new i((e+r)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},n.mapObject=function(t,e,n){var r=this,i={};for(var o in t)i[o]=e.call(n||r,t[o],o,t);return i},n.filterObject=function(t,e,n){var r=this,i={};for(var o in t)e.call(n||r,t[o],o,t)&&(i[o]=t[o]);return i},n.deepEqual=t("../style-spec/util/deep_equal"),n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],a=t[i],e+=(a.x-o.x)*(o.y+a.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,r,i){var o=r||i;return n[e]=!o||o.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":61,"../style-spec/util/deep_equal":155,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],276:[function(t,e,n){"use strict";var r=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},i={geometry:{}};i.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},i.geometry.set=function(t){this._geometry=t},r.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(r.prototype,i),e.exports=r},{}],277:[function(t,e,n){"use strict";var r=t("./script_detection");e.exports=function(t){for(var n="",i=0;i<t.length;i++){var o=t.charCodeAt(i+1)||null,a=t.charCodeAt(i-1)||null;o&&r.charHasRotatedVerticalOrientation(o)&&!e.exports.lookup[t[i+1]]||a&&r.charHasRotatedVerticalOrientation(a)&&!e.exports.lookup[t[i-1]]||!e.exports.lookup[t[i]]?n+=t[i]:n+=e.exports.lookup[t[i]]}return n},e.exports.lookup={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"}},{"./script_detection":269}],278:[function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),b[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}function i(t,e){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof g)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],o=0,a=t;o<a.length;o+=1){var s=a[o];r.push(i(s,e))}return r}if("object"==typeof t){var l=t.constructor,u=l._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c={};if(l.serialize)c._serialized=l.serialize(t,e);else for(var p in t)if(t.hasOwnProperty(p)&&!(b[u].omit.indexOf(p)>=0)){var f=t[p];c[p]=b[u].shallow.indexOf(p)>=0?f:i(f,e)}return{name:u,properties:c}}throw new Error("can't serialize object of type "+typeof t)}function o(t){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof g)return t;if(Array.isArray(t))return t.map(function(t){return o(t)});if("object"==typeof t){var e=t,n=e.name,r=e.properties;if(!n)throw new Error("can't deserialize object of anonymous class");var i=b[n],a=i.klass;if(!a)throw new Error("can't deserialize unregistered class "+n);if(a.deserialize)return a.deserialize(r._serialized);for(var s=Object.create(a.prototype),l=0,u=Object.keys(r);l<u.length;l+=1){var c=u[l];s[c]=b[n].shallow.indexOf(c)>=0?r[c]:o(r[c])}return s}throw new Error("can't deserialize object of type "+typeof t)}var a=t("grid-index"),s=t("../style-spec/util/color"),l=t("../style-spec/expression"),u=l.StylePropertyFunction,c=l.StyleExpression,p=l.StyleExpressionWithErrorHandling,f=l.ZoomDependentExpression,h=l.ZoomConstantExpression,d=t("../style-spec/expression/compound_expression"),m=d.CompoundExpression,y=t("../style-spec/expression/definitions"),v=t("./window"),g=v.ImageData,b={};r("Object",Object),a.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),n},a.deserialize=function(t){return new a(t)},r("Grid",a),r("Color",s),r("StylePropertyFunction",u),r("StyleExpression",c,{omit:["_evaluator"]}),r("StyleExpressionWithErrorHandling",p,{omit:["_evaluator"]}),r("ZoomDependentExpression",f),r("ZoomConstantExpression",h),r("CompoundExpression",m,{omit:["_evaluate"]});for(var _ in y)y[_]._classRegistryKey||r("Expression_"+_,y[_]);e.exports={register:r,serialize:i,deserialize:o}},{"../style-spec/expression":139,"../style-spec/expression/compound_expression":123,"../style-spec/expression/definitions":131,"../style-spec/util/color":153,"./window":254,"grid-index":24}],279:[function(t,e,n){"use strict";var r=t("./web_worker"),i=function(){this.active={}};i.prototype.acquire=function(e){var n=this;if(!this.workers){var i=t("../").workerCount;for(this.workers=[];this.workers.length<i;)n.workers.push(new r)}return this.active[e]=!0,this.workers.slice()},i.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=i},{"../":73,"./web_worker":253}]},{},[73])(73)})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(14),s=n.n(a),l=n(100),u=n(29),c=n(199),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=["longitude","latitude","zoom","bearing","pitch"],h=["latitude","longitude","zoom","width","height"],d=["bearing","pitch"];!function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.propNames=f,t}o(e,t),p(e,[{key:"initializeProps",value:function(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var l,u=h[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value,f=t[p],m=e[p];s()(Object(c.b)(f)&&Object(c.b)(m),p+" must be supplied for transition"),n[p]=f,r[p]=Object(c.a)(p,f,m)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var y=!0,v=!1,g=void 0;try{for(var b,_=d[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var x=b.value,w=t[x]||0,k=e[x]||0;n[x]=w,r[x]=Object(c.a)(x,w,k)}}catch(t){v=!0,g=t}finally{try{!y&&_.return&&_.return()}finally{if(v)throw g}}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r=Object(u.b)(t,e,n),i=!0,o=!1,a=void 0;try{for(var s,l=d[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var p=s.value;r[p]=Object(c.c)(t[p],e[p],n)}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return r}}])}(l.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(14),s=n.n(a),l=n(100),u=n(199),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=["longitude","latitude","zoom","bearing","pitch"],f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.propNames=t,n}return o(e,t),c(e,[{key:"initializeProps",value:function(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var l,c=this.propNames[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value,f=t[p],h=e[p];s()(Object(u.b)(f)&&Object(u.b)(h),p+" must be supplied for transition"),n[p]=f,r[p]=Object(u.a)(p,f,h)}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,l=this.propNames[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;r[c]=Object(u.c)(t[c],e[c],n)}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return r}}]),e}(l.a);e.a=f},function(t,e,n){"use strict";var r=n(555);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){t.preventDefault()}var o=n(200),a=n(558),s=n(559),l=n(560),u=n(58),c=n(561),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.options=n,this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var i=n.events;i&&this.on(i)}return p(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager||o.a;this.manager=new r(t,{recognizers:n.recognizers||u.e}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(u.f).forEach(function(t){var n=e.manager.get(t);n&&u.f[t].forEach(function(t){n.recognizeWith(t)})}),this.wheelInput=new a.a(t,this._onOtherEvent,{enable:!1}),this.moveInput=new s.a(t,this._onOtherEvent,{enable:!1}),this.keyInput=new l.a(t,this._onOtherEvent,{enable:!1}),n.rightButton&&t.addEventListener("contextmenu",i),this.eventHandlers.forEach(function(t){var n=t.recognizerName,r=t.eventAlias,i=t.wrappedHandler;e._toggleRecognizer(n,!0),e.manager.on(r,i)})}}},{key:"destroy",value:function(){this.element&&(this.element.removeEventListener("contextmenu",i),this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){if("string"===typeof t)this._addEventHandler(t,e,n);else{n=e;for(var r in t)this._addEventHandler(r,t[r],n)}}},{key:"off",value:function(t,e){if("string"===typeof t)this._removeEventHandler(t,e);else for(var n in t)this._removeEventHandler(n,t[n])}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r){r.set({enable:e});var i=u.g[t];i&&!this.options.recognizers&&i.forEach(function(r){var i=n.get(r);e?i.requireFailure(t):i.dropRequireFailure(t)})}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.manager,i=this.eventHandlers,o=this._wrapEventHandler(t,e,n),a=u.c[t]||t,s=u.b[a]||a;this._toggleRecognizer(s,!0);var l=i.filter(function(t){return t.eventAlias===a&&t.srcElement!==n&&(!t.srcElement||t.srcElement.contains(n))});i.push({event:t,eventAlias:a,recognizerName:s,srcElement:n,handler:e,wrappedHandler:o}),l.forEach(function(t){return r.off(a,t.wrappedHandler)}),r&&r.on(a,o),l.forEach(function(t){return r.on(a,t.wrappedHandler)})}},{key:"_removeEventHandler",value:function(t,e){for(var n=this.manager,r=this.eventHandlers,i=!1,o=r.length;o--;){var a=r[o];a.event===t&&a.handler===e&&(n&&n.off(a.eventAlias,a.wrappedHandler),r.splice(o,1),i=!0)}if(i){var s=u.c[t]||t,l=u.b[s]||s;r.find(function(t){return t.recognizerName===l})||this._toggleRecognizer(l,!1)}}},{key:"_wrapEventHandler",value:function(t,e,n){var r=this;return function(i){var o=i.mjolnirEvent;(o||(o=r._normalizeEvent(i),i.mjolnirEvent=o),o.handled&&o.handled!==n)||(!n||n.contains(i.srcEvent.target))&&e(Object.assign({},o,{type:t,stopPropagation:function(){o.handled||(o.handled=n)}}))}}},{key:"_normalizeEvent",value:function(t){var e=this.element;return Object.assign({},t,Object(c.b)(t),Object(c.a)(t,e),{handled:!1,rootElement:e})}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=u.a[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();e.a=f},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function i(t){var e=t.prototype.handler;t.prototype.handler=function(t){var n=this.store;t.button>0&&(r(n,function(e){return e.pointerId===t.pointerId})||n.push(t)),e.call(this,t)}}function o(t){t.prototype.handler=function(t){var e=u[t.type];e&a&&t.button>=0&&(this.pressed=!0),e&s&&0===t.which&&(e=l),this.pressed&&(e&l&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}e.b=i,e.a=o;var a=1,s=2,l=4,u={mousedown:a,mousemove:s,mouseup:l}},function(t,e,n){var r;!function(i,o,a,s){"use strict";function l(t,e,n){return setTimeout(h(t,n),e)}function u(t,e,n){return!!Array.isArray(t)&&(c(t,n[e],n),!0)}function c(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function p(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}function f(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&dt(r,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==vt?t.apply(e?e[0]||s:s,e):t}function m(t,e){return t===s?e:t}function y(t,e,n){c(_(e),function(e){t.addEventListener(e,n,!1)})}function v(t,e,n){c(_(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];x(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function E(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<mt.length;){if(n=mt[o],(r=n?n+i:e)in t)return r;o++}return s}function S(){return kt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}function T(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function O(t){var e=t.options.inputClass;return new(e||(Ct?V:Tt?q:St?Z:U))(t,M)}function M(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&Mt&&r-i===0,a=e&(At|zt)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=j(e)),i>1&&!n.firstMultiple?n.firstMultiple=j(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=e.center=I(r);e.timeStamp=_t(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(s,l),e.distance=R(s,l),A(n,e),e.offsetDirection=D(e.deltaX,e.deltaY);var u=L(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=bt(u.x)>bt(u.y)?u.x:u.y,e.scale=a?F(a.pointers,r):1,e.rotation=a?B(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,z(n,e);var c=t.element;g(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function A(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Mt&&o.eventType!==At||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function z(t,e){var n,r,i,o,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=zt&&(l>Ot||a.velocity===s)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,p=L(l,u,c);r=p.x,i=p.y,n=bt(p.x)>bt(p.y)?p.x:p.y,o=D(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}function j(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:gt(t.pointers[n].clientX),clientY:gt(t.pointers[n].clientY)},n++;return{timeStamp:_t(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:gt(t[0].clientX),y:gt(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:gt(n/e),y:gt(r/e)}}function L(t,e,n){return{x:e/t||0,y:n/t||0}}function D(t,e){return t===e?jt:bt(t)>=bt(e)?t<0?It:Lt:e<0?Dt:Rt}function R(t,e,n){n||(n=Ut);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function N(t,e,n){n||(n=Ut);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function B(t,e){return N(e[1],e[0],Vt)+N(t[1],t[0],Vt)}function F(t,e){return R(e[0],e[1],Vt)/R(t[0],t[1],Vt)}function U(){this.evEl=Wt,this.evWin=qt,this.pressed=!1,T.apply(this,arguments)}function V(){this.evEl=Xt,this.evWin=Yt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=$t,this.evWin=Jt,this.started=!1,T.apply(this,arguments)}function W(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(At|zt)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}function q(){this.evTarget=te,this.targetIds={},T.apply(this,arguments)}function G(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Mt|Pt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=w(t.changedTouches),s=[],l=this.target;if(o=n.filter(function(t){return g(t.target,l)}),e===Mt)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(At|zt)&&delete r[a[i].identifier],i++;return s.length?[k(o.concat(s),"identifier",!0),s]:void 0}function Z(){T.apply(this,arguments);var t=h(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new U(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function X(t,e){t&Mt?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(At|zt)&&Y.call(this,e)}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(i,ee)}}function K(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=ne&&a<=ne)return!0}return!1}function $(t,e){this.manager=t,this.set(e)}function J(t){if(b(t,se))return se;var e=b(t,le),n=b(t,ue);return e&&n?se:e||n?e?le:ue:b(t,ae)?ae:oe}function Q(t){this.options=dt({},this.defaults,t||{}),this.id=S(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}function tt(t){return t&ye?"cancel":t&de?"end":t&he?"move":t&fe?"start":""}function et(t){return t==Rt?"down":t==Dt?"up":t==It?"left":t==Lt?"right":""}function nt(t,e){var n=e.manager;return n?n.get(t):t}function rt(){Q.apply(this,arguments)}function it(){rt.apply(this,arguments),this.pX=null,this.pY=null}function ot(){rt.apply(this,arguments)}function at(){Q.apply(this,arguments),this._timer=null,this._input=null}function st(){rt.apply(this,arguments)}function lt(){rt.apply(this,arguments)}function ut(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ct(t,e){return e=e||{},e.recognizers=m(e.recognizers,ct.defaults.preset),new pt(t,e)}function pt(t,e){this.options=dt({},ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=O(this),this.touchAction=new $(this,this.options.touchAction),ft(this,!0),c(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var r;c(t.options.cssProps,function(i,o){r=E(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var dt,mt=["","webkit","Moz","MS","ms","o"],yt=o.createElement("div"),vt="function",gt=Math.round,bt=Math.abs,_t=Date.now;dt="function"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var xt=p(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),wt=p(function(t,e){return xt(t,e,!0)},"merge","Use `assign`."),kt=1,Et=/mobile|tablet|ip(ad|hone|od)|android/i,St="ontouchstart"in i,Ct=E(i,"PointerEvent")!==s,Tt=St&&Et.test(navigator.userAgent),Ot=25,Mt=1,Pt=2,At=4,zt=8,jt=1,It=2,Lt=4,Dt=8,Rt=16,Nt=It|Lt,Bt=Dt|Rt,Ft=Nt|Bt,Ut=["x","y"],Vt=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(C(this.element),this.evWin,this.domHandler)}};var Ht={mousedown:Mt,mousemove:Pt,mouseup:At},Wt="mousedown",qt="mousemove mouseup";f(U,T,{handler:function(t){var e=Ht[t.type];e&Mt&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=At),this.pressed&&(e&At&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Gt={pointerdown:Mt,pointermove:Pt,pointerup:At,pointercancel:zt,pointerout:zt},Zt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Xt="pointerdown",Yt="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Xt="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel"),f(V,T,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Gt[r],o=Zt[t.pointerType]||t.pointerType,a="touch"==o,s=x(e,t.pointerId,"pointerId");i&Mt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(At|zt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Kt={touchstart:Mt,touchmove:Pt,touchend:At,touchcancel:zt},$t="touchstart",Jt="touchstart touchmove touchend touchcancel";f(H,T,{handler:function(t){var e=Kt[t.type];if(e===Mt&&(this.started=!0),this.started){var n=W.call(this,t,e);e&(At|zt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Qt={touchstart:Mt,touchmove:Pt,touchend:At,touchcancel:zt},te="touchstart touchmove touchend touchcancel";f(q,T,{handler:function(t){var e=Qt[t.type],n=G.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var ee=2500,ne=25;f(Z,T,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)X.call(this,e,n);else if(i&&K.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var re=E(yt.style,"touchAction"),ie=re!==s,oe="auto",ae="manipulation",se="none",le="pan-x",ue="pan-y",ce=function(){if(!ie)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();$.prototype={set:function(t){"compute"==t&&(t=this.compute()),ie&&this.manager.element.style&&ce[t]&&(this.manager.element.style[re]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return c(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=b(r,se)&&!ce[se],o=b(r,ue)&&!ce[ue],a=b(r,le)&&!ce[le];if(i){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}return a&&o?void 0:i||o&&n&Nt||a&&n&Bt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var pe=1,fe=2,he=4,de=8,me=de,ye=16;Q.prototype={defaults:{},set:function(t){return dt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=nt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=nt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=nt(t,this),-1===x(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=nt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<de&&e(n.options.event+tt(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=de&&e(n.options.event+tt(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|pe)))return!1;t++}return!0},recognize:function(t){var e=dt({},t);if(!d(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(me|ye|32)&&(this.state=pe),this.state=this.process(e),this.state&(fe|he|de|ye)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},f(rt,Q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(fe|he),i=this.attrTest(t);return r&&(n&zt||!i)?e|ye:r||i?n&At?e|de:e&fe?e|he:fe:32}}),f(it,rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(ue),t&Bt&&e.push(le),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Nt?(i=0===o?jt:o<0?It:Lt,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?jt:a<0?Dt:Rt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return rt.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(ot,rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f(at,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(At|zt)&&!i)this.reset();else if(t.eventType&Mt)this.reset(),this._timer=l(function(){this.state=me,this.tryEmit()},e.time,this);else if(t.eventType&At)return me;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===me&&(t&&t.eventType&At?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_t(),this.manager.emit(this.options.event,this._input)))}}),f(st,rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),f(lt,rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|Bt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|Bt)?e=t.overallVelocity:n&Nt?e=t.overallVelocityX:n&Bt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&At},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(ut,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&Mt&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=At)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=me,this.tryEmit()},e.interval,this),fe):me}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==me&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ct.VERSION="2.0.7",ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[ot,{enable:!1},["rotate"]],[lt,{direction:Nt}],[it,{direction:Nt},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};pt.prototype={set:function(t){return dt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&me)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(fe|he|de)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Q)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return c(_(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return c(_(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},dt(ct,{INPUT_START:Mt,INPUT_MOVE:Pt,INPUT_END:At,INPUT_CANCEL:zt,STATE_POSSIBLE:pe,STATE_BEGAN:fe,STATE_CHANGED:he,STATE_ENDED:de,STATE_RECOGNIZED:me,STATE_CANCELLED:ye,STATE_FAILED:32,DIRECTION_NONE:jt,DIRECTION_LEFT:It,DIRECTION_RIGHT:Lt,DIRECTION_UP:Dt,DIRECTION_DOWN:Rt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Bt,DIRECTION_ALL:Ft,Manager:pt,Input:T,TouchAction:$,TouchInput:q,MouseInput:U,PointerEventInput:V,TouchMouseInput:Z,SingleTouchInput:H,Recognizer:Q,AttrRecognizer:rt,Tap:ut,Pan:it,Swipe:lt,Pinch:ot,Rotate:st,Press:at,on:y,off:v,each:c,merge:wt,extend:xt,assign:dt,inherit:f,bindFn:h,prefixed:E}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=ct,(r=function(){return ct}.call(e,n,e,t))!==s&&(t.exports=r)}(window,document)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(58),o=n(201),a=(n.n(o),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),s=-1!==o.userAgent.indexOf("firefox"),l=i.d.WHEEL_EVENTS,u=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.time=0,this.wheelPosition=null,this.type=null,this.timeout=null,this.lastValue=0,this.events=l.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(t){return e.addEventListener(t,i.handleEvent)})}return a(t,[{key:"destroy",value:function(){var t=this;this.events.forEach(function(e){return t.element.removeEventListener(e,t.handleEvent)})}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){t.preventDefault();var e=t.deltaY;o.window.WheelEvent&&(s&&t.deltaMode===o.window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.window.devicePixelRatio),t.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n=this.type,r=this.timeout,i=this.lastValue,a=this.time,l=(o.window&&o.window.performance||Date).now(),u=l-(a||0);this.wheelPosition={x:t.clientX,y:t.clientY},a=l,0!==e&&e%4.000244140625===0?(n="wheel",e=Math.floor(e/4.000244140625)):0!==e&&Math.abs(e)<4?n="trackpad":u>400?(n=null,i=e,r=o.window.setTimeout(function(){this._onWheel(t,-i,this.wheelPosition),n="wheel"}.bind(this),40)):n||(n=Math.abs(u*e)<200?"trackpad":"wheel",r&&(o.window.clearTimeout(r),r=null,e+=i)),t.shiftKey&&e&&(e*=.25),n&&this._onWheel(t,-e,this.wheelPosition)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}();e.a=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(58),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=i.d.MOUSE_EVENTS,s=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},o),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=a.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(t){return e.addEventListener(t,i.handleEvent)})}return o(t,[{key:"destroy",value:function(){var t=this;this.events.forEach(function(e){return t.element.removeEventListener(e,t.handleEvent)})}},{key:"enableEventType",value:function(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){if(this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target}),this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(58),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=i.d.KEY_EVENTS,s=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=a.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=1,e.style.outline="none",this.events.forEach(function(t){return e.addEventListener(t,i.handleEvent)})}return o(t,[{key:"destroy",value:function(){var t=this;this.events.forEach(function(e){return t.element.removeEventListener(e,t.handleEvent)})}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t){var e=l[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,g=n.which,b=!1,_=!1,x=!1;return e===s||e===a&&!Number.isFinite(r)?(b=g===u,_=g===c,x=g===p):e===a?(b=Boolean(r&m),_=Boolean(r&v),x=Boolean(r&y)):e===o&&(b=i===f,_=i===h,x=i===d),{leftButton:b,middleButton:_,rightButton:x}}function i(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}e.b=r,e.a=i;var o=1,a=2,s=4,l={pointerdown:o,pointermove:a,pointerup:s,mousedown:o,mousemove:a,mouseup:s},u=1,c=2,p=3,f=0,h=1,d=2,m=1,y=2,v=4},function(t,e,n){"use strict";var r=n(563),i=n.n(r),o=i.a.webkit||i.a.blink?"-webkit-":i.a.gecko?"-moz-":"";e.a={DEFAULTS:{},CURSOR:{GRABBING:o+"grabbing",GRAB:o+"grab",POINTER:"pointer"}}},function(t,e,n){!function(e,r,i){"undefined"!=typeof t&&t.exports?t.exports=i():n(564)("bowser",i)}(0,0,function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var r,i=e(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(t),s=!o&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),p=/silk/i.test(t),f=/sailfish/i.test(t),h=/tizen/i.test(t),d=/(web|hpw)os/i.test(t),m=/windows phone/i.test(t),y=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!i&&!p&&/macintosh/i.test(t),g=!s&&!f&&!h&&!d&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=e(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!x&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);/opera/i.test(t)?r={name:"Opera",opera:a,version:_||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?r={name:"Opera",opera:a,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?r={name:"Samsung Internet for Android",samsungBrowser:a,version:_||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:a,version:_||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:a,version:_||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:a,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:a,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:a,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:a,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:a,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:a,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},b?(r.msedge=a,r.version=b):(r.msie=a,r.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:a,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?r={name:"Microsoft Edge",msedge:a,version:b}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:a,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?r={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:a,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:a,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=a,r.osname="Firefox OS")):p?r={name:"Amazon Silk",silk:a,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:a,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:a,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:_||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(r={name:"WebOS",osname:"WebOS",webos:a,version:_||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=a)):/bada/i.test(t)?r={name:"Bada",osname:"Bada",bada:a,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:h?r={name:"Tizen",osname:"Tizen",tizen:a,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:a,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?r={name:"Chromium",chromium:a,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:a,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?r={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:a},_&&(r.version=_)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:a,version:e(/googlebot\/(\d+(\.\d+))/i)||_}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=a):(r.name=r.name||"Webkit",r.webkit=a),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=a,r.version=r.version||e(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!s&&!r.silk?!r.windowsphone&&i?(r[i]=a,r.ios=a,r.osname="iOS"):v?(r.mac=a,r.osname="macOS"):k?(r.xbox=a,r.osname="Xbox"):y?(r.windows=a,r.osname="Windows"):g&&(r.linux=a,r.osname="Linux"):(r.android=a,r.osname="Android");var E="";r.windows?E=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?E=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(E=e(/Mac OS X (\d+([_\.\s]\d+)*)/i),E=E.replace(/[_\s]/g,".")):i?(E=e(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):s?E=e(/android[ \/-](\d+(\.\d+)*)/i):r.webos?E=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?E=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?E=e(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(E=e(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(r.osversion=E);var S=!r.windows&&E.split(".")[0];return x||u||"ipad"==i||s&&(3==S||S>=4&&!w)||r.silk?r.tablet=a:(w||"iphone"==i||"ipod"==i||s||l||r.blackberry||r.webos||r.bada)&&(r.mobile=a),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=a:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=a:r.x=a,r}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),i=n(t,function(t){var i=r-e(t);return t+=new Array(i+1).join(".0"),n(t.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(e,n,i){var o=s;"string"===typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(o=t(i));var a=""+o.version;for(var l in e)if(e.hasOwnProperty(l)&&o[l]){if("string"!==typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return r([a,e[l]])<0}return n}function o(t,e,n){return!i(t,e,n)}var a=!0,s=t("undefined"!==typeof navigator?navigator.userAgent||"":"");return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"===typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=o,s._detect=t,s.detect=t,s})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign({},u.a.propTypes,{className:l.a.string,longitude:l.a.number.isRequired,latitude:l.a.number.isRequired,offsetLeft:l.a.number,offsetTop:l.a.number}),h=Object.assign({},u.a.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),d=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.offsetLeft,o=t.offsetTop,s=this.context.viewport.project([n,r]),l=c(s,2),u=l[0],p=l[1],f={position:"absolute",left:u+i,top:p+o};return Object(a.createElement)("div",{className:"mapboxgl-marker "+e,ref:this._onContainerLoad,style:f,children:this.props.children})}}]),e}(u.a);d.displayName="Marker",d.propTypes=f,d.defaultProps=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=n(567),p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=Object.assign({},u.a.propTypes,{className:l.a.string,longitude:l.a.number.isRequired,latitude:l.a.number.isRequired,offsetLeft:l.a.number,offsetTop:l.a.number,tipSize:l.a.number,closeButton:l.a.bool,closeOnClick:l.a.bool,anchor:l.a.oneOf(Object.keys(c.a)),dynamicPosition:l.a.bool,onClose:l.a.func}),d=Object.assign({},u.a.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function(){}}),m=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._getPosition=n._getPosition.bind(n),n._onClose=n._onClose.bind(n),n._contentLoaded=n._contentLoaded.bind(n),n._renderTip=n._renderTip.bind(n),n._renderContent=n._renderContent.bind(n),n}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this.context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize;return this._content&&o?Object(c.b)({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):i}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_contentLoaded",value:function(t){this._content=t}},{key:"_renderTip",value:function(){var t=this.props.tipSize;return Object(a.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children;return Object(a.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[e&&Object(a.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},"\xd7"),n])}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.offsetLeft,o=t.offsetTop,s=t.closeOnClick,l=this.context.viewport.project([n,r]),u=p(l,2),f=u[0],h=u[1],d=this._getPosition(f,h),m=c.a[d],y={position:"absolute",left:f+i,top:h+o,transform:"translate("+100*-m.x+"%, "+100*-m.y+"%)"};return Object(a.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-"+d+" "+e,style:y,ref:this._onContainerLoad,onClick:s?this._onClose:null},[this._renderTip(),this._renderContent()])}}]),e}(u.a);m.displayName="Popup",m.propTypes=h,m.defaultProps=d},function(t,e,n){"use strict";function r(t){var e=t.x,n=t.y,r=t.width,o=t.height,a=t.selfWidth,s=t.selfHeight,l=t.anchor,u=t.padding,c=void 0===u?0:u,p=i[l],f=p.x,h=p.y,d=n-h*s,m=d+s;if(d<c)for(;d<c&&h>=.5;)h-=.5,d+=.5*s;else if(m>o-c)for(;m>o-c&&h<=.5;)h+=.5,m-=.5*s;var y=e-f*a,v=y+a,g=.5;if(.5===h&&(f=Math.floor(f),g=1),y<c)for(;y<c&&f>=g;)f-=g,y+=g*a;else if(v>r-c)for(;v>r-c&&f<=1-g;)f+=g,v-=g*a;return Object.keys(i).find(function(t){var e=i[t];return e.x===f&&e.y===h})}n.d(e,"a",function(){return i}),e.b=r;var i={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=n(56),p=n(57),f=n(203),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=Object.assign({},p.b.defaultProps,{transitionDuration:300}),m=Object.assign({},u.a.propTypes,{className:l.a.string,onViewportChange:l.a.func.isRequired,showCompass:l.a.bool,showZoom:l.a.bool}),y=Object.assign({},u.a.defaultProps,{className:"",onViewportChange:function(){},showCompass:!0,showZoom:!0}),v=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object(f.a)(t),n._updateViewport=n._updateViewport.bind(n),n._onZoomIn=n._onZoomIn.bind(n),n._onZoomOut=n._onZoomOut.bind(n),n._onResetNorth=n._onResetNorth.bind(n),n._renderCompass=n._renderCompass.bind(n),n._renderButton=n._renderButton.bind(n),n}return o(e,t),h(e,[{key:"shouldComponentUpdate",value:function(t,e,n){return this.context.viewport.bearing!==n.viewport.bearing}},{key:"_updateViewport",value:function(t){var e=this.context.viewport,n=new c.b(Object.assign({},e,t));(this.props.onChangeViewport||this.props.onViewportChange)(Object.assign({},n.getViewportProps(),d))}},{key:"_onZoomIn",value:function(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function(){var t=this.context.viewport.bearing;return Object(a.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate("+t+"deg)"}})}},{key:"_renderButton",value:function(t,e,n,r){return Object(a.createElement)("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-"+t,type:"button",title:e,onClick:n,children:r})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom;return Object(a.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group "+e,ref:this._onContainerLoad},[r&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),r&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),n&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}]),e}(u.a);v.displayName="NavigationControl",v.propTypes=m,v.defaultProps=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=n(570),p=(n.n(c),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),f=Object.assign({},u.a.propTypes,{redraw:l.a.func.isRequired}),h={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._redraw=n._redraw.bind(n),n._canvasLoaded=n._canvasLoaded.bind(n),n}return o(e,t),p(e,[{key:"componentDidMount",value:function(){this._redraw()}},{key:"componentDidUpdate",value:function(){this._redraw()}},{key:"_redraw",value:function(){var t=c.window.devicePixelRatio||1,e=this._canvas,n=e.getContext("2d");n.save(),n.scale(t,t);var r=this.context,i=r.viewport,o=r.isDragging;this.props.redraw({width:i.width,height:i.height,ctx:n,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),n.restore()}},{key:"_canvasLoaded",value:function(t){this._canvas=t,this._onContainerLoad(t)}},{key:"render",value:function(){var t=c.window.devicePixelRatio||1,e=this.context.viewport,n=e.width,r=e.height;return Object(a.createElement)("canvas",{ref:this._canvasLoaded,width:n*t,height:r*t,style:{width:n+"px",height:r+"px",position:"absolute",pointerEvents:"none",left:0,top:0}})}}]),e}(u.a);d.displayName="CanvasOverlay",d.propTypes=f,d.defaultProps=h},function(t,e,n){(function(e){t.exports={window:"undefined"!==typeof window?window:e,global:"undefined"!==typeof e?e:window,document:"undefined"!==typeof document?document:{}}}).call(e,n(7))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=Object.assign({},u.a.propTypes,{redraw:l.a.func.isRequired,style:l.a.object}),f={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},h=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"render",value:function(){var t=this.context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",pointerEvents:"none",left:0,top:0,width:e.width,height:e.height},this.props.style);return Object(a.createElement)("div",{ref:this._onContainerLoad,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),e}(u.a);h.displayName="HTMLOverlay",h.propTypes=p,h.defaultProps=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=(n.n(a),n(2)),l=n.n(s),u=n(17),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=Object.assign({},u.a.propTypes,{redraw:l.a.func.isRequired,style:l.a.object}),f={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},h=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"render",value:function(){var t=this.context,e=t.viewport,n=t.isDragging,r=Object.assign({pointerEvents:"none",position:"absolute",left:0,top:0},this.props.style);return Object(a.createElement)("svg",{width:e.width,height:e.height,ref:this._onContainerLoad,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),e}(u.a);h.displayName="SVGOverlay",h.propTypes=p,h.defaultProps=f},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{type:"ADD_POINT",payload:t}}},function(t,e,n){"use strict";var r=n(204),i=(n.n(r),n(575)),o=function(t){return t.map};e.a=Object(r.createSelector)([i.a,o],function(t,e){return{mapStyle:t,viewport:e}})},function(t,e,n){"use strict";var r=n(204),i=(n.n(r),n(576)),o=(n.n(i),n(205)),a=n.n(o),s=n(577),l=n.n(s),u=n(12),c=n.n(u),p=n(143),f=n.n(p),h=n(578),d=n.n(h),m=Object(i.fromJS)(d.a),y=function(t){return t.dataSources},v=function(t){return{type:"geojson",data:t.geoJson}},g=function(t){return"ds-"+t.id},b=function(t){var e=g(t);return[{id:e+"-fill",source:e,type:"fill",paint:{"fill-color":t.color,"fill-opacity":.5}},{id:e+"-line",source:e,type:"line",paint:{"line-color":t.color,"line-opacity":.9}},{id:e+"-point",source:e,type:"circle",paint:{"circle-radius":5,"circle-color":t.color,"circle-opacity":.9},filter:["==","$type","Point"]}]},_=function(t){return a()(l()(t,g),v)},x=function(t){return f()(c()(t,b))};e.a=Object(r.createSelector)([y],function(t){var e=_(t),n=x(t);return m.mergeIn(["sources"],e).updateIn(["layers"],function(t){return t.concat(Object(i.fromJS)(n))})})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:M(t)}function n(t){return a(t)?t:P(t)}function r(t){return s(t)?t:A(t)}function i(t){return o(t)&&!l(t)?t:z(t)}function o(t){return!(!t||!t[un])}function a(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[pn])}function l(t){return a(t)||s(t)}function u(t){return!(!t||!t[fn])}function c(t){return t.value=!1,t}function p(t){t&&(t.value=!0)}function f(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function m(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function y(){return!0}function v(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return _(t,e,0)}function b(t,e){return _(t,e,e)}function _(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function x(t){this.next=t}function w(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function k(){return{value:void 0,done:!0}}function E(t){return!!T(t)}function S(t){return t&&"function"===typeof t.next}function C(t){var e=T(t);return e&&e.call(t)}function T(t){var e=t&&(wn&&t[wn]||t[kn]);if("function"===typeof e)return e}function O(t){return t&&"number"===typeof t.length}function M(t){return null===t||void 0===t?N():o(t)?t.toSeq():U(t)}function P(t){return null===t||void 0===t?N().toKeyedSeq():o(t)?a(t)?t.toSeq():t.fromEntrySeq():B(t)}function A(t){return null===t||void 0===t?N():o(t)?a(t)?t.entrySeq():t.toIndexedSeq():F(t)}function z(t){return(null===t||void 0===t?N():o(t)?a(t)?t.entrySeq():t:F(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function I(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function L(t){this._iterable=t,this.size=t.length||t.size}function D(t){this._iterator=t,this._iteratorCache=[]}function R(t){return!(!t||!t[Sn])}function N(){return Cn||(Cn=new j([]))}function B(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():S(t)?new D(t).fromEntrySeq():E(t)?new L(t).fromEntrySeq():"object"===typeof t?new I(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function F(t){var e=V(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function U(t){var e=V(t)||"object"===typeof t&&new I(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function V(t){return O(t)?new j(t):S(t)?new D(t):E(t)?new L(t):void 0}function H(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function W(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new x(function(){var t=i[n?o-a:a];return a++>o?k():w(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function q(t,e){return e?G(e,t,"",{"":t}):Z(t)}function G(t,e,n,r){return Array.isArray(e)?t.call(r,n,A(e).map(function(n,r){return G(t,n,r,e)})):X(e)?t.call(r,n,P(e).map(function(n,r){return G(t,n,r,e)})):e}function Z(t){return Array.isArray(t)?A(t).map(Z).toList():X(t)?P(t).map(Z).toMap():t}function X(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Y(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function K(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||s(t)!==s(e)||u(t)!==u(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(u(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&Y(i[1],t)&&(n||Y(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var c=t;t=e,e=c}var p=!0,f=e.__iterate(function(e,r){if(n?!t.has(e):i?!Y(e,t.get(r,yn)):!Y(t.get(r,yn),e))return p=!1,!1});return p&&t.size===f}function $(t,e){if(!(this instanceof $))return new $(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Tn)return Tn;Tn=this}}function J(t,e){if(!t)throw new Error(e)}function Q(t,e,n){if(!(this instanceof Q))return new Q(t,e,n);if(J(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(On)return On;On=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Dn?at(t):st(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return lt(t);if("function"===typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function at(t){var e=Bn[t];return void 0===e&&(e=st(t),Nn===Rn&&(Nn=0,Bn={}),Nn++,Bn[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function lt(t){var e;if(jn&&void 0!==(e=Mn.get(t)))return e;if(void 0!==(e=t[Ln]))return e;if(!zn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ln]))return e;if(void 0!==(e=ut(t)))return e}if(e=++In,1073741824&In&&(In=0),jn)Mn.set(t,e);else{if(void 0!==An&&!1===An(t))throw new Error("Non-extensible objects are not allowed as keys.");if(zn)Object.defineProperty(t,Ln,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ln]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ln]=e}}return e}function ut(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ct(t){J(t!==1/0,"Cannot perform this action with an infinite size.")}function pt(t){return null===t||void 0===t?wt():ft(t)&&!u(t)?t:wt().withMutations(function(e){var r=n(t);ct(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function ft(t){return!(!t||!t[Fn])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function mt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&_t(t._root)}function bt(t,e){return w(t,e[0],e[1])}function _t(t,e){return{node:t,index:0,__prev:e}}function xt(t,e,n,r){var i=Object.create(Un);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function wt(){return Vn||(Vn=xt(0))}function kt(t,e,n){var r,i;if(t._root){var o=c(vn),a=c(gn);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===yn?-1:1:0)}else{if(n===yn)return t;i=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?xt(i,r):wt()}function Et(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===yn?t:(p(s),p(a),new vt(e,r,[i,o]))}function St(t){return t.constructor===vt||t.constructor===yt}function Ct(t,e,n,r,i){if(t.keyHash===r)return new yt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&mn,s=(0===n?r:r>>>n)&mn;return new dt(e,1<<a|1<<s,a===s?[Ct(t,e,n+hn,r,i)]:(o=new vt(e,r,i),a<s?[t,o]:[o,t]))}function Tt(t,e,n,r){t||(t=new f);for(var i=new vt(t,ot(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Ot(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];void 0!==c&&s!==r&&(i|=l,a[o++]=c)}return new dt(t,i,a)}function Mt(t,e,n,r,i){for(var o=0,a=new Array(dn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new mt(t,o+1,a)}function Pt(t,e,r){for(var i=[],a=0;a<r.length;a++){var s=r[a],l=n(s);o(s)||(l=l.map(function(t){return q(t)})),i.push(l)}return jt(t,e,i)}function At(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Y(t,e)?t:e}function zt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return Y(e,i)?e:i}}function jt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,yn,function(t){return t===yn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function It(t,e,n,r){var i=t===yn,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}J(i||t&&t.set,"invalid keyPath");var l=o.value,u=i?yn:t.get(l,yn),c=It(u,e,n,r);return c===u?t:c===yn?t.remove(l):(i?wt():t).set(l,c)}function Lt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Dt(t,e,n,r){var i=r?t:h(t);return i[e]=n,i}function Rt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function Nt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}function Bt(t){var e=Wt();if(null===t||void 0===t)return e;if(Ft(t))return t;var n=r(t),i=n.size;return 0===i?e:(ct(i),i>0&&i<dn?Ht(0,i,hn,null,new Ut(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Ft(t){return!(!t||!t[Gn])}function Ut(t,e){this.array=t,this.ownerID=e}function Vt(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===s?l&&l.array:t&&t.array,i=n>o?0:o-n,u=a-n;return u>dn&&(u=dn),function(){if(i===u)return Yn;var t=e?--u:i++;return r&&r[t]}}function i(t,r,i){var s,l=t&&t.array,u=i>o?0:o-i>>r,c=1+(a-i>>r);return c>dn&&(c=dn),function(){for(;;){if(s){var t=s();if(t!==Yn)return t;s=null}if(u===c)return Yn;var o=e?--c:u++;s=n(l&&l[o],r-hn,i+(o<<r))}}}var o=t._origin,a=t._capacity,s=$t(a),l=t._tail;return n(t._root,t._level,0)}function Ht(t,e,n,r,i,o,a){var s=Object.create(Zn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Wt(){return Xn||(Xn=Ht(0,0,hn))}function qt(t,e,n){if((e=m(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Yt(t,e).set(0,n):Yt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=c(gn);return e>=$t(t._capacity)?r=Gt(r,t.__ownerID,0,e,n,o):i=Gt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ht(t._origin,t._capacity,t._level,i,r):t}function Gt(t,e,n,r,i,o){var a=r>>>n&mn,s=t&&a<t.array.length;if(!s&&void 0===i)return t;var l;if(n>0){var u=t&&t.array[a],c=Gt(u,e,n-hn,r,i,o);return c===u?t:(l=Zt(t,e),l.array[a]=c,l)}return s&&t.array[a]===i?t:(p(o),l=Zt(t,e),void 0===i&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function Zt(t,e){return e&&t&&e===t.ownerID?t:new Ut(t?t.array.slice():[],e)}function Xt(t,e){if(e>=$t(t._capacity))return t._tail;if(e<1<<t._level+hn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&mn],r-=hn;return n}}function Yt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new f,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var l=t._level,u=t._root,c=0;a+c<0;)u=new Ut(u&&u.array.length?[void 0,u]:[],r),l+=hn,c+=1<<l;c&&(a+=c,i+=c,s+=c,o+=c);for(var p=$t(o),h=$t(s);h>=1<<l+hn;)u=new Ut(u&&u.array.length?[u]:[],r),l+=hn;var d=t._tail,m=h<p?Xt(t,s-1):h>p?new Ut([],r):d;if(d&&h>p&&a<o&&d.array.length){u=Zt(u,r);for(var y=u,v=l;v>hn;v-=hn){var g=p>>>v&mn;y=y.array[g]=Zt(y.array[g],r)}y.array[p>>>hn&mn]=d}if(s<o&&(m=m&&m.removeAfter(r,0,s)),a>=h)a-=h,s-=h,l=hn,u=null,m=m&&m.removeBefore(r,0,a);else if(a>i||h<p){for(c=0;u;){var b=a>>>l&mn;if(b!==h>>>l&mn)break;b&&(c+=(1<<l)*b),l-=hn,u=u.array[b]}u&&a>i&&(u=u.removeBefore(r,l,a-c)),u&&h<p&&(u=u.removeAfter(r,l,h-c)),c&&(a-=c,s-=c)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=l,t._root=u,t._tail=m,t.__hash=void 0,t.__altered=!0,t):Ht(a,s,l,u,m)}function Kt(t,e,n){for(var i=[],a=0,s=0;s<n.length;s++){var l=n[s],u=r(l);u.size>a&&(a=u.size),o(l)||(u=u.map(function(t){return q(t)})),i.push(u)}return a>t.size&&(t=t.setSize(a)),jt(t,e,i)}function $t(t){return t<dn?0:t-1>>>hn<<hn}function Jt(t){return null===t||void 0===t?ee():Qt(t)?t:ee().withMutations(function(e){var r=n(t);ct(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Qt(t){return ft(t)&&u(t)}function te(t,e,n,r){var i=Object.create(Jt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Kn||(Kn=te(wt(),Wt()))}function ne(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),l=void 0!==s;if(n===yn){if(!l)return t;a.size>=dn&&a.size>=2*o.size?(i=a.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ae(t){this._iter=t,this.size=t.size}function se(t){var e=Oe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Me,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===xn){var r=t.__iterator(e,n);return new x(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===_n?bn:_n,n)},e}function le(t,e,n){var r=Oe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,yn);return o===yn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(xn,i);return new x(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return w(r,s,e.call(n,a[1],s,t),i)})},r}function ue(t,e){var n=Oe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Me,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function ce(t,e,n,r){var i=Oe(t);return r&&(i.has=function(r){var i=t.get(r,yn);return i!==yn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,yn);return o!==yn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate(function(t,o,l){if(e.call(n,t,o,l))return s++,i(t,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(xn,o),s=0;return new x(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,u=l[0],c=l[1];if(e.call(n,c,u,t))return w(i,r?u:s++,c,o)}})},i}function pe(t,e,n){var r=pt().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function fe(t,e,n){var r=a(t),i=(u(t)?Jt():pt()).asMutable();t.__iterate(function(o,a){i.update(e.call(n,o,a,t),function(t){return t=t||[],t.push(r?[a,o]:o),t})});var o=Te(t);return i.map(function(e){return Ee(t,o(e))})}function he(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),v(e,n,i))return t;var o=g(e,i),a=b(n,i);if(o!==o||a!==a)return he(t.toSeq().cacheResult(),e,n,r);var s,l=a-o;l===l&&(s=l<0?0:l);var u=Oe(t);return u.size=0===s?s:t.size&&s||void 0,!r&&R(t)&&s>=0&&(u.get=function(e,n){return e=m(this,e),e>=0&&e<s?t.get(e+o,n):n}),u.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,l=!0,u=0;return t.__iterate(function(t,n){if(!l||!(l=a++<o))return u++,!1!==e(t,r?n:u-1,i)&&u!==s}),u},u.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,l=0;return new x(function(){for(;a++<o;)i.next();if(++l>s)return k();var t=i.next();return r||e===_n?t:e===bn?w(e,l-1,void 0,t):w(e,l-1,t.value[1],t)})},u}function de(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(xn,i),s=!0;return new x(function(){if(!s)return k();var t=a.next();if(t.done)return t;var i=t.value,l=i[0],u=i[1];return e.call(n,u,l,o)?r===xn?t:w(r,l,u,t):(s=!1,k())})},r}function me(t,e,n,r){var i=Oe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,l=0;return t.__iterate(function(t,o,u){if(!s||!(s=e.call(n,t,o,u)))return l++,i(t,r?o:l-1,a)}),l},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(xn,o),l=!0,u=0;return new x(function(){var t,o,c;do{if(t=s.next(),t.done)return r||i===_n?t:i===bn?w(i,u++,void 0,t):w(i,u++,t.value[1],t);var p=t.value;o=p[0],c=p[1],l&&(l=e.call(n,c,o,a))}while(l);return i===xn?t:w(i,o,c,t)})},i}function ye(t,e){var r=a(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?B(t):F(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var l=i[0];if(l===t||r&&a(l)||s(t)&&s(l))return l}var u=new j(i);return r?u=u.toKeyedSeq():s(t)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),u}function ve(t,e,n){var r=Oe(t);return r.__iterateUncached=function(r,i){function a(t,u){var c=this;t.__iterate(function(t,i){return(!e||u<e)&&o(t)?a(t,u+1):!1===r(t,n?i:s++,c)&&(l=!0),!l},i)}var s=0,l=!1;return a(t,0),s},r.__iteratorUncached=function(r,i){var a=t.__iterator(r,i),s=[],l=0;return new x(function(){for(;a;){var t=a.next();if(!1===t.done){var u=t.value;if(r===xn&&(u=u[1]),e&&!(s.length<e)||!o(u))return n?t:w(r,l++,u,t);s.push(a),a=u.__iterator(r,i)}else a=s.pop()}return k()})},r}function ge(t,e,n){var r=Te(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function be(t,e){var n=Oe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(_n,r),a=0;return new x(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?w(n,a++,e):w(n,a++,i.value,i)})},n}function _e(t,e,n){e||(e=Pe);var r=a(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?P(o):s(t)?A(o):z(o)}function xe(t,e,n){if(e||(e=Pe),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return we(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return we(e,t,n)?n:t})}function we(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function ke(t,n,r){var i=Oe(t);return i.size=new j(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(_n,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),C(i?t.reverse():t)}),a=0,s=!1;return new x(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?k():w(t,a++,n.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return R(t)?e:t.constructor(e)}function Se(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ce(t){return ct(t.size),d(t)}function Te(t){return a(t)?n:s(t)?r:i}function Oe(t){return Object.create((a(t)?P:s(t)?A:z).prototype)}function Me(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}function Pe(t,e){return t>e?1:t<e?-1:0}function Ae(t){var n=C(t);if(!n){if(!O(t))throw new TypeError("Expected iterable or array-like: "+t);n=C(e(t))}return n}function ze(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);Le(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=pt(o)},i=r.prototype=Object.create($n);return i.constructor=r,r}function je(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Ie(t){return t._name||t.constructor.name||"Record"}function Le(t,e){try{e.forEach(De.bind(void 0,t))}catch(t){}}function De(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){J(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Re(t){return null===t||void 0===t?Ue():Ne(t)&&!u(t)?t:Ue().withMutations(function(e){var n=i(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function Ne(t){return!(!t||!t[Jn])}function Be(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Fe(t,e){var n=Object.create(Qn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ue(){return tr||(tr=Fe(wt()))}function Ve(t){return null===t||void 0===t?qe():He(t)?t:qe().withMutations(function(e){var n=i(t);ct(n.size),n.forEach(function(t){return e.add(t)})})}function He(t){return Ne(t)&&u(t)}function We(t,e){var n=Object.create(er);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return nr||(nr=We(ee()))}function Ge(t){return null===t||void 0===t?Ye():Ze(t)?t:Ye().unshiftAll(t)}function Ze(t){return!(!t||!t[rr])}function Xe(t,e,n,r){var i=Object.create(ir);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ye(){return or||(or=Xe(0))}function Ke(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function $e(t,e){return e}function Je(t,e){return[e,t]}function Qe(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"===typeof t?JSON.stringify(t):String(t)}function nn(){return h(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=u(t),n=a(t),r=e?1:0;return an(t.__iterate(n?e?function(t,e){r=31*r+sn(ot(t),ot(e))|0}:function(t,e){r=r+sn(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0}),r)}function an(t,e){return e=Pn(e,3432918353),e=Pn(e<<15|e>>>-15,461845907),e=Pn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Pn(e^e>>>16,2246822507),e=Pn(e^e>>>13,3266489909),e=it(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ln=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=a,e.isIndexed=s,e.isAssociative=l,e.isOrdered=u,e.Keyed=n,e.Indexed=r,e.Set=i;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",pn="@@__IMMUTABLE_INDEXED__@@",fn="@@__IMMUTABLE_ORDERED__@@",hn=5,dn=1<<hn,mn=dn-1,yn={},vn={value:!1},gn={value:!1},bn=0,_n=1,xn=2,wn="function"===typeof Symbol&&Symbol.iterator,kn="@@iterator",En=wn||kn;x.prototype.toString=function(){return"[Iterator]"},x.KEYS=bn,x.VALUES=_n,x.ENTRIES=xn,x.prototype.inspect=x.prototype.toSource=function(){return this.toString()},x.prototype[En]=function(){return this},t(M,e),M.of=function(){return M(arguments)},M.prototype.toSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq {","}")},M.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},M.prototype.__iterate=function(t,e){return H(this,t,e,!0)},M.prototype.__iterator=function(t,e){return W(this,t,e,!0)},t(P,M),P.prototype.toKeyedSeq=function(){return this},t(A,M),A.of=function(){return A(arguments)},A.prototype.toIndexedSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq [","]")},A.prototype.__iterate=function(t,e){return H(this,t,e,!1)},A.prototype.__iterator=function(t,e){return W(this,t,e,!1)},t(z,M),z.of=function(){return z(arguments)},z.prototype.toSetSeq=function(){return this},M.isSeq=R,M.Keyed=P,M.Set=z,M.Indexed=A;var Sn="@@__IMMUTABLE_SEQ__@@";M.prototype[Sn]=!0,t(j,A),j.prototype.get=function(t,e){return this.has(t)?this._array[m(this,t)]:e},j.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},j.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new x(function(){return i>r?k():w(t,i,n[e?r-i++:i++])})},t(I,P),I.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},I.prototype.has=function(t){return this._object.hasOwnProperty(t)},I.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},I.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new x(function(){var a=r[e?i-o:o];return o++>i?k():w(t,a,n[a])})},I.prototype[fn]=!0,t(L,A),L.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=C(n),i=0;if(S(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,i++,this););return i},L.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=C(n);if(!S(r))return new x(k);var i=0;return new x(function(){var e=r.next();return e.done?e:w(t,i++,e.value)})},t(D,A),D.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===t(r[i],i++,this))return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,!1===t(a,i++,this))break}return i},D.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new x(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return w(t,i,r[i++])})};var Cn;t($,A),$.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$.prototype.get=function(t,e){return this.has(t)?this._value:e},$.prototype.includes=function(t){return Y(this._value,t)},$.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new $(this._value,b(e,n)-g(t,n))},$.prototype.reverse=function(){return this},$.prototype.indexOf=function(t){return Y(this._value,t)?0:-1},$.prototype.lastIndexOf=function(t){return Y(this._value,t)?this.size:-1},$.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},$.prototype.__iterator=function(t,e){var n=this,r=0;return new x(function(){return r<n.size?w(t,r++,n._value):k()})},$.prototype.equals=function(t){return t instanceof $?Y(this._value,t._value):K(t)};var Tn;t(Q,A),Q.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Q.prototype.get=function(t,e){return this.has(t)?this._start+m(this,t)*this._step:e},Q.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Q.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=g(t,this.size),e=b(e,this.size),e<=t?new Q(0,0):new Q(this.get(t,this._end),this.get(e,this._end),this._step))},Q.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Q.prototype.lastIndexOf=function(t){return this.indexOf(t)},Q.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},Q.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new x(function(){var a=i;return i+=e?-r:r,o>n?k():w(t,o++,a)})},Q.prototype.equals=function(t){return t instanceof Q?this._start===t._start&&this._end===t._end&&this._step===t._step:K(this,t)};var On;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Mn,Pn="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},An=Object.isExtensible,zn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),jn="function"===typeof WeakMap;jn&&(Mn=new WeakMap);var In=0,Ln="__immutablehash__";"function"===typeof Symbol&&(Ln=Symbol(Ln));var Dn=16,Rn=255,Nn=0,Bn={};t(pt,et),pt.of=function(){var t=ln.call(arguments,0);return wt().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},pt.prototype.toString=function(){return this.__toString("Map {","}")},pt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},pt.prototype.set=function(t,e){return kt(this,t,e)},pt.prototype.setIn=function(t,e){return this.updateIn(t,yn,function(){return e})},pt.prototype.remove=function(t){return kt(this,t,yn)},pt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yn})},pt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},pt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=It(this,Ae(t),e,n);return r===yn?void 0:r},pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wt()},pt.prototype.merge=function(){return Pt(this,void 0,arguments)},pt.prototype.mergeWith=function(t){return Pt(this,t,ln.call(arguments,1))},pt.prototype.mergeIn=function(t){var e=ln.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"===typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},pt.prototype.mergeDeep=function(){return Pt(this,At,arguments)},pt.prototype.mergeDeepWith=function(t){var e=ln.call(arguments,1);return Pt(this,zt(t),e)},pt.prototype.mergeDeepIn=function(t){var e=ln.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},pt.prototype.sort=function(t){return Jt(_e(this,t))},pt.prototype.sortBy=function(t,e){return Jt(_e(this,e,t))},pt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},pt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new f)},pt.prototype.asImmutable=function(){return this.__ensureOwner()},pt.prototype.wasAltered=function(){return this.__altered},pt.prototype.__iterator=function(t,e){return new gt(this,t,e)},pt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},pt.isMap=ft;var Fn="@@__IMMUTABLE_MAP__@@",Un=pt.prototype;Un[Fn]=!0,Un.delete=Un.remove,Un.removeIn=Un.deleteIn,ht.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Y(n,i[o][0]))return i[o][1];return r},ht.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===yn,l=this.entries,u=0,c=l.length;u<c&&!Y(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===i:s)return this;if(p(a),(s||!f)&&p(o),!s||1!==l.length){if(!f&&!s&&l.length>=Hn)return Tt(t,l,r,i);var d=t&&t===this.ownerID,m=d?l:h(l);return f?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,i]:m.push([r,i]),d?(this.entries=m,this):new ht(t,m)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&mn),o=this.bitmap;return 0===(o&i)?r:this.nodes[Lt(o&i-1)].get(t+hn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&mn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&i===yn)return this;var p=Lt(u&l-1),f=this.nodes,h=c?f[p]:void 0,d=Et(h,t,e+hn,n,r,i,o,a);if(d===h)return this;if(!c&&d&&f.length>=Wn)return Mt(t,f,u,s,d);if(c&&!d&&2===f.length&&St(f[1^p]))return f[1^p];if(c&&d&&1===f.length&&St(d))return d;var m=t&&t===this.ownerID,y=c?d?u:u^l:u|l,v=c?d?Dt(f,p,d,m):Nt(f,p,m):Rt(f,p,d,m);return m?(this.bitmap=y,this.nodes=v,this):new dt(t,y,v)},mt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&mn,o=this.nodes[i];return o?o.get(t+hn,e,n,r):r},mt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&mn,l=i===yn,u=this.nodes,c=u[s];if(l&&!c)return this;var p=Et(c,t,e+hn,n,r,i,o,a);if(p===c)return this;var f=this.count;if(c){if(!p&&--f<qn)return Ot(t,u,f,s)}else f++;var h=t&&t===this.ownerID,d=Dt(u,s,p,h);return h?(this.count=f,this.nodes=d,this):new mt(t,f,d)},yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Y(n,i[o][0]))return i[o][1];return r},yt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=ot(r));var s=i===yn;if(n!==this.keyHash)return s?this:(p(a),p(o),Ct(this,t,e,n,[r,i]));for(var l=this.entries,u=0,c=l.length;u<c&&!Y(r,l[u][0]);u++);var f=u<c;if(f?l[u][1]===i:s)return this;if(p(a),(s||!f)&&p(o),s&&2===c)return new vt(t,this.keyHash,l[1^u]);var d=t&&t===this.ownerID,m=d?l:h(l);return f?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,i]:m.push([r,i]),d?(this.entries=m,this):new yt(t,this.keyHash,m)},vt.prototype.get=function(t,e,n,r){return Y(n,this.entry[0])?this.entry[1]:r},vt.prototype.update=function(t,e,n,r,i,o,a){var s=i===yn,l=Y(r,this.entry[0]);return(l?i===this.entry[1]:s)?this:(p(a),s?void p(o):l?t&&t===this.ownerID?(this.entry[1]=i,this):new vt(t,this.keyHash,[r,i]):(p(o),Ct(this,t,e,ot(r),[r,i])))},ht.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},dt.prototype.iterate=mt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},vt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,x),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return bt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return bt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return bt(t,o.entry);e=this._stack=_t(o,e)}continue}e=this._stack=this._stack.__prev}return k()};var Vn,Hn=dn/4,Wn=dn/2,qn=dn/4;t(Bt,nt),Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString("List [","]")},Bt.prototype.get=function(t,e){if((t=m(this,t))>=0&&t<this.size){t+=this._origin;var n=Xt(this,t);return n&&n.array[t&mn]}return e},Bt.prototype.set=function(t,e){return qt(this,t,e)},Bt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Bt.prototype.insert=function(t,e){return this.splice(t,0,e)},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Wt()},Bt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Yt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Bt.prototype.pop=function(){return Yt(this,0,-1)},Bt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Yt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Bt.prototype.shift=function(){return Yt(this,1)},Bt.prototype.merge=function(){return Kt(this,void 0,arguments)},Bt.prototype.mergeWith=function(t){return Kt(this,t,ln.call(arguments,1))},Bt.prototype.mergeDeep=function(){return Kt(this,At,arguments)},Bt.prototype.mergeDeepWith=function(t){var e=ln.call(arguments,1);return Kt(this,zt(t),e)},Bt.prototype.setSize=function(t){return Yt(this,0,t)},Bt.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Yt(this,g(t,n),b(e,n))},Bt.prototype.__iterator=function(t,e){var n=0,r=Vt(this,e);return new x(function(){var e=r();return e===Yn?k():w(t,n++,e)})},Bt.prototype.__iterate=function(t,e){for(var n,r=0,i=Vt(this,e);(n=i())!==Yn&&!1!==t(n,r++,this););return r},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ht(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Bt.isList=Ft;var Gn="@@__IMMUTABLE_LIST__@@",Zn=Bt.prototype;Zn[Gn]=!0,Zn.delete=Zn.remove,Zn.setIn=Un.setIn,Zn.deleteIn=Zn.removeIn=Un.removeIn,Zn.update=Un.update,Zn.updateIn=Un.updateIn,Zn.mergeIn=Un.mergeIn,Zn.mergeDeepIn=Un.mergeDeepIn,Zn.withMutations=Un.withMutations,Zn.asMutable=Un.asMutable,Zn.asImmutable=Un.asImmutable,Zn.wasAltered=Un.wasAltered,Ut.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&mn;if(r>=this.array.length)return new Ut([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-hn,n))===a&&o)return this}if(o&&!i)return this;var s=Zt(this,t);if(!o)for(var l=0;l<r;l++)s.array[l]=void 0;return i&&(s.array[r]=i),s},Ut.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&mn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if((i=o&&o.removeAfter(t,e-hn,n))===o&&r===this.array.length-1)return this}var a=Zt(this,t);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Xn,Yn={};t(Jt,pt),Jt.of=function(){return this(arguments)},Jt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Jt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Jt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Jt.prototype.set=function(t,e){return ne(this,t,e)},Jt.prototype.remove=function(t){return ne(this,t,yn)},Jt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Jt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Jt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Jt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Jt.isOrderedMap=Qt,Jt.prototype[fn]=!0,Jt.prototype.delete=Jt.prototype.remove;var Kn;t(re,P),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ue(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=le(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ce(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(_n,e),r=e?Ce(this):0;return new x(function(){var i=n.next();return i.done?i:w(t,e?--r:r++,i.value,i)})},re.prototype[fn]=!0,t(ie,A),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e),r=0;return new x(function(){var e=n.next();return e.done?e:w(t,r++,e.value,e)})},t(oe,z),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e);return new x(function(){var e=n.next();return e.done?e:w(t,e.value,e.value,e)})},t(ae,P),ae.prototype.entrySeq=function(){return this._iter.toSeq()},ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Se(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(_n,e);return new x(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Se(r);var i=o(r);return w(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ae.prototype.cacheResult=Me,t(ze,et),ze.prototype.toString=function(){return this.__toString(Ie(this)+" {","}")},ze.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},ze.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},ze.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=je(this,wt()))},ze.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Ie(this));if(this._map&&!this._map.has(t)){if(e===this._defaultValues[t])return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:je(this,n)},ze.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:je(this,e)},ze.prototype.wasAltered=function(){return this._map.wasAltered()},ze.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},ze.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},ze.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?je(this,e,t):(this.__ownerID=t,this._map=e,this)};var $n=ze.prototype;$n.delete=$n.remove,$n.deleteIn=$n.removeIn=Un.removeIn,$n.merge=Un.merge,$n.mergeWith=Un.mergeWith,$n.mergeIn=Un.mergeIn,$n.mergeDeep=Un.mergeDeep,$n.mergeDeepWith=Un.mergeDeepWith,$n.mergeDeepIn=Un.mergeDeepIn,$n.setIn=Un.setIn,$n.update=Un.update,$n.updateIn=Un.updateIn,$n.withMutations=Un.withMutations,$n.asMutable=Un.asMutable,$n.asImmutable=Un.asImmutable,t(Re,rt),Re.of=function(){return this(arguments)},Re.fromKeys=function(t){return this(n(t).keySeq())},Re.prototype.toString=function(){return this.__toString("Set {","}")},Re.prototype.has=function(t){return this._map.has(t)},Re.prototype.add=function(t){return Be(this,this._map.set(t,!0))},Re.prototype.remove=function(t){return Be(this,this._map.remove(t))},Re.prototype.clear=function(){return Be(this,this._map.clear())},Re.prototype.union=function(){var t=ln.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Re.prototype.intersect=function(){var t=ln.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Re.prototype.subtract=function(){var t=ln.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Re.prototype.merge=function(){return this.union.apply(this,arguments)},Re.prototype.mergeWith=function(t){var e=ln.call(arguments,1);return this.union.apply(this,e)},Re.prototype.sort=function(t){return Ve(_e(this,t))},Re.prototype.sortBy=function(t,e){return Ve(_e(this,e,t))},Re.prototype.wasAltered=function(){return this._map.wasAltered()},Re.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Re.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Re.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Re.isSet=Ne;var Jn="@@__IMMUTABLE_SET__@@",Qn=Re.prototype;Qn[Jn]=!0,Qn.delete=Qn.remove,Qn.mergeDeep=Qn.merge,Qn.mergeDeepWith=Qn.mergeWith,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,Qn.__empty=Ue,Qn.__make=Fe;var tr;t(Ve,Re),Ve.of=function(){return this(arguments)},Ve.fromKeys=function(t){return this(n(t).keySeq())},Ve.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ve.isOrderedSet=He;var er=Ve.prototype;er[fn]=!0,er.__empty=qe,er.__make=We;var nr;t(Ge,nt),Ge.of=function(){return this(arguments)},Ge.prototype.toString=function(){return this.__toString("Stack [","]")},Ge.prototype.get=function(t,e){var n=this._head;for(t=m(this,t);n&&t--;)n=n.next;return n?n.value:e},Ge.prototype.peek=function(){return this._head&&this._head.value},Ge.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Xe(t,e)},Ge.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ct(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xe(e,n)},Ge.prototype.pop=function(){return this.slice(1)},Ge.prototype.unshift=function(){return this.push.apply(this,arguments)},Ge.prototype.unshiftAll=function(t){return this.pushAll(t)},Ge.prototype.shift=function(){return this.pop.apply(this,arguments)},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ye()},Ge.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=g(t,this.size);if(b(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Xe(r,i)},Ge.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ge.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Ge.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new x(function(){if(r){var e=r.value;return r=r.next,w(t,n++,e)}return k()})},Ge.isStack=Ze;var rr="@@__IMMUTABLE_STACK__@@",ir=Ge.prototype;ir[rr]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var or;e.Iterator=x,Ke(e,{toArray:function(){ct(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"===typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return pt(this.toKeyedSeq())},toObject:function(){ct(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Jt(this.toKeyedSeq())},toOrderedSet:function(){return Ve(a(this)?this.valueSeq():this)},toSet:function(){return Re(a(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ge(a(this)?this.valueSeq():this)},toList:function(){return Bt(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ee(this,ye(this,ln.call(arguments,0)))},includes:function(t){return this.some(function(e){return Y(e,t)})},entries:function(){return this.__iterator(xn)},every:function(t,e){ct(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ee(this,ce(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ct(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ct(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(bn)},map:function(t,e){return Ee(this,le(this,t,e))},reduce:function(t,e,n){ct(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ue(this,!0))},slice:function(t,e){return Ee(this,he(this,t,e,!0))},some:function(t,e){return!this.every(Qe(t),e)},sort:function(t){return Ee(this,_e(this,t))},values:function(){return this.__iterator(_n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return pe(this,t,e)},equals:function(t){return K(this,t)},entrySeq:function(){var t=this;if(t._cache)return new j(t._cache);var e=t.toSeq().map(Je).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Qe(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return Ee(this,ge(this,t,e))},flatten:function(t){return Ee(this,ve(this,t,!0))},fromEntrySeq:function(){return new ae(this)},get:function(t,e){return this.find(function(e,n){return Y(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Ae(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,yn):yn)===yn)return e}return r},groupBy:function(t,e){return fe(this,t,e)},has:function(t){return this.get(t,yn)!==yn},hasIn:function(t){return this.getIn(t,yn)!==yn},isSubset:function(t){return t="function"===typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"===typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return Y(e,t)})},keySeq:function(){return this.toSeq().map($e).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return xe(this,t)},maxBy:function(t,e){return xe(this,e,t)},min:function(t){return xe(this,t?tn(t):rn)},minBy:function(t,e){return xe(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,me(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Qe(t),e)},sortBy:function(t,e){return Ee(this,_e(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Qe(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ar=e.prototype;ar[un]=!0,ar[En]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=en,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,Ke(n,{flip:function(){return Ee(this,se(this))},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var sr=n.prototype;return sr[cn]=!0,sr[En]=ar.entries,sr.__toJS=ar.toObject,sr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ke(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Ee(this,ce(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ue(this,!1))},slice:function(t,e){return Ee(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ve(this,t,!1))},get:function(t,e){return t=m(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=m(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ee(this,be(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=ke(this.toSeq(),A.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},keySeq:function(){return Q(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,me(this,t,e,!1))},zip:function(){return Ee(this,ke(this,nn,[this].concat(h(arguments))))},zipWith:function(t){var e=h(arguments);return e[0]=this,Ee(this,ke(this,t,e))}}),r.prototype[pn]=!0,r.prototype[fn]=!0,Ke(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ar.includes,i.prototype.contains=i.prototype.includes,Ke(P,n.prototype),Ke(A,r.prototype),Ke(z,i.prototype),Ke(et,n.prototype),Ke(nt,r.prototype),Ke(rt,i.prototype),{Iterable:e,Seq:M,Collection:tt,Map:pt,OrderedMap:Jt,List:Bt,Stack:Ge,Set:Re,OrderedSet:Ve,Record:ze,Range:Q,Repeat:$,is:Y,fromJS:q}})},function(t,e,n){function r(t,e){var n={};return e=a(e,3),o(t,function(t,r,o){i(n,e(t,r,o),t)}),n}var i=n(48),o=n(47),a=n(37);t.exports=r},function(t,e){t.exports={version:8,name:"Light",metadata:{"mapbox:autocomposite":!0,"mapbox:type":"default","mapbox:origin":"light-v9","mapbox:groups":{1444934828655.3389:{name:"Aeroways",collapsed:!0},1444933322393.2852:{name:"POI labels  (scalerank 1)",collapsed:!0},1444862578782.6787:{name:"Road labels",collapsed:!0},1444855786460.0557:{name:"Roads",collapsed:!0},1444934295202.7542:{name:"Admin boundaries",collapsed:!0},1444856151690.9143:{name:"State labels",collapsed:!0},1444933721429.3076:{name:"Road labels",collapsed:!0},1444933358918.2366:{name:"POI labels (scalerank 2)",collapsed:!0},1444933808272.805:{name:"Water labels",collapsed:!0},1444933372896.5967:{name:"POI labels (scalerank 3)",collapsed:!0},1444855799204.86:{name:"Bridges",collapsed:!0},1444856087950.3635:{name:"Marine labels",collapsed:!0},1456969573402.7817:{name:"Hillshading",collapsed:!0},1444862510685.128:{name:"City labels",collapsed:!0},1444855769305.6016:{name:"Tunnels",collapsed:!0},1456970288113.8113:{name:"Landcover",collapsed:!0},1444856144497.7825:{name:"Country labels",collapsed:!0}}},center:[-71.02,42.3624],zoom:10,sources:{composite:{url:"mapbox://mapbox.mapbox-terrain-v2,mapbox.mapbox-streets-v7",type:"vector"}},sprite:"mapbox://sprites/forrert/cjew9n2fu265o2rpeu33x4gg1",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",layout:{},paint:{"background-color":"hsl(55, 11%, 96%)"},interactive:!0},{id:"landcover_wood",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","wood"],layout:{},paint:{"fill-color":"hsl(0, 0%, 89%)","fill-opacity":.1,"fill-antialias":!1},interactive:!0},{id:"landcover_scrub",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","scrub"],layout:{},paint:{"fill-color":"hsl(0, 0%, 89%)","fill-opacity":.1,"fill-antialias":!1},interactive:!0},{id:"landcover_grass",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","grass"],layout:{},paint:{"fill-color":"hsl(0, 0%, 89%)","fill-opacity":.1,"fill-antialias":!1},interactive:!0},{id:"landcover_crop",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","crop"],layout:{},paint:{"fill-color":"hsl(0, 0%, 89%)","fill-opacity":.1,"fill-antialias":!1},interactive:!0},{id:"national_park",type:"fill",source:"composite","source-layer":"landuse_overlay",filter:["==","class","national_park"],layout:{},paint:{"fill-color":"hsl(150, 6%, 93%)","fill-opacity":{base:1,stops:[[5,0],[6,.5]]}},interactive:!0},{id:"parks",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","park"],layout:{},paint:{"fill-color":"hsl(150, 6%, 93%)","fill-opacity":{base:1,stops:[[5,0],[6,.75]]}},interactive:!0},{id:"pitch",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","pitch"],layout:{},paint:{"fill-color":"hsl(150, 6%, 93%)"},interactive:!0},{id:"industrial",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","industrial"],layout:{},paint:{"fill-color":"hsl(150, 6%, 93%)"},interactive:!0},{id:"sand",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","sand"],layout:{},paint:{"fill-color":"hsl(150, 6%, 93%)"},interactive:!0},{id:"hillshade_highlight_bright",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",94],layout:{},paint:{"fill-color":"#fff","fill-opacity":{stops:[[14,.08],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"hillshade_highlight_med",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",90],layout:{},paint:{"fill-color":"#fff","fill-opacity":{stops:[[14,.08],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"hillshade_shadow_faint",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",89],layout:{},paint:{"fill-color":"hsl(0, 0%, 35%)","fill-opacity":{stops:[[14,.033],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"hillshade_shadow_med",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",78],layout:{},paint:{"fill-color":"hsl(0, 0%, 35%)","fill-opacity":{stops:[[14,.033],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"hillshade_shadow_dark",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",67],layout:{},paint:{"fill-color":"hsl(0, 0%, 35%)","fill-opacity":{stops:[[14,.06],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"hillshade_shadow_extreme",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",56],layout:{},paint:{"fill-color":"hsl(0, 0%, 35%)","fill-opacity":{stops:[[14,.06],[16,0]]},"fill-antialias":!1},interactive:!0},{id:"waterway-river-canal",type:"line",source:"composite","source-layer":"waterway",minzoom:8,filter:["any",["==","class","canal"],["==","class","river"]],layout:{"line-cap":{base:1,stops:[[0,"butt"],[11,"round"]]},"line-join":"round"},paint:{"line-color":"#cbd3d4","line-width":{base:1.3,stops:[[8.5,.1],[20,8]]},"line-opacity":{base:1,stops:[[8,0],[8.5,1]]}},interactive:!0},{id:"water shadow",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(185, 7%, 73%)","fill-translate":{base:1.2,stops:[[7,[0,0]],[16,[-1,-1]]]},"fill-translate-anchor":"viewport","fill-opacity":1},interactive:!0},{id:"water",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(185, 9%, 81%)"},interactive:!0},{id:"barrier_line-land-polygon",type:"fill",source:"composite","source-layer":"barrier_line",filter:["all",["==","$type","Polygon"],["==","class","land"]],layout:{},paint:{"fill-color":"#f0f5f3"},interactive:!0},{id:"barrier_line-land-line",type:"line",source:"composite","source-layer":"barrier_line",filter:["all",["==","$type","LineString"],["==","class","land"]],layout:{"line-cap":"round"},paint:{"line-width":{base:1.99,stops:[[14,.75],[20,40]]},"line-color":"#f0f5f3"},interactive:!0},{id:"aeroway-polygon",type:"fill",metadata:{"mapbox:group":"1444934828655.3389"},source:"composite","source-layer":"aeroway",minzoom:11,filter:["all",["!=","type","apron"],["==","$type","Polygon"]],layout:{},paint:{"fill-color":"hsl(0, 0%, 97%)","fill-opacity":{base:1,stops:[[11,0],[11.5,1]]}},interactive:!0},{id:"aeroway-runway",type:"line",metadata:{"mapbox:group":"1444934828655.3389"},source:"composite","source-layer":"aeroway",minzoom:9,filter:["all",["==","$type","LineString"],["==","type","runway"]],layout:{},paint:{"line-color":"hsl(0, 0%, 95%)","line-width":{base:1.5,stops:[[9,1],[18,80]]}},interactive:!0},{id:"aeroway-taxiway",type:"line",metadata:{"mapbox:group":"1444934828655.3389"},source:"composite","source-layer":"aeroway",minzoom:9,filter:["all",["==","$type","LineString"],["==","type","taxiway"]],layout:{},paint:{"line-color":"hsl(0, 0%, 95%)","line-width":{base:1.5,stops:[[10,.5],[18,20]]}},interactive:!0},{id:"building",type:"fill",source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=","type","building:part"],["==","underground","false"]],layout:{},paint:{"fill-color":"hsl(55, 5%, 91%)","fill-opacity":{base:1,stops:[[15.5,0],[16,1]]},"fill-outline-color":"hsl(55, 3%, 87%)"},interactive:!0},{id:"tunnel-street-low",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}},interactive:!0},{id:"tunnel-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}},interactive:!0},{id:"tunnel-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-dasharray":[3,3]},interactive:!0},{id:"tunnel-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-dasharray":[3,3],"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"tunnel-street-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-dasharray":[3,3],"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"tunnel-secondary-tertiary-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-dasharray":[3,3],"line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(185, 12%, 89%)"},interactive:!0},{id:"tunnel-primary-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-dasharray":[3,3],"line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(185, 12%, 89%)"},interactive:!0},{id:"tunnel-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-dasharray":[3,3]},interactive:!0},{id:"tunnel-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-dasharray":[3,3]},interactive:!0},{id:"tunnel-trunk-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1,"line-dasharray":[3,3]},interactive:!0},{id:"tunnel-motorway-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(185, 12%, 89%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1,"line-dasharray":[3,3]},interactive:!0},{id:"tunnel-construction",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","tunnel"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}},interactive:!0},{id:"tunnel-path",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!=","type","steps"],["==","class","path"],["==","structure","tunnel"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-color":"hsl(0, 0%, 85%)","line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"tunnel-steps",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(0, 0%, 85%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"tunnel-trunk_link",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":1,"line-dasharray":[1,0]},interactive:!0},{id:"tunnel-motorway_link",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":1,"line-dasharray":[1,0]},interactive:!0},{id:"tunnel-pedestrian",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","tunnel"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}},interactive:!0},{id:"tunnel-service-link-track",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(187, 7%, 88%)","line-dasharray":[1,0]},interactive:!0},{id:"tunnel-street_limited",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"tunnel-street",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"tunnel-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":1,"line-dasharray":[1,0],"line-blur":0},interactive:!0},{id:"tunnel-primary",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(187, 7%, 88%)","line-opacity":1,"line-dasharray":[1,0],"line-blur":0},interactive:!0},{id:"tunnel-trunk",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(187, 7%, 88%)"},interactive:!0},{id:"tunnel-motorway",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-dasharray":[1,0],"line-opacity":1,"line-color":"hsl(187, 7%, 88%)","line-blur":0},interactive:!0},{id:"road-pedestrian-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","none"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,2],[18,14.5]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":0,"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-street-low",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{stops:[[11,0],[11.25,1],[14,1],[14.01,0]]}},interactive:!0},{id:"road-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{stops:[[11,0],[11.25,1],[14,1],[14.01,0]]}},interactive:!0},{id:"road-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["!in","structure","bridge","tunnel"],["in","class","link","service","track"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-street-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-main-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-primary-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:10,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}},interactive:!0},{id:"road-trunk-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[5,.5],[9,1.4],[18,32]]},"line-opacity":{base:1,stops:[[6,0],[6.1,1]]}},interactive:!0},{id:"road-motorway-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":{base:1,stops:[[9,"hsl(156, 7%, 87%)"],[11,"#e8edeb"]]},"line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1},interactive:!0},{id:"road-construction",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","none"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}},interactive:!0},{id:"road-sidewalks",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:16,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","type","crossing","sidewalk"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"#fff","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[16,0],[16.25,1]]}},interactive:!0},{id:"road-path",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["!in","type","crossing","sidewalk","steps"],["==","class","path"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"#fff","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"road-steps",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"#fff","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"road-trunk_link",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":1},interactive:!0},{id:"road-motorway_link",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:10,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":1},interactive:!0},{id:"road-pedestrian",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","none"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"#fff","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}},interactive:!0},{id:"road-service-link-track",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["!in","structure","bridge","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"#fff"},interactive:!0},{id:"road-street_limited",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"road-street",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"road-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"#fff","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}},interactive:!0},{id:"road-primary",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}},interactive:!0},{id:"road-trunk",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.5],[9,1.4],[18,32]]},"line-color":"#fff","line-opacity":1},interactive:!0},{id:"road-motorway",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff","line-opacity":1},interactive:!0},{id:"road-rail",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","major_rail","minor_rail"]]],layout:{"line-join":"round"},paint:{"line-color":"#e8edeb","line-width":{base:1,stops:[[14,.75],[20,1]]}},interactive:!0},{id:"bridge-pedestrian-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,2],[18,14.5]]},"line-color":"#e8edeb","line-gap-width":0,"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"bridge-street-low",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}},interactive:!0},{id:"bridge-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}},interactive:!0},{id:"bridge-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","bridge"],["in","class","link","service","track"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]}},interactive:!0},{id:"bridge-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]}},interactive:!0},{id:"bridge-street-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]}},interactive:!0},{id:"bridge-secondary-tertiary-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","class","secondary","tertiary"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-translate":[0,0]},interactive:!0},{id:"bridge-primary-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-translate":[0,0]},interactive:!0},{id:"bridge-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[10.99,0],[11,1]]}},interactive:!0},{id:"bridge-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["<=","layer",1],["==","class","motorway_link"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":1},interactive:!0},{id:"bridge-trunk-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[10,1],[16,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}},interactive:!0},{id:"bridge-motorway-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}},interactive:!0},{id:"bridge-construction",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","bridge"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}},interactive:!0},{id:"bridge-path",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!=","type","steps"],["==","class","path"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"#fff","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"bridge-steps",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"#fff","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}},interactive:!0},{id:"bridge-trunk_link",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","structure","bridge"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff"},interactive:!0},{id:"bridge-motorway_link",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","motorway_link"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff"},interactive:!0},{id:"bridge-pedestrian",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"#fff","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}},interactive:!0},{id:"bridge-service-link-track",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","bridge"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"#fff"},interactive:!0},{id:"bridge-street_limited",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"bridge-street",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"#fff","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}},interactive:!0},{id:"bridge-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","type","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"#fff","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}},interactive:!0},{id:"bridge-primary",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}},interactive:!0},{id:"bridge-trunk",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","trunk"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff"},interactive:!0},{id:"bridge-motorway",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","motorway"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff"},interactive:!0},{id:"bridge-rail",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","class","major_rail","minor_rail"]]],layout:{"line-join":"round"},paint:{"line-color":"#e8edeb","line-width":{base:1,stops:[[14,.75],[20,1]]}},interactive:!0},{id:"bridge-trunk_link-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[10.99,0],[11,1]]}},interactive:!0},{id:"bridge-motorway_link-2-case copy",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":1},interactive:!0},{id:"bridge-trunk-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[10,1],[16,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}},interactive:!0},{id:"bridge-motorway-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"#e8edeb","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}},interactive:!0},{id:"bridge-trunk_link-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff"},interactive:!0},{id:"bridge-motorway_link-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"#fff"},interactive:!0},{id:"bridge-trunk-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff"},interactive:!0},{id:"bridge-motorway-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"#fff"},interactive:!0},{id:"admin-3-4-boundaries-bg",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",filter:["all",["==","maritime",0],[">=","admin_level",3]],layout:{"line-join":"bevel"},paint:{"line-color":"hsl(0, 0%, 84%)","line-width":{base:1,stops:[[3,3.5],[10,8]]},"line-opacity":{base:1,stops:[[4,0],[7,.5],[8,.75]]},"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":{base:1,stops:[[3,0],[8,3]]}},interactive:!0},{id:"admin-2-boundaries-bg",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","maritime",0]],layout:{"line-join":"miter"},paint:{"line-width":{base:1,stops:[[3,3.5],[10,10]]},"line-color":"hsl(0, 0%, 84%)","line-opacity":{base:1,stops:[[3,0],[4,.5]]},"line-translate":[0,0],"line-blur":{base:1,stops:[[3,0],[10,2]]}},interactive:!0},{id:"admin-3-4-boundaries",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",filter:["all",["==","maritime",0],[">=","admin_level",3]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-dasharray":{base:1,stops:[[6,[2,0]],[7,[2,2,6,2]]]},"line-width":{base:1,stops:[[7,.75],[12,1.5]]},"line-opacity":{base:1,stops:[[2,0],[3,1]]},"line-color":{base:1,stops:[[4,"hsl(0, 0%, 80%)"],[5,"hsl(0, 0%, 70%)"]]}},interactive:!0},{id:"admin-2-boundaries",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","disputed",0],["==","maritime",0]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":{base:1,stops:[[3,"hsl(0, 0%, 70%)"],[4,"hsl(0, 0%, 62%)"]]},"line-width":{base:1,stops:[[3,.5],[10,2]]}},interactive:!0},{id:"admin-2-boundaries-dispute",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","disputed",1],["==","maritime",0]],layout:{"line-join":"round"},paint:{"line-dasharray":[1.5,1.5],"line-color":{base:1,stops:[[3,"hsl(0, 0%, 70%)"],[4,"hsl(0, 0%, 62%)"]]},"line-width":{base:1,stops:[[3,.5],[10,2]]}},interactive:!0},{id:"waterway-label",type:"symbol",source:"composite","source-layer":"waterway_label",minzoom:12,filter:["in","class","canal","river"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-max-angle":30,"text-size":{base:1,stops:[[13,12],[18,16]]}},paint:{"text-halo-width":0,"text-halo-blur":0,"text-color":"#78888a"},interactive:!0},{id:"poi-scalerank3",type:"symbol",metadata:{"mapbox:group":"1444933372896.5967"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["==","scalerank",3]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[16,11],[20,13]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":1,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"#949494","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"poi-parks-scalerank3",type:"symbol",metadata:{"mapbox:group":"1444933372896.5967"},source:"composite","source-layer":"poi_label",filter:["all",["==","scalerank",3],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[16,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-halo-blur":0,"text-halo-color":"#ffffff","text-halo-width":1,"text-color":"#949494"},interactive:!0},{id:"road-label-small",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:15,filter:["all",["!in","class","ferry","golf","link","motorway","path","pedestrian","primary","secondary","street","street_limited","tertiary","track","trunk"],["==","$type","LineString"]],layout:{"text-size":{base:1,stops:[[15,10],[20,13]]},"text-max-angle":30,"symbol-spacing":500,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"#6B6B6B","text-halo-color":"#ffffff","text-halo-width":1.25,"text-halo-blur":0},interactive:!0},{id:"road-label-medium",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:13,filter:["all",["==","$type","LineString"],["in","class","link","pedestrian","street","street_limited"]],layout:{"text-size":{base:1,stops:[[11,10],[20,14]]},"text-max-angle":30,"symbol-spacing":500,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"#6B6B6B","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"road-label-large",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:12,filter:["in","class","motorway","primary","secondary","tertiary","trunk"],layout:{"text-size":{base:1,stops:[[9,10],[20,16]]},"text-max-angle":30,"symbol-spacing":400,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"#6B6B6B","text-halo-color":"rgba(255,255,255, 0.75)","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"poi-scalerank2",type:"symbol",metadata:{"mapbox:group":"1444933358918.2366"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["==","scalerank",2]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[14,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"#949494","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"poi-parks-scalerank2",type:"symbol",metadata:{"mapbox:group":"1444933358918.2366"},source:"composite","source-layer":"poi_label",filter:["all",["==","scalerank",2],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[14,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"#949494","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"water-label",type:"symbol",metadata:{"mapbox:group":"1444933808272.805"},source:"composite","source-layer":"water_label",minzoom:5,filter:[">","area",1e4],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-max-width":7,"text-size":{base:1,stops:[[13,13],[18,18]]}},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"poi-parks-scalerank1",type:"symbol",metadata:{"mapbox:group":"1444933322393.2852"},source:"composite","source-layer":"poi_label",filter:["all",["<=","scalerank",1],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,11],[18,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(0, 0%, 58%)","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"poi-scalerank1",type:"symbol",metadata:{"mapbox:group":"1444933322393.2852"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["<=","scalerank",1]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,11],[18,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(0, 0%, 58%)","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"airport-label",type:"symbol",source:"composite","source-layer":"airport_label",minzoom:10,filter:["<=","scalerank",2],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,12],[18,18]]},"icon-image":{stops:[[12,"{maki}-11"],[13,"{maki}-15"]]},"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,.75],"text-anchor":"top","text-field":{stops:[[11,"{ref}"],[14,"{name_en}"]]},"text-letter-spacing":.01,"text-max-width":9},paint:{"text-color":"#6B6B6B","text-halo-color":"#ffffff","text-halo-width":.5,"text-halo-blur":0},interactive:!0},{id:"place-islets-archipelago-aboriginal",type:"symbol",source:"composite","source-layer":"place_label",maxzoom:16,filter:["in","type","aboriginal_lands","archipelago","islet"],layout:{"text-line-height":1.2,"text-size":{base:1,stops:[[10,11],[18,16]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"#6B6B6B","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"place-neighbourhood",type:"symbol",source:"composite","source-layer":"place_label",minzoom:12,maxzoom:16,filter:["==","type","neighbourhood"],layout:{"text-field":"{name_en}","text-transform":"uppercase","text-letter-spacing":.1,"text-max-width":7,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":3,"text-size":{base:1,stops:[[12,11],[16,16]]}},paint:{"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1,"text-color":"hsl(0, 0%, 62%)","text-halo-blur":0},interactive:!0},{id:"place-suburb",type:"symbol",source:"composite","source-layer":"place_label",minzoom:11,maxzoom:16,filter:["==","type","suburb"],layout:{"text-field":"{name_en}","text-transform":"uppercase","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":.15,"text-max-width":7,"text-padding":3,"text-size":{base:1,stops:[[11,11],[15,18]]}},paint:{"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1,"text-color":"hsl(0, 0%, 62%)","text-halo-blur":0},interactive:!0},{id:"place-hamlet",type:"symbol",source:"composite","source-layer":"place_label",minzoom:10,maxzoom:16,filter:["==","type","hamlet"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[12,11.5],[15,16]]}},paint:{"text-halo-color":"#ffffff","text-halo-width":1.25,"text-color":"hsl(0, 0%, 62%)","text-halo-blur":0},interactive:!0},{id:"place-village",type:"symbol",source:"composite","source-layer":"place_label",minzoom:11,maxzoom:15,filter:["==","type","village"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-max-width":7,"text-size":{base:1,stops:[[10,11.5],[16,18]]},"text-offset":[0,0]},paint:{"text-halo-color":"#ffffff","text-halo-width":1.25,"text-color":{base:1,stops:[[10,"hsl(0, 0%, 62%)"],[11,"hsl(0, 0%, 55%)"]]},"text-halo-blur":0},interactive:!0},{id:"place-town",type:"symbol",source:"composite","source-layer":"place_label",minzoom:7,maxzoom:15,filter:["==","type","town"],layout:{"text-size":{base:1,stops:[[7,11.5],[15,20]]},"text-font":{base:1,stops:[[11,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[12,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-max-width":7},paint:{"text-color":{base:1,stops:[[10,"hsl(0, 0%, 62%)"],[11,"hsl(0, 0%, 55%)"]]},"text-halo-color":"#ffffff","text-halo-width":1.25,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0},interactive:!0},{id:"place-islands",type:"symbol",source:"composite","source-layer":"place_label",maxzoom:16,filter:["==","type","island"],layout:{"text-line-height":1.2,"text-size":{base:1,stops:[[10,11],[18,16]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":7},paint:{"text-color":"#6B6B6B","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"place-city-sm",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["!in","scalerank",0,1,2,3,4,5],["==","type","city"]],layout:{"text-size":{base:1,stops:[[6,12],[14,22]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-offset":[0,0],"text-field":"{name_en}","text-max-width":7},paint:{"text-color":"hsl(0, 0%, 42%)","text-halo-color":"#ffffff","text-halo-width":1.25,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0},interactive:!0},{id:"place-city-md-s",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["==","type","city"],["in","ldir","E","S","SE","SW"],["in","scalerank",3,4,5]],layout:{"text-field":"{name_en}","text-size":{base:.9,stops:[[5,12],[12,22]]},"text-anchor":"top","text-offset":{base:1,stops:[[7.99,[0,.1]],[8,[0,0]]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"icon-image":"dot-10"},paint:{"text-halo-width":1,"text-halo-color":"#ffffff","text-color":"hsl(0, 0%, 42%)","text-halo-blur":0,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]}},interactive:!0},{id:"place-city-md-n",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["==","type","city"],["in","ldir","N","NE","NW","W"],["in","scalerank",3,4,5]],layout:{"text-size":{base:.9,stops:[[5,12],[12,22]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,-.25]],[8,[0,0]]]},"text-anchor":"bottom","text-field":"{name_en}","text-max-width":7,"icon-image":"dot-10"},paint:{"text-color":"hsl(0, 0%, 42%)","text-halo-color":"#ffffff","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0},interactive:!0},{id:"place-city-lg-s",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:14,filter:["all",["<=","scalerank",2],["==","type","city"],["in","ldir","E","S","SE","SW"]],layout:{"text-size":{base:.9,stops:[[4,12],[10,22]]},"icon-image":"dot-11","text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,.15]],[8,[0,0]]]},"icon-size":1,"text-anchor":{base:1,stops:[[7,"top"],[8,"center"]]},"text-field":"{name_en}","text-max-width":7},paint:{"text-color":"hsl(0, 0%, 42%)","text-halo-color":"#ffffff","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0},interactive:!0},{id:"place-city-lg-n",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:14,filter:["all",["<=","scalerank",2],["==","type","city"],["in","ldir","N","NE","NW","W"]],layout:{"text-size":{base:.9,stops:[[4,12],[10,22]]},"icon-image":"dot-11","text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,-.25]],[8,[0,0]]]},"icon-size":1,"text-anchor":{base:1,stops:[[7,"bottom"],[8,"center"]]},"text-field":"{name_en}","text-max-width":7},paint:{"text-color":"hsl(0, 0%, 42%)","text-opacity":1,"text-halo-color":"#ffffff","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0},interactive:!0},{id:"marine-label-sm-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:3,maxzoom:10,filter:["all",["==","$type","LineString"],[">=","labelrank",4]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[3,12],[6,16]]},"symbol-spacing":{base:1,stops:[[4,100],[6,400]]},"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.1,"text-max-width":5},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"marine-label-sm-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:3,maxzoom:10,filter:["all",["==","$type","Point"],[">=","labelrank",4]],layout:{"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.1,"text-line-height":1.5,"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,12],[6,16]]}},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"marine-label-md-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:2,maxzoom:8,filter:["all",["==","$type","LineString"],["in","labelrank",2,3]],layout:{"text-line-height":1.1,"text-size":{base:1.1,stops:[[2,12],[5,20]]},"symbol-spacing":250,"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.15,"text-max-width":5},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"marine-label-md-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:2,maxzoom:8,filter:["all",["==","$type","Point"],["in","labelrank",2,3]],layout:{"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.15,"text-line-height":1.5,"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-size":{base:1.1,stops:[[2,14],[5,20]]}},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"marine-label-lg-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:1,maxzoom:4,filter:["all",["==","$type","LineString"],["==","labelrank",1]],layout:{"text-field":"{name_en}","text-max-width":4,"text-letter-spacing":.25,"text-line-height":1.1,"symbol-placement":"line","text-pitch-alignment":"viewport","text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[1,14],[4,30]]}},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"marine-label-lg-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:1,maxzoom:4,filter:["all",["==","$type","Point"],["==","labelrank",1]],layout:{"text-field":"{name_en}","text-max-width":4,"text-letter-spacing":.25,"text-line-height":1.5,"text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[1,14],[4,30]]}},paint:{"text-color":"#78888a","text-halo-blur":0},interactive:!0},{id:"state-label-sm",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:9,filter:["<","area",2e4],layout:{"text-size":{base:1,stops:[[6,10],[9,14]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-field":{base:1,stops:[[0,"{abbr}"],[6,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":5},paint:{"text-opacity":1,"text-color":"#a8a8a8","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"state-label-md",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:8,filter:["all",["<","area",8e4],[">=","area",2e4]],layout:{"text-size":{base:1,stops:[[5,10],[8,16]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-field":{base:1,stops:[[0,"{abbr}"],[5,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":6},paint:{"text-opacity":1,"text-color":"#a8a8a8","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"state-label-lg",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:7,filter:[">=","area",8e4],layout:{"text-size":{base:1,stops:[[4,10],[7,18]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-padding":1,"text-field":{base:1,stops:[[0,"{abbr}"],[4,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":6},paint:{"text-opacity":1,"text-color":"#a8a8a8","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":0},interactive:!0},{id:"country-label-sm",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:10,filter:[">=","scalerank",5],layout:{"text-field":"{name_en}","text-max-width":6,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:.9,stops:[[5,14],[9,22]]}},paint:{"text-halo-width":1.25,"text-halo-color":{base:1,stops:[[2,"rgba(255,255,255,0.75)"],[3,"#fff"]]},"text-color":"#6b6b6b","text-halo-blur":0},interactive:!0},{id:"country-label-md",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:8,filter:["in","scalerank",3,4],layout:{"text-field":{base:1,stops:[[0,"{code}"],[2,"{name_en}"]]},"text-max-width":6,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,10],[8,24]]}},paint:{"text-halo-width":1.25,"text-halo-color":{base:1,stops:[[2,"rgba(255,255,255,0.75)"],[3,"#fff"]]},"text-color":"#6b6b6b","text-halo-blur":0},interactive:!0},{id:"country-label-lg",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:7,filter:["in","scalerank",1,2],layout:{"text-field":"{name_en}","text-max-width":{base:1,stops:[[0,5],[3,6]]},"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[1,10],[6,24]]}},paint:{"text-halo-width":1.25,"text-halo-color":{base:1,stops:[[2,"rgba(255,255,255,0.75)"],[3,"#fff"]]},"text-color":"#6b6b6b","text-halo-blur":0},interactive:!0}],created:"2018-03-18T03:53:01.549Z",id:"cjew9n2fu265o2rpeu33x4gg1",modified:"2018-03-18T03:53:01.549Z",owner:"forrert",visibility:"private",draft:!1}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),l=n.n(s),u=n(23),c=n(138),p=n.n(c),f=n(18),h=n(146),d=n(101),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=[{prop:"mapboxApiAccessToken",label:"Enter your Mapbox API Token",type:"string"}],v=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onChange=function(t,e){n.setState(r({},t,e))},n.onSubmit=function(){(0,n.props.updateViewport)(n.state)},n.state={},n}return a(e,t),m(e,[{key:"render",value:function(){return l.a.createElement(f.f,null,l.a.createElement(h.a,{fields:y,onChange:this.onChange,record:this.getRecord()}),l.a.createElement(f.a,{onClick:this.onSubmit,color:"primary"},"Save"))}},{key:"getRecord",value:function(){var t=this.props.mapboxApiAccessToken;return Object.assign({mapboxApiAccessToken:t},this.state)}}]),e}(s.Component),g=function(t){return{mapboxApiAccessToken:p()(t,"map.mapboxApiAccessToken")}};e.a=Object(u.b)(g,{updateViewport:d.b})(v)},function(t,e,n){"use strict";var r=n(61),i=n(581),o=n.n(i),a=n(582),s=n.n(a),l=n(587),u=Object(r.d)(Object(r.a)(o.a),s()());e.a=Object(r.e)(l.a,u)},function(t,e,n){(function(t){!function(t,n){n(e)}(0,function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function u(t){var e="undefined"==typeof t?"undefined":P(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t,e,n,r,p,f,h){p=p||[],h=h||[];var d=p.slice(0);if("undefined"!=typeof f){if(r){if("function"==typeof r&&r(d,f))return;if("object"===("undefined"==typeof r?"undefined":P(r))){if(r.prefilter&&r.prefilter(d,f))return;if(r.normalize){var m=r.normalize(d,f,t,e);m&&(t=m[0],e=m[1])}}}d.push(f)}"regexp"===u(t)&&"regexp"===u(e)&&(t=t.toString(),e=e.toString());var y="undefined"==typeof t?"undefined":P(t),v="undefined"==typeof e?"undefined":P(e),g="undefined"!==y||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(f),b="undefined"!==v||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(f);if(!g&&b)n(new o(d,e));else if(!b&&g)n(new a(d,t));else if(u(t)!==u(e))n(new i(d,t,e));else if("date"===u(t)&&t-e!==0)n(new i(d,t,e));else if("object"===y&&null!==t&&null!==e)if(h.filter(function(e){return e.lhs===t}).length)t!==e&&n(new i(d,t,e));else{if(h.push({lhs:t,rhs:e}),Array.isArray(t)){var _;for(t.length,_=0;_<t.length;_++)_>=e.length?n(new s(d,_,new a(void 0,t[_]))):c(t[_],e[_],n,r,d,_,h);for(;_<e.length;)n(new s(d,_,new o(void 0,e[_++])))}else{var x=Object.keys(t),w=Object.keys(e);x.forEach(function(i,o){var a=w.indexOf(i);a>=0?(c(t[i],e[i],n,r,d,i,h),w=l(w,a)):c(t[i],void 0,n,r,d,i,h)}),w.forEach(function(t){c(void 0,e[t],n,r,d,t,h)})}h.length=h.length-1}else t!==e&&("number"===y&&isNaN(t)&&isNaN(e)||n(new i(d,t,e)))}function p(t,e,n,r){return r=r||[],c(t,e,function(t){t&&r.push(t)},n),r.length?r:void 0}function f(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":f(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":f(t[e],n.index,n.item);break;case"D":t=l(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function h(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":f(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":d(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=l(t,e)}return t}function m(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function y(t,e,n){if(t&&e){c(t,e,function(r){n&&!n(t,e,r)||h(t,e,r)})}}function v(t){return"color: "+j[t].color+"; font-weight: bold"}function g(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function b(t,e,n,r){var i=p(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}i?i.forEach(function(t){var e=t.kind,r=g(t);n.log.apply(n,["%c "+j[e].text,v(e)].concat(A(r)))}):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(t){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function _(t,e,n,r){switch("undefined"==typeof t?"undefined":P(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,A(n)):t[r];case"function":return t(e);default:return t}}function x(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return o.push("%c"+String(t.type)),e&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function w(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?x(e):i,a=e.collapsed,s=e.colors,l=e.level,u=e.diff,c="undefined"==typeof e.titleFormatter;t.forEach(function(i,p){var f=i.started,h=i.startedTime,d=i.action,m=i.prevState,y=i.error,v=i.took,g=i.nextState,x=t[p+1];x&&(g=x.prevState,v=x.started-f);var w=r(d),k="function"==typeof a?a(function(){return g},d,i):a,E=O(h),S=s.title?"color: "+s.title(w)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),e.timestamp&&C.push("color: gray; font-weight: lighter;"),e.duration&&C.push("color: gray; font-weight: lighter;");var T=o(w,E,v);try{k?s.title&&c?n.groupCollapsed.apply(n,["%c "+T].concat(C)):n.groupCollapsed(T):s.title&&c?n.group.apply(n,["%c "+T].concat(C)):n.group(T)}catch(t){n.log(T)}var M=_(l,w,[m],"prevState"),P=_(l,w,[w],"action"),A=_(l,w,[y,m],"error"),z=_(l,w,[g],"nextState");if(M)if(s.prevState){var j="color: "+s.prevState(m)+"; font-weight: bold";n[M]("%c prev state",j,m)}else n[M]("prev state",m);if(P)if(s.action){var I="color: "+s.action(w)+"; font-weight: bold";n[P]("%c action    ",I,w)}else n[P]("action    ",w);if(y&&A)if(s.error){var L="color: "+s.error(y,m)+"; font-weight: bold;";n[A]("%c error     ",L,y)}else n[A]("error     ",y);if(z)if(s.nextState){var D="color: "+s.nextState(g)+"; font-weight: bold";n[z]("%c next state",D,g)}else n[z]("next state",g);u&&b(m,g,n,k);try{n.groupEnd()}catch(t){n.log("\u2014\u2014 log end \u2014\u2014")}})}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},I,t),n=e.logger,r=e.stateTransformer,i=e.errorTransformer,o=e.predicate,a=e.logErrors,s=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var l=[];return function(t){var n=t.getState;return function(t){return function(u){if("function"==typeof o&&!o(n,u))return t(u);var c={};l.push(c),c.started=M.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=u;var p=void 0;if(a)try{p=t(u)}catch(t){c.error=i(t)}else p=t(u);c.took=M.now()-c.started,c.nextState=r(n());var f=e.diff&&"function"==typeof s?s(n,u):e.diff;if(w(l,Object.assign({},e,{diff:f})),l.length=0,c.error)throw c.error;return p}}}}var E,S,C=function(t,e){return new Array(e+1).join(t)},T=function(t,e){return C("0",e-t.toString().length)+t},O=function(t){return T(t.getHours(),2)+":"+T(t.getMinutes(),2)+":"+T(t.getSeconds(),2)+"."+T(t.getMilliseconds(),3)},M="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},z=[];E="object"===("undefined"==typeof t?"undefined":P(t))&&t?t:"undefined"!=typeof window?window:{},S=E.DeepDiff,S&&z.push(function(){"undefined"!=typeof S&&E.DeepDiff===p&&(E.DeepDiff=S,S=void 0)}),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return z&&(z.forEach(function(t){t()}),z=null),p},enumerable:!0}});var j={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},I={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?k()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=I,e.createLogger=k,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})})}).call(e,n(7))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=o({key:"redux",merge:u.default,slicer:s.default,serialize:JSON.stringify,deserialize:JSON.parse},e),r=n.key,i=n.merge,a=n.slicer,l=n.serialize,c=n.deserialize;return function(e){return function(n,o,s){"function"===typeof o&&"undefined"===typeof s&&(s=o,o=void 0);var u=void 0,p=void 0;try{u=c(localStorage.getItem(r)),p=i(o,u)}catch(t){console.warn("Failed to retrieve initialize state from localStorage:",t)}var f=e(n,p,s),h=a(t);return f.subscribe(function(){var t=f.getState(),e=h(t);try{localStorage.setItem(r,l(e))}catch(t){console.warn("Unable to persist state to localStorage:",t)}}),f}}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(583),s=r(a),l=n(586),u=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){switch((0,l.default)(t)){case"void":return function(t){return t};case"string":return function(e){return(0,a.default)(e,[t])};case"array":return function(e){return(0,a.default)(e,t)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(584),a=r(o),s=n(585),l=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n={};return e.forEach(function(e){var r=t[e];r&&(n[e]=r)}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t?i(t)?t.length?"array":"void":typeof t:"void"}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=Array.isArray||(Array.isArray=function(t){return""+t!==t&&"[object Array]"==={}.toString.call(t)});t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return e?i({},t,e):t}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r=n(61),i=n(588),o=n(589),a=n(590);e.a=Object(r.c)(Object(i.a)({map:o.a,dataSources:a.a}))},function(t,e,n){"use strict";function r(t){var e=t.initialState,n=void 0===e?{}:e;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments[1],i=t[r.type];return i?i(e,r.payload):e}}var i=n(205),o=n.n(i);e.a=function(t){return o()(t,r)}},function(t,e,n){"use strict";var r=n(101);e.a=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({initialState:{latitude:37.785164,longitude:-100,zoom:3.5,bearing:0,pitch:0,width:500,height:500}},r.a,function(t,e){return Object.assign({},t,e)})},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(20),a=n.n(o),s=n(591),l=n.n(s),u=n(594),c=n.n(u),p=n(170),f=function(t){return l()(a()(t),function(t){return parseInt(t,10)})+1||1};e.a=(i={initialState:{}},r(i,p.a,function(t,e){var n=e.record,i=f(t);return Object.assign({},t,r({},i,Object.assign({},n,{id:i})))}),r(i,p.c,function(t,e){var n=e.record;return Object.assign({},t,r({},n.id,n))}),r(i,p.b,function(t,e){var n=e.id;return Object.assign({},c()(t,[n]))}),i)},function(t,e,n){function r(t,e){return t&&t.length?i(t,a(e,2),o):void 0}var i=n(592),o=n(593),a=n(37);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===l?s===s&&!i(s):n(s,l)))var l=s,u=a}return u}var i=n(26);t.exports=r},function(t,e){function n(t,e){return t>e}t.exports=n},function(t,e,n){var r=n(69),i=n(161),o=n(595),a=n(21),s=n(28),l=n(599),u=n(142),c=n(164),p=u(function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,function(e){return e=a(e,t),u||(u=e.length>1),e}),s(t,c(t),n),u&&(n=i(n,7,l));for(var p=e.length;p--;)o(n,e[p]);return n});t.exports=p},function(t,e,n){function r(t,e){return e=i(e,t),null==(t=a(t,e))||delete t[s(o(e))]}var i=n(21),o=n(596),a=n(597),s=n(22);t.exports=r},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){return e.length<2?t:i(t,o(e,0,-1))}var i=n(46),o=n(598);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t){return i(t)?void 0:t}var i=n(160);t.exports=r},function(t,e,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/geojson-mapbox",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/geojson-mapbox/service-worker.js";a?(o(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(t)})}}function i(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):i(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.17d5648c.js.map